// Automatically generated file.  Do not edit!

'use strict';var b,h={X:{Sb:1,fd:2,Tb:3,hd:4}};
h.lb={};h.Mu=40;h.ev=125;h.Cz=5;h.Zz=10;h.kc=28;h.ku=h.kc;h.qz=8;h.tp=250;h.up=10;h.mz=30;h.uA=750;h.ZA=100;h.Dz=!0;h.hA=.45;h.iA=.65;h.ej={width:96,height:124,url:"sprites.png"};h.lb.Wd={Yb:-1,Pm:0,jd:1};h.MF=0;h.NF=1;h.KF=1;h.LF=2;h.bj=[];h.bj[h.X.Sb]=h.X.fd;h.bj[h.X.fd]=h.X.Sb;h.bj[h.X.Tb]=h.X.hd;h.bj[h.X.hd]=h.X.Tb;h.pu=null;h.Ap=1;h.qu=2;h.kj="VARIABLE";h.kB="VARIABLE_DYNAMIC";h.gv="PROCEDURE";h.XH="RENAME_VARIABLE_ID";h.JF="DELETE_VARIABLE_ID";h.lb.Rm="_TEMP_COLLAPSED_INPUT";h.lb.Qm="_TEMP_COLLAPSED_FIELD";
h.g={};h.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
h.P={};h.g.global.Blockly||(h.g.global.Blockly={});h.g.global.Blockly.Msg||(h.g.global.Blockly.Msg=h.P);h.g.sb={};h.g.sb.parse=function(a){a=String(a).toLowerCase().trim();var c=h.g.sb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?h.g.sb.ut(a,c,d):null};
h.g.sb.ut=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};h.g.sb.jx=function(a){a=h.g.sb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
h.g.sb.ox=function(a){var c=h.hA,d=255*h.iA,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=m;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=c,g=a}}return h.g.sb.ut(Math.floor(e),Math.floor(f),Math.floor(g))};
h.g.sb.Fq=function(a,c,d){a=h.g.sb.parse(a);if(!a)return null;c=h.g.sb.parse(c);if(!c)return null;a=h.g.sb.jx(a);c=h.g.sb.jx(c);return h.g.sb.ut(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};h.g.sb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};h.g.U=function(a,c){this.x=a;this.y=c};h.g.U.Kf=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};h.g.U.lr=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};h.g.U.AD=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};h.g.U.fl=function(a,c){return new h.g.U(a.x-c.x,a.y-c.y)};h.g.U.sum=function(a,c){return new h.g.U(a.x+c.x,a.y+c.y)};h.g.U.prototype.scale=function(a){this.x*=a;this.y*=a;return this};h.g.U.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};h.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};h.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};h.g.Ra={};h.g.Ra.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};h.g.Ra.Dt=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};h.g.Ra.Yv=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Ra.Dt(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
h.g.Ra.Zv=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Ra.Dt(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};h.g.Ra.Xy=function(a,c){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=h.g.Ra.lF(a[d],c);return a.join("\n")};
h.g.Ra.lF=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=h.g.Ra.Yy(d,a,c);e=h.g.Ra.Vt(d,a,c);a=h.g.Ra.mF(d,a);f++}while(e>g);return k};
h.g.Ra.Vt=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
h.g.Ra.Yy=function(a,c,d){for(var e=h.g.Ra.Vt(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=h.g.Ra.Vt(a,k,d);l>e&&(e=l,f=k)}return f?h.g.Ra.Yy(a,f,d):c};h.g.Ra.mF=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};h.g.kd=function(a,c){this.width=a;this.height=c};h.g.kd.Kf=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};h.g.style={};h.g.style.Mf=function(a){if("none"!=h.g.style.Yw(a,"display"))return h.g.style.Ww(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new h.g.kd(g,a)};h.g.style.Ww=function(a){return new h.g.kd(a.offsetWidth,a.offsetHeight)};h.g.style.Yw=function(a,c){return h.g.style.getComputedStyle(a,c)||h.g.style.LC(a,c)||a.style&&a.style[c]};
h.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};h.g.style.LC=function(a,c){return a.currentStyle?a.currentStyle[c]:null};h.g.style.ci=function(a){var c=new h.g.U(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new h.g.U(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
h.g.style.XC=function(){var a=document.body,c=document.documentElement;return new h.g.U(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};h.g.style.OJ=function(a,c){a.style.display=c?"":"none"};h.g.style.tJ=function(a){return"rtl"==h.g.style.Yw(a,"direction")};
h.g.style.IC=function(a){var c=h.g.style.getComputedStyle(a,"borderLeftWidth"),d=h.g.style.getComputedStyle(a,"borderRightWidth"),e=h.g.style.getComputedStyle(a,"borderTopWidth");a=h.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};h.g.style.GE=function(a,c){a=h.g.style.NC(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
h.g.style.NC=function(a,c){var d=h.g.style.ci(a),e=h.g.style.ci(c),f=h.g.style.IC(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=h.g.style.Ww(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new h.g.U(f,k)};h.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}h.g.userAgent.raw=a;var d=h.g.userAgent.raw.toUpperCase();h.g.userAgent.Yd=c("Trident")||c("MSIE");h.g.userAgent.Ch=c("Edge");h.g.userAgent.qA=c("JavaFX");h.g.userAgent.BF=(c("Chrome")||c("CriOS"))&&!h.g.userAgent.Ch;h.g.userAgent.Av=c("WebKit")&&!h.g.userAgent.Ch;h.g.userAgent.cA=c("Gecko")&&!h.g.userAgent.Av&&!h.g.userAgent.Yd&&!h.g.userAgent.Ch;h.g.userAgent.Jm=c("Android");h.g.userAgent.Bk=c("iPad");h.g.userAgent.Ju=c("iPod");h.g.userAgent.Iu=
c("iPhone")&&!h.g.userAgent.Bk&&!h.g.userAgent.Ju;h.g.userAgent.vA=c("Macintosh");h.g.userAgent.eB=h.g.userAgent.Bk||h.g.userAgent.Jm&&!c("Mobile")||c("Silk");h.g.userAgent.PG=!h.g.userAgent.eB&&(h.g.userAgent.Ju||h.g.userAgent.Iu||h.g.userAgent.Jm||c("IEMobile"))})(h.g.global.navigator&&h.g.global.navigator.userAgent||"");
h.g.OD=function(a){a.preventDefault();a.stopPropagation()};h.g.uo=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.vJ};
h.g.ne=function(a){var c=new h.g.U(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(h.g.ne.lB))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(h.g.ne.mB))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
h.g.yl=function(a){for(var c=0,d=0;a;){var e=h.g.ne(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new h.g.U(c,d)};h.g.ne.lB=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;h.g.ne.mB=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;h.g.Ll=function(a){return a.ctrlKey&&h.g.userAgent.vA?!0:2==a.button};
h.g.Ul=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};h.g.Vw=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*h.Mu,y:a.deltaY*h.Mu};case 2:return{x:a.deltaX*h.ev,y:a.deltaY*h.ev}}};h.g.aF=function(a){return h.g.Mt(a,!0)};h.g.dd=function(a){if("string"!=typeof a)return a;a=h.g.Mt(a,!1);return a.length?String(a[0]):""};
h.g.Uv=function(a){for(var c=h.P,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+d[e]+" in "+a)};
h.g.Mt=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=h.g.Ra.startsWith(l,"BKY_")?
l.substring(4):null)&&l in h.P?(f=h.P[l],"string"==typeof f?Array.prototype.push.apply(d,h.g.Mt(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};h.g.Lf=function(){for(var a=h.g.Lf.By.length,c=[],d=0;20>d;d++)c[d]=h.g.Lf.By.charAt(Math.random()*a);return c.join("")};
h.g.Lf.By="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
h.g.li=function(){if(void 0!==h.g.li.Nq)return h.g.li.Nq;if(!h.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=h.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
h.g.li.Nq="none"!==c;return h.g.li.Nq};h.g.vy=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};h.g.WC=function(){var a=h.g.style.XC();return new h.g.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};
h.g.Rk=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};h.g.QC=function(){var a=document.documentElement,c=window;return h.g.userAgent.Yd&&c.pageYOffset!=a.scrollTop?new h.g.U(a.scrollLeft,a.scrollTop):new h.g.U(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};h.g.Gr=function(a,c){var d=Object.create(null),e=r(a,!0);c&&(a=u(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;c=e[a];a++)d[c.type]?d[c.type]++:d[c.type]=1;return d};
h.g.LJ=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new h.g.U(d-e.left,c-e.top);c=h.g.yl(a.xb);return h.g.U.fl(d,c).scale(1/a.scale)};h.g.To=function(a){var c="string"==typeof a?h.g.dd(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{hD:d,Dl:h.g.sb.ox(d)};if(d=h.g.sb.parse(c))return{hD:null,Dl:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};h.Touch={};h.Touch.uv="ontouchstart"in h.g.global||!!(h.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!h.g.global.navigator||!h.g.global.navigator.maxTouchPoints&&!h.g.global.navigator.msMaxTouchPoints);h.Touch.zm=null;h.Touch.He={};
h.g.global.PointerEvent?h.Touch.He={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:h.Touch.uv&&(h.Touch.He={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});h.Bo=0;
h.zD=function(a,c){h.Vg();a.changedTouches&&1!=a.changedTouches.length||(h.Bo=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&ba(c,a)},h.uA))};h.Vg=function(){h.Bo&&(clearTimeout(h.Bo),h.Bo=0)};h.Touch.Fn=function(){h.Touch.zm=null};h.Touch.Et=function(a){return!h.Touch.sD(a)||h.Touch.TB(a)};
h.Touch.co=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};h.Touch.TB=function(a){var c=h.Touch.co(a);return void 0!==h.Touch.zm&&null!==h.Touch.zm?h.Touch.zm==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(h.Touch.zm=c,!0):!1};
h.Touch.IE=function(a){if(h.g.Ra.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};h.Touch.sD=function(a){return h.g.Ra.startsWith(a.type,"touch")||h.g.Ra.startsWith(a.type,"mouse")||h.g.Ra.startsWith(a.type,"pointer")};h.Touch.wo=function(a){return h.g.Ra.startsWith(a.type,"touch")||h.g.Ra.startsWith(a.type,"pointer")};
h.Touch.RE=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};h.N={};h.N.Ca=function(a,c,d,e,f,g){function k(t){var I=!f;t=h.Touch.RE(t);for(var L=0,J;J=t[L];L++)if(!I||h.Touch.Et(J))h.Touch.IE(J),d?e.call(d,J):e(J),l=!0}var l=!1,m=[];if(h.g.global.PointerEvent&&c in h.Touch.He)for(var n=0,p;p=h.Touch.He[c][n];n++)a.addEventListener(p,k,!1),m.push([a,p,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in h.Touch.He){var q=function(t){k(t);var I=!g;l&&I&&t.preventDefault()};for(n=0;p=h.Touch.He[c][n];n++)a.addEventListener(p,q,!1),m.push([a,p,q])}return m};
h.N.bind=function(a,c,d,e){function f(n){d?e.call(d,n):e(n)}var g=[];if(h.g.global.PointerEvent&&c in h.Touch.He)for(var k=0,l;l=h.Touch.He[c][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(c,f,!1),g.push([a,c,f]),c in h.Touch.He){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var p=n.changedTouches[0];n.clientX=p.clientX;n.clientY=p.clientY}f(n);n.preventDefault()};for(k=0;l=h.Touch.He[c][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
h.N.yb=function(a){for(;a.length;){var c=a.pop(),d=c[2];c[0].removeEventListener(c[1],d,!1)}return d};
h.v={};h.v.hk={};h.v.rk="default";h.v.R=function(a){this.Vl=a};h.v.R.prototype.toString=function(){return this.Vl};h.v.R.lu=new h.v.R("connectionChecker");h.v.R.qk=new h.v.R("cursor");h.v.R.Fb=new h.v.R("event");h.v.R.Ac=new h.v.R("field");h.v.R.RENDERER=new h.v.R("renderer");h.v.R.fB=new h.v.R("toolbox");h.v.R.mq=new h.v.R("theme");h.v.R.pI=new h.v.R("toolboxItem");h.v.R.Gp=new h.v.R("flyoutsVerticalToolbox");h.v.R.yu=new h.v.R("flyoutsHorizontalToolbox");h.v.R.Su=new h.v.R("metricsManager");
h.v.register=function(a,c,d,e){if(!(a instanceof h.v.R)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof c||""==c.trim())throw Error('Invalid name "'+c+'". The name must be a non-empty string.');c=c.toLowerCase();if(!d)throw Error("Can not register a null value");var f=h.v.hk[a];f||(f=h.v.hk[a]={});h.v.iF(a,d);if(!e&&f[c])throw Error('Name "'+c+'" with type "'+
a+'" already registered.');f[c]=d};h.v.iF=function(a,c){switch(a){case String(h.v.R.Ac):if("function"!=typeof c.ba)throw Error('Type "'+a+'" must have a fromJson function');}};h.v.unregister=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=h.v.hk[a];d&&d[c]?delete h.v.hk[a][c]:console.warn("Unable to unregister ["+c+"]["+a+"] from the registry.")};
h.v.Pw=function(a,c,d){a=String(a).toLowerCase();c=c.toLowerCase();var e=h.v.hk[a];if(!e||!e[c]){c="Unable to find ["+c+"]["+a+"] in the registry.";if(d)throw Error(c+" You must require or register a "+a+" plugin.");console.warn(c);return null}return e[c]};h.v.lJ=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();return(a=h.v.hk[a])?!!a[c]:!1};h.v.Ir=function(a,c,d){return h.v.Pw(a,c,d)};h.v.Or=function(a,c){return h.v.Pw(a,c,void 0)};
h.v.Gg=function(a,c,d){c=c.plugins[a.toString()]||h.v.rk;return"function"==typeof c?c:h.v.Ir(a,c,d)};h.h={};h.h.bx="";h.h.Ma=!0;h.h.hr=0;h.h.pk="create";h.h.uh=h.h.pk;h.h.Bh="delete";h.h.rp=h.h.Bh;h.h.Ui="change";h.h.sh=h.h.Ui;h.h.Gk="move";h.h.vh=h.h.Gk;h.h.Nk="var_create";h.h.sn="var_delete";h.h.uq="var_rename";h.h.rq="ui";h.h.Mm="drag";h.h.dj="selected";h.h.mk="click";h.h.Sp="marker_move";h.h.cu="bubble_open";h.h.pq="trashcan_open";h.h.qI="toolbox_item_select";h.h.nq="theme_change";h.h.tn="viewport_change";h.h.Sm="comment_create";h.h.ju="comment_delete";h.h.iu="comment_change";h.h.nk="comment_move";
h.h.Fp="finished_loading";h.h.lz=[h.h.uh,h.h.vh,h.h.Sm,h.h.nk];h.h.xk=[];h.h.Ga=function(a){h.h.isEnabled()&&(h.h.xk.length||setTimeout(h.h.DC,0),h.h.xk.push(a))};h.h.DC=function(){for(var a=h.h.filter(h.h.xk,!0),c=h.h.xk.length=0,d;d=a[c];c++)if(d.Xb){var e=h.qb.ul(d.Xb);if(e){var f=d;if(f.Ma)for(e.Mi.push(f),e.dm.length=0;e.Mi.length>e.Qu&&0<=e.Qu;)e.Mi.shift();for(var g=0;d=e.Jc[g];g++)d(f)}}};
h.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.Uj()){var k=[g.ls?h.h.rq:g.type,g.fb,g.Xb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==h.h.Gk&&l.index==f-1)m.Ai=g.Ai,m.zi=g.zi,m.Yg=g.Yg,l.index=f;else if(g.type==h.h.Ui&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type!=h.h.mk||m.type!=h.h.cu)e[k]={event:g,index:f},d.push(g)}a=d.filter(function(n){return!n.Uj()});c||a.reverse();
for(f=1;g=a[f];f++)g.type==h.h.Ui&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};h.h.VB=function(){for(var a=0,c;c=h.h.xk[a];a++)c.Ma=!1};h.h.disable=function(){h.h.hr++};h.h.enable=function(){h.h.hr--};h.h.isEnabled=function(){return 0==h.h.hr};h.h.Wb=function(){return h.h.bx};h.h.ta=function(a){h.h.bx="boolean"==typeof a?a?h.g.Lf():"":a};h.h.Mw=function(a){var c=[];a=r(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};
h.h.ba=function(a){var c=h.h.get(a.type);if(!c)throw Error("Unknown event type.");c=new c;c.ba(a);c.Xb=(void 0).id;return c};h.h.get=function(a){return h.v.Ir(h.v.R.Fb,a)};h.h.YI=function(a){if((a.type==h.h.Gk||a.type==h.h.pk)&&a.Xb){var c=h.qb.ul(a.Xb),d=c.Hc(a.fb);if(d){a=h.h.Ma;try{h.h.Ma=!1;var e=d.getParent();if(e&&e.isEnabled()){var f=r(d,!1);c=0;for(var g;g=f[c];c++)g.df(!0)}else if((d.S||d.Y)&&!c.$c()){do d.df(!1),d=u(d);while(d)}}finally{h.h.Ma=a}}}};
h.h.Abstract=function(){this.qd=null;this.Xb=void 0;this.group=h.h.Wb();this.Ma=h.h.Ma};b=h.h.Abstract.prototype;b.ls=!1;b.qa=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};b.ba=function(a){this.qd=!1;this.group=a.group};b.Uj=function(){return!1};b.run=function(){};function v(a){if(a.Xb)var c=h.qb.ul(a.Xb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};h.g.object={};h.g.object.W=function(a,c){a.A=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};h.g.object.Xg=function(a,c){for(var d in c)a[d]=c[d]};h.g.object.Aj=function(a,c){for(var d in c)a[d]=null!=c[d]&&"object"===typeof c[d]?h.g.object.Aj(a[d]||Object.create(null),c[d]):c[d];return a};h.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};h.g.xml={};h.g.xml.CA="https://developers.google.com/blockly/xml";h.g.xml.document=function(){return document};h.g.xml.createElement=function(a){return h.g.xml.document().createElementNS(h.g.xml.CA,a)};h.g.xml.createTextNode=function(a){return h.g.xml.document().createTextNode(a)};h.g.xml.YE=function(a){return(new DOMParser).parseFromString(a,"text/xml")};h.g.xml.Jd=function(a){return(new XMLSerializer).serializeToString(a)};h.Ha={Je:h.X.Sb,lc:h.X.Tb,Ce:5};h.g.D=function(a){this.XE=a};h.g.D.prototype.toString=function(){return this.XE};h.g.D.pp=new h.g.D("animate");h.g.D.fu=new h.g.D("circle");h.g.D.gu=new h.g.D("clipPath");h.g.D.ou=new h.g.D("defs");h.g.D.Cp=new h.g.D("feComposite");h.g.D.Oz=new h.g.D("feComponentTransfer");h.g.D.Pz=new h.g.D("feFlood");h.g.D.Qz=new h.g.D("feFuncA");h.g.D.Rz=new h.g.D("feGaussianBlur");h.g.D.Sz=new h.g.D("fePointLight");h.g.D.Tz=new h.g.D("feSpecularLighting");h.g.D.xu=new h.g.D("filter");h.g.D.kG=new h.g.D("foreignObject");
h.g.D.Qc=new h.g.D("g");h.g.D.Ak=new h.g.D("image");h.g.D.Ek=new h.g.D("line");h.g.D.Ge=new h.g.D("path");h.g.D.fv=new h.g.D("pattern");h.g.D.MA=new h.g.D("polygon");h.g.D.Mb=new h.g.D("rect");h.g.D.gj=new h.g.D("svg");h.g.D.tv=new h.g.D("text");h.g.D.vv=new h.g.D("tspan");h.g.j={};h.g.j.pn="http://www.w3.org/2000/svg";h.g.j.Ip="http://www.w3.org/1999/xhtml";h.g.j.ld="http://www.w3.org/1999/xlink";h.g.j.pg={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};h.g.j.ee=null;h.g.j.Kq=0;h.g.j.Cn=null;h.g.j.J=function(a,c,d){a=document.createElementNS(h.g.j.pn,String(a));for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
h.g.j.Nb=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};h.g.j.FJ=function(a,c){c=c.split(" ");for(var d=0;d<c.length;d++)h.g.j.cd(a,c[d])};h.g.j.cd=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};
h.g.j.Ur=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};h.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};h.g.j.Pj=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};h.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&h.g.j.pg.DOCUMENT_POSITION_CONTAINED_BY)};
h.g.j.hm=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};h.g.j.qm=function(){h.g.j.Kq++;h.g.j.ee||(h.g.j.ee={})};h.g.j.rm=function(){h.g.j.Kq--;h.g.j.Kq||(h.g.j.ee=null)};h.g.j.kJ=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(h.g.j.ee&&(d=h.g.j.ee[c]))return d;try{d=h.g.userAgent.Yd||h.g.userAgent.Ch?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}h.g.j.ee&&(h.g.j.ee[c]=d);return d};
h.g.j.Lr=function(a,c,d,e){return h.g.j.RC(a,c+"pt",d,e)};h.g.j.RC=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(h.g.j.ee&&(g=h.g.j.ee[a]))return g;h.g.j.Cn||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),h.g.j.Cn=g.getContext("2d"));h.g.j.Cn.font=d+" "+c+" "+e;g=h.g.j.Cn.measureText(f).width;h.g.j.ee&&(h.g.j.ee[a]=g);return g};
h.g.j.CD=function(a,c,d){var e=document.createElement("span");e.style.font=c+" "+a+" "+d;e.textContent="Hg";a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(e);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.ce=a.offsetTop-e.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(c)}return d};h.K={};h.K.Wy=function(a){var c=w,d=h.g.xml.createElement("xml"),e=h.K.jF(h.oa.Mv(c));e.hasChildNodes()&&d.appendChild(e);var f=[].concat(c.ip);1<f.length&&(c.ff.offset=Math.sin(h.g.td.Lt(h.qb.jv)),c.L&&(c.ff.offset*=-1),f.sort(c.ff));e=0;for(var g;g=f[e];e++)d.appendChild(g.Iy(a));c=c.tb(!0);for(e=0;f=c[e];e++)d.appendChild(h.K.Hq(f,a));return d};
h.K.jF=function(a){for(var c=h.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=h.g.xml.createElement("variable");f.appendChild(h.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.pc();c.appendChild(f)}return c};h.K.Hq=function(a,c){if(a.rd()&&(a=ca(a,!1)[0],!a))return new DocumentFragment;var d;a.B.L&&(d=a.B.Al());c=h.K.Cf(a,c);var e=a.Xa();c.setAttribute("x",Math.round(a.B.L?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
h.K.BC=function(a){var c=!1;a.name&&(a.kv?c=!0:a.tk&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=h.g.xml.createElement("field"),c.setAttribute("name",a.name||""),c.textContent=a.getValue(),c):null};h.K.uB=function(a,c){for(var d=0,e;e=a.T[d];d++)for(var f=0,g;g=e.eb[f];f++)(g=h.K.BC(g))&&c.appendChild(g)};
h.K.Cf=function(a,c){if(a.rd())return(a=ca(a,!1)[0])?h.K.Cf(a):new DocumentFragment;var d=h.g.xml.createElement(a.Qa?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.Pd){var e=a.Pd();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}h.K.uB(a,d);if(e=a.fe.text){var f=a.fe.size,g=a.fe.ay,k=h.g.xml.createElement("comment");k.appendChild(h.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&
(e=h.g.xml.createElement("data"),e.appendChild(h.g.xml.createTextNode(a.data)),d.appendChild(e));for(e=0;f=a.T[e];e++){var l;g=!0;if(f.type!=h.Ha.Ce){var m=f.connection.va();f.type==h.Ha.Je?l=h.g.xml.createElement("value"):f.type==h.Ha.lc&&(l=h.g.xml.createElement("statement"));k=f.connection.Kj();!k||m&&m.Qa||l.appendChild(h.K.Xv(k,c));m&&(k=h.K.Cf(m,c),k.nodeType==h.g.j.pg.ELEMENT_NODE&&(l.appendChild(k),g=!1));l.setAttribute("name",f.name);g||d.appendChild(l)}}void 0!=a.Of&&a.Of!=a.oD&&d.setAttribute("inline",
a.Of);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.Zc()||a.Qa||d.setAttribute("deletable",!1);a.rc()||a.Qa||d.setAttribute("movable",!1);a.Nd()||d.setAttribute("editable",!1);if(e=u(a))k=h.K.Cf(e,c),k.nodeType==h.g.j.pg.ELEMENT_NODE&&(l=h.g.xml.createElement("next"),l.appendChild(k),d.appendChild(l));k=a.Z&&a.Z.Kj();!k||e&&e.Qa||l.appendChild(h.K.Xv(k,c));return d};
h.K.Xv=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==h.g.j.pg.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&h.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==h.g.j.pg.TEXT_NODE&&""==e.data.trim()&&h.g.j.removeNode(e))}return a};h.K.Jd=function(a){return h.g.xml.Jd(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};
h.K.ZI=function(a){a=h.K.Jd(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};h.K.we=function(a){var c=h.g.xml.YE(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};
h.K.MI=function(a,c){c.Zb(!1);c.clear();a=h.K.Xh(a,c);c.Zb(!0);return a};
h.K.Xh=function(a,c){if(a instanceof h.qb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.L&&(e=c.Al());d=[];h.g.j.qm();var f=h.h.Wb();f||h.h.ta(!0);c.Zb&&c.Zb(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!h.h.Ma){var p=h.K.Dj(n,c);d.push(p.id);var q=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,t=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(q)||
isNaN(t)||p.moveBy(c.L?e-q:q,t);g=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.ua?h.mj?h.mj.rl(n):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):h.Ev?h.Ev.rl(n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(g)h.K.tC(n,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||h.h.ta(!1),h.g.j.rm()}c.Zb&&c.Zb(!0);h.h.Ga(new (h.h.get(h.h.Fp))(c));return d};h.K.DI=function(a,c){var d;Object.prototype.hasOwnProperty.call(c,"scale")&&(d=da(c));a=h.K.Xh(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.L?d.right:d.left;var g=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var m=c.Hc(a[d]).Xa();m.y<l&&(l=m.y);m.x<g&&(g=m.x);m.x>k&&(k=m.x)}e=e-l+10;f=c.L?f-k:f-g;for(d=0;d<a.length;d++)c.Hc(a[d]).moveBy(f,e)}return a};
h.K.Dj=function(a,c){if(a instanceof h.qb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}h.h.disable();d=c.$h();try{var e=h.K.nr(a,c),f=r(e,!1);if(c.ua){ea(e,!1);for(var g=f.length-1;0<=g;g--)f[g].Oj();for(g=f.length-1;0<=g;g--)f[g].Ja(!1);setTimeout(function(){e.If||ea(e,!0)},1);fa(e);ha(c)}else for(g=f.length-1;0<=g;g--);}finally{h.h.enable()}if(h.h.isEnabled()){a=h.oa.Kw(c,d);for(g=0;g<a.length;g++)c=a[g],h.h.Ga(new (h.h.get(h.h.Nk))(c));h.h.Ga(new (h.h.get(h.h.pk))(e))}return e};
h.K.tC=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==h.g.j.pg.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.ge(e.textContent,f,g)}};
h.K.BD=function(a){for(var c={Kx:[],Th:[],data:[],Gj:[],input:[],next:[]},d=0,e;e=a.childNodes[d];d++)if(e.nodeType!=h.g.j.pg.TEXT_NODE)switch(e.nodeName.toLowerCase()){case "mutation":c.Kx.push(e);break;case "comment":if(!h.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}c.Th.push(e);break;case "data":c.data.push(e);break;case "title":case "field":c.Gj.push(e);break;case "value":case "statement":c.input.push(e);break;case "next":c.next.push(e);break;default:console.warn("Ignoring unknown tag: "+
e.nodeName)}return c};h.K.AB=function(a,c){for(var d=!1,e=0,f;f=a[e];e++)c.Jf&&(c.Jf(f),c.Oj&&(d=!0));return d};h.K.wB=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.textContent,g="true"==e.getAttribute("pinned"),k=parseInt(e.getAttribute("w"),10);e=parseInt(e.getAttribute("h"),10);c.bk(f);c.fe.ay=g;isNaN(k)||isNaN(e)||(c.fe.size=new h.g.kd(k,e));g&&c.MC&&!c.ad&&setTimeout(function(){c.Hd.Hb(!0)},1)}};h.K.xB=function(a,c){for(var d=0,e;e=a[d];d++)c.data=e.textContent};
h.K.yB=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.getAttribute("name");h.K.sC(c,f,e)}};h.K.Fw=function(a){for(var c={Tk:null,Uk:null},d=0,e;e=a.childNodes[d];d++)e.nodeType==h.g.j.pg.ELEMENT_NODE&&("block"==e.nodeName.toLowerCase()?c.Tk=e:"shadow"==e.nodeName.toLowerCase()&&(c.Uk=e));return c};
h.K.zB=function(a,c,d,e){for(var f=0,g;g=a[f];f++){var k=g.getAttribute("name"),l=ia(d,k);if(!l){console.warn("Ignoring non-existent input "+k+" in block "+e);break}g=h.K.Fw(g);if(g.Tk){if(!l.connection)throw TypeError("Input connection does not exist.");h.K.nr(g.Tk,c,l.connection,!1)}g.Uk&&l.connection.km(g.Uk)}};
h.K.BB=function(a,c,d){for(var e=0,f;f=a[e];e++){f=h.K.Fw(f);if(f.Tk){if(!d.Z)throw TypeError("Next statement does not exist.");if(d.Z.isConnected())throw TypeError("Next statement is already connected.");h.K.nr(f.Tk,c,d.Z,!0)}f.Uk&&d.Z&&d.Z.km(f.Uk)}};
h.K.nr=function(a,c,d,e){var f=a.getAttribute("type");if(!f)throw TypeError("Block type unspecified: "+a.outerHTML);var g=a.getAttribute("id");g=c.Gs(f,g);var k=h.K.BD(a),l=h.K.AB(k.Kx,g);h.K.wB(k.Th,g);h.K.xB(k.data,g);if(d)if(e)if(g.Y)d.connect(g.Y);else throw TypeError("Next block does not have previous statement.");else if(g.S)d.connect(g.S);else if(g.Y)d.connect(g.Y);else throw TypeError("Child block does not have output or previous statement.");h.K.yB(k.Gj,g);h.K.zB(k.input,c,g,f);h.K.BB(k.next,
c,g);l&&g.Oj();(c=a.getAttribute("inline"))&&g.ue("true"==c);(c=a.getAttribute("disabled"))&&g.df("true"!=c&&"disabled"!=c);if(c=a.getAttribute("deletable"))g.qw="true"==c;(c=a.getAttribute("movable"))&&g.yt("true"==c);(c=a.getAttribute("editable"))&&g.xt("true"==c);(c=a.getAttribute("collapsed"))&&g.Gi("true"==c);if("shadow"==a.nodeName.toLowerCase()){a=ca(g,!1);for(c=0;d=a[c];c++)if(!d.Qa)throw TypeError("Shadow block not allowed non-shadow child.");if(ja(g).length)throw TypeError("Shadow blocks cannot have variable references.");
g.Bt(!0)}return g};h.K.sC=function(a,c,d){var e=ka(a,c);e?e.rl(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};h.K.mC=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};h.h.ze=function(a){h.h.ze.A.constructor.call(this);this.fb=(this.qd="undefined"==typeof a)?"":a.id;this.Xb=this.qd?"":a.B.id};h.g.object.W(h.h.ze,h.h.Abstract);h.h.ze.prototype.qa=function(){var a=h.h.ze.A.qa.call(this);a.blockId=this.fb;return a};h.h.ze.prototype.ba=function(a){h.h.ze.A.ba.call(this,a);this.fb=a.blockId};
h.h.Ah=function(a,c,d,e,f){h.h.Ah.A.constructor.call(this,a);a&&(this.element="undefined"==typeof c?"":c,this.name="undefined"==typeof d?"":d,this.oldValue="undefined"==typeof e?"":e,this.newValue="undefined"==typeof f?"":f)};h.g.object.W(h.h.Ah,h.h.ze);h.h.uF=h.h.Ah;b=h.h.Ah.prototype;b.type=h.h.Ui;b.qa=function(){var a=h.h.Ah.A.qa.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};
b.ba=function(a){h.h.Ah.A.ba.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};b.Uj=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=v(this).Hc(this.fb);if(c)switch(c.re&&c.re.Hb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=ka(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.bk(a||null);break;case "collapsed":c.Gi(!!a);break;case "disabled":c.df(!a);break;case "inline":c.ue(!!a);break;case "mutation":var d="";c.Pd&&(d=(d=c.Pd())&&h.K.Jd(d));if(c.Jf){var e=h.K.we(a||"<mutation/>");c.Jf(e)}h.h.Ga(new (h.h.get(h.h.Ui))(c,"mutation",
null,d,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.fb)};h.h.Ae=function(a){h.h.Ae.A.constructor.call(this,a);a&&(a.Qa&&(this.Ma=!1),this.xml=a.B.ua?h.K.Hq(a):h.K.Cf(a),this.ji=h.h.Mw(a))};h.g.object.W(h.h.Ae,h.h.ze);h.h.vF=h.h.Ae;h.h.Ae.prototype.type=h.h.pk;h.h.Ae.prototype.qa=function(){var a=h.h.Ae.A.qa.call(this);a.xml=h.K.Jd(this.xml);a.ids=this.ji;this.Ma||(a.recordUndo=this.Ma);return a};
h.h.Ae.prototype.ba=function(a){h.h.Ae.A.ba.call(this,a);this.xml=h.K.we(a.xml);this.ji=a.ids;void 0!==a.recordUndo&&(this.Ma=a.recordUndo)};h.h.Ae.prototype.run=function(a){var c=v(this);if(a)a=h.g.xml.createElement("xml"),a.appendChild(this.xml),h.K.Xh(a,c);else{a=0;for(var d;d=this.ji[a];a++){var e=c.Hc(d);e?e.I(!1):d==this.fb&&console.warn("Can't uncreate non-existent block: "+d)}}};
h.h.De=function(a){h.h.De.A.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.Qa&&(this.Ma=!1);this.Xj=a.B.ua?h.K.Hq(a):h.K.Cf(a);this.ji=h.h.Mw(a)}};h.g.object.W(h.h.De,h.h.ze);h.h.wF=h.h.De;h.h.De.prototype.type=h.h.Bh;h.h.De.prototype.qa=function(){var a=h.h.De.A.qa.call(this);a.oldXml=h.K.Jd(this.Xj);a.ids=this.ji;this.Ma||(a.recordUndo=this.Ma);return a};
h.h.De.prototype.ba=function(a){h.h.De.A.ba.call(this,a);this.Xj=h.K.we(a.oldXml);this.ji=a.ids;void 0!==a.recordUndo&&(this.Ma=a.recordUndo)};h.h.De.prototype.run=function(a){var c=v(this);if(a){a=0;for(var d;d=this.ji[a];a++){var e=c.Hc(d);e?e.I(!1):d==this.fb&&console.warn("Can't delete non-existent block: "+d)}}else a=h.g.xml.createElement("xml"),a.appendChild(this.Xj),h.K.Xh(a,c)};
h.h.Ih=function(a){h.h.Ih.A.constructor.call(this,a);a&&(a.Qa&&(this.Ma=!1),a=la(this),this.Sx=a.Yx,this.Px=a.px,this.Ks=a.kw)};h.g.object.W(h.h.Ih,h.h.ze);h.h.xF=h.h.Ih;b=h.h.Ih.prototype;b.type=h.h.Gk;b.qa=function(){var a=h.h.Ih.A.qa.call(this);this.Ai&&(a.newParentId=this.Ai);this.zi&&(a.newInputName=this.zi);this.Yg&&(a.newCoordinate=Math.round(this.Yg.x)+","+Math.round(this.Yg.y));this.Ma||(a.recordUndo=this.Ma);return a};
b.ba=function(a){h.h.Ih.A.ba.call(this,a);this.Ai=a.newParentId;this.zi=a.newInputName;if(a.newCoordinate){var c=a.newCoordinate.split(",");this.Yg=new h.g.U(Number(c[0]),Number(c[1]))}void 0!==a.recordUndo&&(this.Ma=a.recordUndo)};b.Di=function(){var a=la(this);this.Ai=a.Yx;this.zi=a.px;this.Yg=a.kw};function la(a){var c=v(a).Hc(a.fb);a={};var d=c.getParent();if(d){if(a.Yx=d.id,c=ma(d,c))a.px=c.name}else a.kw=c.Xa();return a}
b.Uj=function(){return this.Sx==this.Ai&&this.Px==this.zi&&h.g.U.Kf(this.Ks,this.Yg)};
b.run=function(a){var c=v(this),d=c.Hc(this.fb);if(d){var e=a?this.Ai:this.Sx,f=a?this.zi:this.Px,g=a?this.Yg:this.Ks;a=null;if(e&&(a=c.Hc(e),!a)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&x(d);if(g)f=d.Xa(),d.moveBy(g.x-f.x,g.y-f.y);else{d=d.S||d.Y;c=d.type;if(f){if(a=ia(a,f))var k=a.connection}else c==h.X.hd&&(k=a.Z);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.fb)};
h.v.register(h.v.R.Fb,h.h.pk,h.h.Ae);h.v.register(h.v.R.Fb,h.h.Bh,h.h.De);h.v.register(h.v.R.Fb,h.h.Ui,h.h.Ah);h.v.register(h.v.R.Fb,h.h.Gk,h.h.Ih);h.bb={};h.bb.jr=0;h.bb.Un=null;h.bb.qC=function(a){var c=a.B,d=a.ra();c.Uc.play("delete");a=na(c,d);d=d.cloneNode(!0);d.dF=a.x;d.eF=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");y(c).appendChild(d);d.Nv=d.getBBox();h.bb.Aw(d,c.L,new Date,c.scale)};h.bb.Aw=function(a,c,d,e){var f=(new Date-d)/150;1<f?h.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.dF+(c?-1:1)*a.Nv.width*e/2*f)+","+(a.eF+a.Nv.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(h.bb.Aw,10,a,c,d,e))};
h.bb.bC=function(a){var c=a.B,d=c.scale;c.Uc.play("click");if(!(1>d)){var e=na(c,a.ra());a.S?(e.x+=(a.L?3:-3)*d,e.y+=13*d):a.Y&&(e.x+=(a.L?-23:23)*d,e.y+=3*d);a=h.g.j.J(h.g.D.fu,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},y(c));h.bb.ew(a,new Date,d)}};h.bb.ew=function(a,c,d){var e=(new Date-c)/150;1<e?h.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,h.bb.jr=setTimeout(h.bb.ew,10,a,c,d))};
h.bb.pC=function(a){a.B.Uc.play("disconnect");if(!(1>a.B.scale)){var c=z(a).height;c=Math.atan(10/c)/Math.PI*180;a.L||(c*=-1);h.bb.zw(a.ra(),c,new Date)}};h.bb.zw=function(a,c,d){var e=(new Date-d)/200;1<e?a.pm="":(a.pm="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",h.bb.Un=a,h.bb.jr=setTimeout(h.bb.zw,10,a,c,d));a.setAttribute("transform",a.Am+a.pm)};h.bb.kr=function(){if(h.bb.Un){clearTimeout(h.bb.jr);var a=h.bb.Un;a.pm="";a.setAttribute("transform",a.Am);h.bb.Un=null}};h.h.ae=function(a){h.h.ae.A.constructor.call(this);this.qd="undefined"==typeof a;this.Xb=a?a:"";this.Ma=!1};h.g.object.W(h.h.ae,h.h.Abstract);h.h.ae.prototype.ls=!0;h.h.wg=function(a,c,d,e){h.h.wg.A.constructor.call(this,a?a.B.id:void 0);this.fb=a?a.id:null;this.element="undefined"==typeof c?"":c;this.oldValue="undefined"==typeof d?"":d;this.newValue="undefined"==typeof e?"":e};h.g.object.W(h.h.wg,h.h.ae);h.h.wg.prototype.type=h.h.rq;
h.h.wg.prototype.qa=function(){var a=h.h.wg.A.qa.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.fb&&(a.blockId=this.fb);return a};h.h.wg.prototype.ba=function(a){h.h.wg.A.ba.call(this,a);this.element=a.element;this.newValue=a.newValue;this.fb=a.blockId};h.v.register(h.v.R.Fb,h.h.rq,h.h.wg);h.h.cg=function(a,c,d){h.h.cg.A.constructor.call(this,a?a.B.id:void 0);this.fb=a?a.id:null;this.wx=c;this.Ov=d};h.g.object.W(h.h.cg,h.h.ae);h.h.cg.prototype.type=h.h.Mm;h.h.cg.prototype.qa=function(){var a=h.h.cg.A.qa.call(this);a.isStart=this.wx;a.blockId=this.fb;a.blocks=this.Ov;return a};h.h.cg.prototype.ba=function(a){h.h.cg.A.ba.call(this,a);this.wx=a.isStart;this.fb=a.blockId;this.Ov=a.blocks};h.v.register(h.v.R.Fb,h.h.Mm,h.h.cg);
h.Zd=function(a){this.Zf=h.selected=a;this.m=a.B;this.Tg=this.ns=null;this.ml=oa(this,this.Zf);this.tc=this.Bb=null;this.nf=!1;this.kl=this.Yr=this.ui=null;this.An=pa(this)};h.Zd.cj={Kp:0,mA:1,hv:2};h.Zd.prototype.I=function(){this.An.length=0;h.h.disable();try{this.ml&&this.ml.I(),this.Tg&&this.Tg.I()}finally{h.h.enable()}};
h.Zd.prototype.update=function(a,c){var d=this.Bb&&this.tc?h.ku:h.kc;for(var e=null,f=null,g=0;g<this.An.length;g++){var k=this.An[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.Xo)}e=(d={closest:e,local:f,Xo:d},!!d.closest)&&c!=h.qu;if((this.nf=!!c&&!this.Zf.getParent()&&this.Zf.Zc()&&!e)||qa(this,d,a)){h.h.disable();d.closest?(a=this.Bb!=d.closest,c=this.tc!=d.local,this.Bb&&this.tc&&(a||c||this.nf)&&ra(this)):ra(this);this.tc=this.Bb=this.ui=null;if(!this.nf&&(a=d.closest,c=d.local,
a))if(a==this.Bb||a.ga().rd())console.log("Trying to connect to an insertion marker");else{this.Bb=a;this.tc=c;a=this.Bb;d=this.tc;c=this.Zf;d.type==h.X.fd||d.type==h.X.hd?((e=!a.isConnected())||(e=a.va(),d.type==h.X.fd?(d=e.S,c=h.xa.zx(c,e)):(d=e.Y,c=c.xo()),e=c?A(d.M.B.Oe,c,d,!1):!1),c=e?h.Zd.cj.Kp:h.Zd.cj.hv):c=h.Zd.cj.Kp;switch(c){case h.Zd.cj.mA:this.Yr=this.Bb.ga();break;case h.Zd.cj.Kp:e=this.tc;c=this.Bb;d=this.ns&&e==this.ns?this.Tg:this.ml;e=d.Mr(e.ga(),e);if(e==this.ui)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");
d.Ja();d.ua=!0;d.ra().setAttribute("visibility","visible");e&&c&&(e.type!=h.X.Tb&&e.type!=h.X.Sb||d.moveBy(c.x-e.x,c.y-e.y));c&&e.connect(c);this.ui=e;break;case h.Zd.cj.hv:this.kl=this.Bb.va(),sa(this.kl.wb,"blocklyReplaceable",!0)}a&&(d=a.M.B.ob.ea(),c=ta(d,a),a.type==h.X.Sb||a.type==h.X.fd?(d=d.ij,c=h.g.u.moveBy(0,-d)+h.g.u.$("v",d)+c.Sd+h.g.u.$("v",d)):(d=d.Ik-d.pb,c=h.g.u.moveBy(-d,0)+h.g.u.$("h",d)+c.eh+h.g.u.$("h",d)),d=a.M.Xa(),h.xa.mx=h.g.j.J(h.g.D.Ge,{"class":"blocklyHighlightedConnectionPath",
d:c,transform:"translate("+(a.x-d.x)+","+(a.y-d.y)+")"+(a.M.L?" scale(-1 1)":"")},a.M.ra()))}h.h.enable()}};function oa(a,c){var d=c.type;h.h.disable();try{var e=a.m.Gs(d);e.yy(!0);if(c.Pd){var f=c.Pd();f&&e.Jf(f)}for(a=0;a<c.T.length;a++){var g=c.T[a];if(g.name!=h.lb.Rm){var k=e.T[a];for(d=0;d<g.eb.length;d++)k.eb[d].setValue(g.eb[d].getValue())}}e.Gi(c.isCollapsed());e.ue(ua(c));e.Oj();e.ra().setAttribute("visibility","hidden")}finally{h.h.enable()}return e}
function pa(a){var c=a.Zf.le(!1),d=a.Zf.xo();if(d&&d!=a.Zf.Z){c.push(d);a.ns=d;if(a.Tg){h.h.disable();try{a.Tg.I()}finally{h.h.enable()}}a.Tg=oa(a,d.ga())}return c}
function qa(a,c,d){var e=c.local,f=c.closest;c=c.Xo;if(e&&f){if(a.tc&&a.Bb){if(a.Bb==f&&a.tc==e)return!1;e=a.tc.x+d.x-a.Bb.x;a=a.tc.y+d.y-a.Bb.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-h.qz)}if(a.tc||a.Bb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.tc||!a.Bb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function ra(a){a.Bb&&a.Bb.va()&&(h.g.j.removeNode(h.xa.mx),delete h.xa.mx);if(a.kl)sa(a.kl.wb,"blocklyReplaceable",!1),a.kl=null;else if(a.Yr)a.Yr=null;else if(a.ui)if(a.ui){var c=a.ui,d=c.ga(),e=d.Z,f=d.Y,g=d.S;g=c.type==h.X.Sb&&!(g&&g.Aa);!(c!=e||f&&f.Aa)||g?x(c.va(),!1):c.type==h.X.Tb&&c!=e?(e=c.Aa,x(e.ga(),!1),f=f?f.Aa:null,x(d,!0),f&&f.connect(e)):x(d,!0);if(c.Aa)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.ui=null;d.ra().setAttribute("visibility",
"hidden")}else console.log("No insertion marker connection to disconnect")}h.Zd.prototype.Hj=function(){var a=[];this.ml&&a.push(this.ml);this.Tg&&a.push(this.Tg);return a};h.xh=function(a,c){this.hb=a;this.m=c;this.Se=new h.Zd(this.hb);this.Wh=null;this.nf=!1;this.gf=this.hb.Xa();this.Xn=h.xh.lD(a)};h.xh.prototype.I=function(){this.Xn.length=0;this.Se&&this.Se.I()};h.xh.lD=function(a){var c=[];a=r(a,!1);for(var d=0,e;e=a[d];d++){e=va(e);for(var f=0;f<e.length;f++){var g={location:e[f].gJ(),icon:e[f]};c.push(g)}}return c};
function wa(a,c,d){d=a.Yj(d);var e=h.g.U.sum(a.gf,d);a.hb.Fs(e);for(e=0;e<a.Xn.length;e++){var f=a.Xn[e];f.icon.PJ(h.g.U.sum(f.location,d))}a.Wh=xa(a.m,c);a.Se.update(d,a.Wh);a.nf=a.Se.nf;c=a.m.xc;a.nf?(a.hb.im(!0),a.Wh==h.Ap&&c&&ya(c,!0)):(a.hb.im(!1),c&&ya(c,!1))}
function za(a,c,d){wa(a,c,d);a.Xn=[];c=new (h.h.get(h.h.Mm))(a.hb,!1,r(a.hb,!1));h.h.Ga(c);h.g.j.rm();h.bb.kr();d=a.Yj(d);c=h.g.U.sum(a.gf,d);var e=a.hb;e.Fm&&(e.translate(c.x,c.y),e.B.md.En(e.B.xb));c=a.m.xc;a.nf?(c&&setTimeout(c.Hn.bind(c),100),a.ll(),a.hb.I(!1,!0),h.Fj=[]):c&&c.Hn();a.nf||(Aa(a.hb,d.x,d.y),a.hb.jh(!1),a.ll(),a.Se.Bb?(d=a.Se,d.Bb&&(h.h.disable(),ra(d),h.h.enable(),d.tc.connect(d.Bb),d.Zf.ua&&(h.bb.bC((Ba(d.tc)?d.Bb:d.tc).ga()),Ca(d.Zf.oe())))):a.hb.Ja(),Da(a.hb));a.m.Zb(!0);(d=
a.m.Na)&&"function"==typeof d.mt&&d.mt(a.hb.Zc()?"blocklyToolboxDelete":"blocklyToolboxGrab");h.h.ta(!1)}h.xh.prototype.ll=function(){var a=new (h.h.get(h.h.vh))(this.hb);a.Ks=this.gf;a.Di();h.h.Ga(a)};h.xh.prototype.Yj=function(a){a=new h.g.U(a.x/this.m.scale,a.y/this.m.scale);this.m.to&&a.scale(1/this.m.options.bd.scale);return a};h.xh.prototype.Hj=function(){return this.Se&&this.Se.Hj?this.Se.Hj():[]};h.g.QG=function(){};
h.lq=function(a,c,d,e){this.m=a;c=void 0===c?!0:c;d=void 0===d?!0:d;var f=c&&d;c&&(this.mb=new h.ya(a,!0,f,e));d&&(this.Va=new h.ya(a,!1,f,e));f&&(this.Zk=h.g.j.J(h.g.D.Mb,{height:h.ya.fc,width:h.ya.fc,"class":"blocklyScrollbarBackground"},null),h.g.j.Pj(this.Zk,a.Xf));this.Za=null};b=h.lq.prototype;b.I=function(){h.g.j.removeNode(this.Zk);this.Za=this.m=this.Zk=null;this.mb&&(this.mb.I(),this.mb=null);this.Va&&(this.Va.I(),this.Va=null)};
b.resize=function(){var a=this.m.me();if(a){var c=!1,d=!1;this.Za&&this.Za.yc==a.yc&&this.Za.Oc==a.Oc&&this.Za.Tc==a.Tc&&this.Za.Ec==a.Ec?(this.Za&&this.Za.scrollWidth==a.scrollWidth&&this.Za.lf==a.lf&&this.Za.scrollLeft==a.scrollLeft||(c=!0),this.Za&&this.Za.scrollHeight==a.scrollHeight&&this.Za.mf==a.mf&&this.Za.scrollTop==a.scrollTop||(d=!0)):d=c=!0;if(c||d){try{h.h.disable(),this.mb&&c&&this.mb.resize(a),this.Va&&d&&this.Va.resize(a)}finally{h.h.enable()}Ea(this.m)}this.mb&&this.Va&&(this.Za&&
this.Za.yc==a.yc&&this.Za.Ec==a.Ec||this.Zk.setAttribute("x",this.Va.position.x),this.Za&&this.Za.Oc==a.Oc&&this.Za.Tc==a.Tc||this.Zk.setAttribute("y",this.mb.position.y));this.Za=a}};b.$o=function(a,c){this.mb&&this.mb.$o(a,c);this.Va&&this.Va.$o(a,c)};b.set=function(a,c,d){this.mb&&this.mb.set(a,!1);this.Va&&this.Va.set(c,!1);if(d||void 0===d)a={},this.mb&&(a.x=Fa(this.mb)),this.Va&&(a.y=Fa(this.Va)),this.m.jm(a)};b.Hi=function(a){this.mb&&this.mb.Hi(a);this.Va&&this.Va.Hi(a)};
b.isVisible=function(){var a=!1;this.mb&&(a=this.mb.isVisible());this.Va&&(a=a||this.Va.isVisible());return a};
h.ya=function(a,c,d,e){this.m=a;this.dh=d||!1;this.ii=c;this.ratio=this.Za=null;this.$k(e);this.position=new h.g.U(0,0);a=h.ya.fc;c?(this.hc.setAttribute("height",a),this.af.setAttribute("height",a),this.yd.setAttribute("height",a-5),this.yd.setAttribute("y",2.5),this.Ao="width",this.gy="x"):(this.hc.setAttribute("width",a),this.af.setAttribute("width",a),this.yd.setAttribute("width",a-5),this.yd.setAttribute("x",2.5),this.Ao="height",this.gy="y");this.Vx=h.N.Ca(this.hc,"mousedown",this,this.RD);
this.Wx=h.N.Ca(this.yd,"mousedown",this,this.SD)};b=h.ya.prototype;b.Ts=new h.g.U(0,0);b.Ey=0;b.Td=0;b.Lg=0;b.Bl=0;b.Rf=!0;b.Uh=!0;h.ya.fc=15;h.Touch.uv&&(h.ya.fc=25);h.ya.Lh=.5;h.ya.DD=function(a,c){return a&&c&&a.yc==c.yc&&a.Oc==c.Oc&&a.lf==c.lf&&a.mf==c.mf&&a.Tc==c.Tc&&a.Ec==c.Ec&&a.scrollWidth==c.scrollWidth&&a.scrollHeight==c.scrollHeight&&a.scrollLeft==c.scrollLeft&&a.scrollTop==c.scrollTop?!0:!1};b=h.ya.prototype;
b.I=function(){Ga();h.N.yb(this.Vx);this.Vx=null;h.N.yb(this.Wx);this.Wx=null;h.g.j.removeNode(this.af);this.hc=this.O=this.af=null;this.yd&&(this.m.jc.unsubscribe(this.yd),this.yd=null);this.m=null};function Ha(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Td)}function Ia(a,c){a.Lg=c;a.yd.setAttribute(a.Ao,a.Lg)}function Ja(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Td-a.Lg)}function Ka(a,c){a.Bl=c;a.yd.setAttribute(a.gy,a.Bl)}
function La(a,c){a.Td=c;a.af.setAttribute(a.Ao,a.Td);a.hc.setAttribute(a.Ao,a.Td)}b.setPosition=function(a,c){this.position.x=a;this.position.y=c;h.g.j.hm(this.af,"translate("+(this.position.x+this.Ts.x)+"px,"+(this.position.y+this.Ts.y)+"px)")};b.resize=function(a){if(!a&&(a=this.m.me(),!a))return;if(!h.ya.DD(a,this.Za)){if(this.ii){var c=a;Ma(this,c)?Na(this,c):Oa(this,c)}else c=a,Ma(this,c)?Pa(this,c):Qa(this,c);this.Za=a;Ra(this)}};
function Ma(a,c){return a.Za?a.Za.yc!==c.yc||a.Za.Oc!==c.Oc||a.Za.Ec!==c.Ec||a.Za.Tc!==c.Tc:!0}function Na(a,c){var d=c.yc-2*h.ya.Lh;a.dh&&(d-=h.ya.fc);La(a,Math.max(0,d));d=c.Ec+h.ya.Lh;a.dh&&a.m.L&&(d+=h.ya.fc);a.setPosition(d,c.Tc+c.Oc-h.ya.fc-h.ya.Lh);Oa(a,c)}function Oa(a,c){if(c.yc>=c.scrollWidth)Ia(a,a.Td),Ka(a,0),a.dh||a.Hb(!1);else{a.dh||a.Hb(!0);var d=a.Td*c.yc/c.scrollWidth;d=Ha(a,d);Ia(a,d);d=c.scrollWidth-c.yc;var e=a.Td-a.Lg;c=(c.lf-c.scrollLeft)/d*e;c=Ja(a,c);Ka(a,c);a.ratio=e/d}}
function Pa(a,c){var d=c.Oc-2*h.ya.Lh;a.dh&&(d-=h.ya.fc);La(a,Math.max(0,d));a.setPosition(a.m.L?c.Ec+h.ya.Lh:c.Ec+c.yc-h.ya.fc-h.ya.Lh,c.Tc+h.ya.Lh);Qa(a,c)}function Qa(a,c){if(c.Oc>=c.scrollHeight)Ia(a,a.Td),Ka(a,0),a.dh||a.Hb(!1);else{a.dh||a.Hb(!0);var d=a.Td*c.Oc/c.scrollHeight;d=Ha(a,d);Ia(a,d);d=c.scrollHeight-c.Oc;var e=a.Td-a.Lg;c=(c.mf-c.scrollTop)/d*e;c=Ja(a,c);Ka(a,c);a.ratio=e/d}}
b.$k=function(a){var c="blocklyScrollbar"+(this.ii?"Horizontal":"Vertical");a&&(c+=" "+a);this.af=h.g.j.J(h.g.D.gj,{"class":c},null);this.O=h.g.j.J(h.g.D.Qc,{},this.af);this.hc=h.g.j.J(h.g.D.Mb,{"class":"blocklyScrollbarBackground"},this.O);a=Math.floor((h.ya.fc-5)/2);this.yd=h.g.j.J(h.g.D.Mb,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.O);this.m.jc.subscribe(this.yd,"scrollbarColour","fill");this.m.jc.subscribe(this.yd,"scrollbarOpacity","fill-opacity");h.g.j.Pj(this.af,y(this.m))};
b.isVisible=function(){return this.Rf};b.Hi=function(a){var c=a!=this.Uh;this.Uh=a;c&&this.Cm()};b.Hb=function(a){var c=a!=this.isVisible();if(this.dh)throw Error("Unable to toggle visibility of paired scrollbars.");this.Rf=a;c&&this.Cm()};b.Cm=function(){this.Uh&&this.isVisible()?this.af.setAttribute("display","block"):this.af.setAttribute("display","none")};
b.RD=function(a){Sa(this.m);h.Touch.Fn();Ga();if(h.g.Ll(a))a.stopPropagation();else{var c=h.g.Ul(a,y(this.m),Ta(this.m));c=this.ii?c.x:c.y;var d=h.g.yl(this.yd);d=this.ii?d.x:d.y;var e=this.Bl,f=.95*this.Lg;c<=d?e-=f:c>=d+this.Lg&&(e+=f);Ka(this,Ja(this,e));Ra(this);a.stopPropagation();a.preventDefault()}};
b.SD=function(a){Sa(this.m);Ga();h.g.Ll(a)?a.stopPropagation():(this.SE=this.Bl,Ua(this.m),this.Ey=this.ii?a.clientX:a.clientY,h.ya.ah=h.N.Ca(document,"mouseup",this,this.WD),h.ya.$g=h.N.Ca(document,"mousemove",this,this.TD),a.stopPropagation(),a.preventDefault())};b.TD=function(a){Ka(this,Ja(this,this.SE+((this.ii?a.clientX:a.clientY)-this.Ey)));Ra(this)};b.WD=function(){Va(this.m);h.Touch.Fn();Ga()};
function Ga(){h.ec(!0);h.ya.ah&&(h.N.yb(h.ya.ah),h.ya.ah=null);h.ya.$g&&(h.N.yb(h.ya.$g),h.ya.$g=null)}function Fa(a){a=a.Bl/(a.Td-a.Lg);isNaN(a)&&(a=0);return a}function Ra(a){var c=Fa(a),d={};a.ii?d.x=c:d.y=c;a.m.jm(d)}b.set=function(a,c){Ka(this,Ja(this,a*this.ratio));(c||void 0===c)&&Ra(this)};b.$o=function(a,c){this.Ts=new h.g.U(a,c)};h.g.td={};h.g.td.Lt=function(a){return a*Math.PI/180};h.g.td.$E=function(a){return 180*a/Math.PI};h.g.td.uj=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};h.g.Sn={};h.g.Sn.warn=function(a,c,d,e){a=a+" was deprecated on "+c+" and will be deleted on "+d+".";e&&(a+="\nUse "+e+" instead.");console.warn(a)};h.xa=function(a,c){this.M=a;this.type=c};h.xa.Om=0;h.xa.SA=1;h.xa.VA=2;h.xa.UA=3;h.xa.PA=4;h.xa.QA=5;h.xa.TA=6;h.xa.RA=7;b=h.xa.prototype;b.Aa=null;b.If=!1;b.tj=null;b.cp=null;b.x=0;b.y=0;
b.Kn=function(a){var c=this,d=c.ga(),e=a.ga();a.isConnected()&&a.disconnect();if(c.isConnected()){var f=c.va(),g=c.Kj();c.cp=null;if(f.Qa)g=h.K.Cf(f),f.I(!1),f=null;else if(c.type==h.X.Sb){if(!f.S)throw Error("Orphan block does not have an output connection.");var k=h.xa.zx(e,f);k&&(f.S.connect(k),f=null)}else if(c.type==h.X.Tb){if(!f.Y)throw Error("Orphan block does not have a previous connection.");for(k=e;k.Z;){var l=u(k);if(l&&!l.Qa)k=l;else{A(f.B.Oe,f.Y,k.Z,!1)&&(k.Z.connect(f.Y),f=null);break}}}if(f&&
(c.disconnect(),h.h.Ma)){var m=h.h.Wb();setTimeout(function(){f.B&&!f.getParent()&&(h.h.ta(m),f.S?f.S.No(c):f.Y&&f.Y.No(c),h.h.ta(!1))},h.tp)}c.cp=g}var n;h.h.isEnabled()&&(n=new (h.h.get(h.h.vh))(e));h.xa.aC(c,a);e.ap(d);n&&(n.Di(),h.h.Ga(n))};b.I=function(){if(this.isConnected()){this.km(null);var a=this.va();a&&x(a)}this.If=!0};b.ga=function(){return this.M};function Ba(a){return a.type==h.X.Sb||a.type==h.X.Tb}b.isConnected=function(){return!!this.Aa};
b.Oq=function(a){h.g.Sn.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker");return this.M.B.Oe.Oq(this,a,!1)};b.No=function(){};b.connect=function(a){if(this.Aa!=a&&A(this.M.B.Oe,this,a,!1)){var c=h.h.Wb();c||h.h.ta(!0);Ba(this)?this.Kn(a):a.Kn(this);c||h.h.ta(!1)}};h.xa.aC=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.Aa=c;c.Aa=a};
h.xa.PE=function(a,c){var d=null;c=c.S;for(var e=0;e<a.T.length;e++){var f=a.T[e].connection,g=c.M.B.Oe;if(f&&f.type==h.X.Sb&&A(g,c,f,!1)){if(d)return null;d=f}}return d};h.xa.zx=function(a,c){for(var d;d=h.xa.PE(a,c);)if(a=d.va(),!a||a.Qa)return d;return null};b=h.xa.prototype;
b.disconnect=function(){var a=this.Aa;if(!a)throw Error("Source connection not connected.");if(a.Aa!=this)throw Error("Target connection not connected to source connection.");if(Ba(this)){var c=this.M;var d=a.ga();a=this}else c=a.ga(),d=this.M;var e=h.h.Wb();e||h.h.ta(!0);this.ir(c,d);d.Qa||a.fm();e||h.h.ta(!1)};b.ir=function(a,c){var d;h.h.isEnabled()&&(d=new (h.h.get(h.h.vh))(c));this.Aa=this.Aa.Aa=null;c.ap(null);d&&(d.Di(),h.h.Ga(d))};
b.fm=function(){var a=this.ga(),c=this.Kj();if(a.B&&c)if(a=h.K.Dj(c,a.B),a.S)this.connect(a.S);else if(a.Y)this.connect(a.Y);else throw Error("Child block does not have output or previous statement.");};b.va=function(){return this.isConnected()?this.Aa.ga():null};b.Ux=function(){!this.isConnected()||this.Aa&&A(this.M.B.Oe,this,this.Aa,!1)||x(Ba(this)?this.va():this.M)};b.ak=function(a){a?(Array.isArray(a)||(a=[a]),this.tj=a,this.Ux()):this.tj=null};
b.km=function(a){this.cp=a;a=this.va();a?a.Qa&&(a.I(!1),this.fm()):this.fm()};b.Kj=function(){return this.cp};b.Lx=function(){return[]};b.Ue=function(){for(var a=null,c=this.M,d=c.T,e=0;e<c.T.length;e++)if(d[e].connection===this){a=d[e];break}return a};
b.toString=function(){var a=this.M;if(a)if(a.S==this)var c="Output Connection of ";else if(a.Y==this)c="Previous Connection of ";else if(a.Z==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.T[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};h.sG=function(){};h.nu=function(){};function A(a,c,d,e,f){return a.Oq(c,d,e,f)==h.xa.Om}h.nu.prototype.Oq=function(a,c,d,e){if(a&&c){if(Ba(a)){var f=a.ga();var g=c.ga()}else g=a.ga(),f=c.ga();f=f==g?h.xa.SA:c.type!=h.bj[a.type]?h.xa.VA:f.B!==g.B?h.xa.QA:f.Qa&&!g.Qa?h.xa.TA:h.xa.Om}else f=h.xa.UA;if(f!=h.xa.Om)a=f;else{a:if(f=a.tj,g=c.tj,f&&g){for(var k=0;k<f.length;k++)if(-1!=g.indexOf(f[k])){f=!0;break a}f=!1}else f=!0;a=f?d&&!Wa(a,c,e||0)?h.xa.RA:h.xa.Om:h.xa.PA}return a};
function Wa(a,c,d){if(Xa(a,c)>d||c.ga().rd())return!1;switch(c.type){case h.X.hd:return a.Aa||-1!=h.Fj.indexOf(c)?a=!1:c.Aa?(a=c.va(),a=a.rd()?!(a.Y&&a.Y.va()):!1):a=!0,a;case h.X.fd:if(c.isConnected()&&!c.va().rd()||a.isConnected())return!1;break;case h.X.Sb:if(c.isConnected()&&!c.va().rc()&&!c.va().Qa)return!1;break;case h.X.Tb:if(c.isConnected()&&!a.ga().Z&&!c.va().Qa&&c.va().Z)return!1;break;default:return!1}return-1!=h.Fj.indexOf(c)?!1:!0}h.v.register(h.v.R.lu,h.v.rk,h.nu);h.Oh=function(a,c,d,e){this.name=a;this.yg=c||Object.create(null);this.Pq=d||Object.create(null);this.$v=e||Object.create(null);this.fontStyle=Object.create(null);this.Ht=null;h.v.register(h.v.R.mq,a,this)};h.Oh.prototype.ke=function(){return this.name+"-theme"};function Ya(a,c){return(c=a.$v[c])&&"string"==typeof c&&Ya(a,c)?Ya(a,c):c?String(c):null}
h.Oh.lC=function(a,c){var d=new h.Oh(a),e=c.base;e&&("string"==typeof e&&(e=h.v.Or(h.v.R.mq,e)),e instanceof h.Oh&&(h.g.object.Aj(d,e),d.name=a));h.g.object.Aj(d.yg,c.blockStyles);h.g.object.Aj(d.Pq,c.categoryStyles);h.g.object.Aj(d.$v,c.componentStyles);h.g.object.Aj(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.Ht=c.startHats);return d};h.wf={};h.wf.dg={};h.wf.dg.kC={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
h.wf.dg.Pq={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};h.wf.dg=new h.Oh("classic",h.wf.dg.kC,h.wf.dg.Pq);h.g.Ck={};h.g.Ck.ND=0;h.g.Ck.Qw=function(){return"blockly-"+(h.g.Ck.ND++).toString(36)};h.g.V={};h.g.V.wp="categoryToolbox";h.g.V.zu="flyoutToolbox";h.g.V.Pa={Nh:0,Si:1,Yb:2,jd:3};h.g.V.jw=function(a){if(!a)return null;if(a instanceof Element||"string"==typeof a)a=h.g.V.Xs(a),a=h.g.V.dC(a);h.g.V.hF(a);return a};h.g.V.hF=function(a){var c=a.kind;a=a.contents;if(c&&c!=h.g.V.zu&&c!=h.g.V.wp)throw Error("Invalid toolbox kind "+c+". Please supply either "+h.g.V.zu+" or "+h.g.V.wp);if(!a)throw Error("Toolbox must have a contents attribute.");};
h.g.V.iw=function(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:h.g.V.Wt(a):[]};h.g.V.Cl=function(a){if(!a)return!1;var c=a.kind;return c?c==h.g.V.wp:!!a.contents.filter(function(d){return"CATEGORY"==d.kind.toUpperCase()}).length};h.g.V.nJ=function(a){return a&&a.contents?!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length:!1};h.g.V.dC=function(a){var c={contents:h.g.V.Wt(a)};a instanceof Node&&h.g.V.Iv(a,c);return c};
h.g.V.Wt=function(a){var c=[],d=a.childNodes;d||(d=a);a=0;for(var e;e=d[a];a++)if(e.tagName){var f={},g=e.tagName.toUpperCase();f.kind=g;"BLOCK"==g?f.blockxml=e:e.childNodes&&0<e.childNodes.length&&(f.contents=h.g.V.Wt(e));h.g.V.Iv(e,f);c.push(f)}return c};h.g.V.Iv=function(a,c){for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d];-1<e.nodeName.indexOf("css-")?(c.cssconfig=c.cssconfig||{},c.cssconfig[e.nodeName.replace("css-","")]=e.value):c[e.nodeName]=e.value}};
h.g.V.Xs=function(a){if(a){if("string"!=typeof a&&(h.g.userAgent.Yd&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=h.K.we(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};h.gd=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else{d=h.g.V.jw(a.toolbox);e=h.g.V.Cl(d);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;g=a.collapse;void 0===g&&(g=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var p=!!a.rtl,q=a.horizontalLayout;void 0===q&&(q=!1);var t=a.toolboxPosition;t="end"!==t;t=q?t?h.g.V.Pa.Nh:h.g.V.Pa.Si:t==p?h.g.V.Pa.jd:h.g.V.Pa.Yb;var I=a.css;void 0===I&&
(I=!0);var L="https://blockly-demo.appspot.com/static/media/";a.media?L=a.media:a.path&&(L=a.path+"media/");var J=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,Hb=a.renderer||"geras",pe=a.plugins||{};this.L=p;this.Ro=J;this.collapse=g;this.WB=k;this.disable=l;this.readOnly=c;this.Cs=a.maxBlocks||Infinity;this.Fo=a.maxInstances;this.Wo=L;this.Cl=e;this.uc=h.gd.ZD(a,e);this.hx=f;this.Go=n;this.gD=m;this.eD=I;this.Yc=q;this.si=d;this.ax=h.gd.YD(a);this.zb=h.gd.aE(a);this.Nc=t;this.ZE=h.gd.$D(a);this.qt=
Hb;this.rt=a.rendererOverrides;this.Tr=null;this.bd=a.parentWorkspace;this.plugins=pe};h.yF=function(){};
h.gd.ZD=function(a,c){var d=a.move||{},e={};void 0===d.scrollbars&&void 0===a.scrollbars?e.scrollbars=c:"object"==typeof d.scrollbars?(e.scrollbars={},e.scrollbars.Zr=!!d.scrollbars.horizontal,e.scrollbars.vertical=!!d.scrollbars.vertical,e.scrollbars.Zr&&e.scrollbars.vertical?e.scrollbars=!0:e.scrollbars.Zr||e.scrollbars.vertical||(e.scrollbars=!1)):e.scrollbars=!!d.scrollbars||!!a.scrollbars;e.ik=e.scrollbars&&void 0!==d.wheel?!!d.wheel:"object"==typeof e.scrollbars;e.Ej=e.scrollbars?void 0===d.drag?
!0:!!d.drag:!1;return e};h.gd.aE=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.ik=void 0===a.wheel?!1:!!a.wheel;c.UE=void 0===a.startScale?1:Number(a.startScale);c.Rl=void 0===a.maxScale?3:Number(a.maxScale);c.Tl=void 0===a.minScale?.3:Number(a.minScale);c.FE=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.$x=void 0===a.pinch?c.ik||c.controls:!!a.pinch;return c};
h.gd.YD=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.sb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.SJ=0<c.spacing&&!!a.snap;return c};h.gd.$D=function(a){a=a.theme||h.wf.dg;return"string"==typeof a?h.v.Or(h.v.R.mq,a):a instanceof h.Oh?a:h.Oh.lC(a.name||"builtin"+h.g.Ck.Qw(),a)};h.gd.Xs=function(a){h.g.Sn.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree");return h.g.V.Xs(a)};h.h.xf=function(a){h.h.xf.A.constructor.call(this);this.ph=(this.qd="undefined"==typeof a)?"":a.pc();this.Xb=this.qd?"":a.B.id};h.g.object.W(h.h.xf,h.h.Abstract);h.h.xf.prototype.qa=function(){var a=h.h.xf.A.qa.call(this);a.varId=this.ph;return a};h.h.xf.prototype.ba=function(a){h.h.xf.A.qa.call(this);this.ph=a.varId};h.h.yf=function(a){h.h.yf.A.constructor.call(this,a);a&&(this.Oi=a.type,this.Ni=a.name)};h.g.object.W(h.h.yf,h.h.xf);h.h.yf.prototype.type=h.h.Nk;
h.h.yf.prototype.qa=function(){var a=h.h.yf.A.qa.call(this);a.varType=this.Oi;a.varName=this.Ni;return a};h.h.yf.prototype.ba=function(a){h.h.yf.A.ba.call(this,a);this.Oi=a.varType;this.Ni=a.varName};h.h.yf.prototype.run=function(a){var c=v(this);a?c.ge(this.Ni,this.Oi,this.ph):c.Bj(this.ph)};h.h.zf=function(a){h.h.zf.A.constructor.call(this,a);a&&(this.Oi=a.type,this.Ni=a.name)};h.g.object.W(h.h.zf,h.h.xf);h.h.zf.prototype.type=h.h.sn;
h.h.zf.prototype.qa=function(){var a=h.h.zf.A.qa.call(this);a.varType=this.Oi;a.varName=this.Ni;return a};h.h.zf.prototype.ba=function(a){h.h.zf.A.ba.call(this,a);this.Oi=a.varType;this.Ni=a.varName};h.h.zf.prototype.run=function(a){var c=v(this);a?c.Bj(this.ph):c.ge(this.Ni,this.Oi,this.ph)};h.h.Af=function(a,c){h.h.Af.A.constructor.call(this,a);a&&(this.Ls=a.name,this.Hs="undefined"==typeof c?"":c)};h.g.object.W(h.h.Af,h.h.xf);h.h.Af.prototype.type=h.h.uq;
h.h.Af.prototype.qa=function(){var a=h.h.Af.A.qa.call(this);a.oldName=this.Ls;a.newName=this.Hs;return a};h.h.Af.prototype.ba=function(a){h.h.Af.A.ba.call(this,a);this.Ls=a.oldName;this.Hs=a.newName};h.h.Af.prototype.run=function(a){var c=v(this);a?c.Ei(this.ph,this.Hs):c.Ei(this.ph,this.Ls)};h.v.register(h.v.R.Fb,h.h.Nk,h.h.yf);h.v.register(h.v.R.Fb,h.h.sn,h.h.zf);h.v.register(h.v.R.Fb,h.h.uq,h.h.Af);h.vq=function(a){this.Oa=Object.create(null);this.B=a};b=h.vq.prototype;b.clear=function(){this.Oa=Object.create(null)};b.qy=function(a,c){var d=this.Jg(c,a.type),e=B(this.B,!1);h.h.ta(!0);try{if(d&&d.pc()!=a.pc()){var f=a.type;c!=d.name&&Za(d,c,e);for(c=0;c<e.length;c++){d=void 0;for(var g=0;d=e[c].T[g];g++)for(var k=0;d.eb[k];k++);}h.h.Ga(new (h.h.get(h.h.sn))(a));this.Oa[f].splice(this.ho(f).indexOf(a),1)}else Za(a,c,e)}finally{h.h.ta(!1)}};
b.Ei=function(a,c){var d=this.Kg(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.qy(d,c)};function Za(a,c,d){h.h.Ga(new (h.h.get(h.h.uq))(a,c));a.name=c;for(a=0;a<d.length;a++)for(var e=d[a],f=0;c=e.T[f];f++)for(var g=0;c.eb[g];g++);}
b.ge=function(a,c,d){var e=this.Jg(a,c);if(e){if(d&&e.pc()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.pc()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Kg(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||h.g.Lf();c=c||"";e=new h.un(this.B,a,c,e);a=this.Oa[c]||[];a.push(e);delete this.Oa[c];this.Oa[c]=a;return e};
b.Bj=function(a){var c=this.Kg(a);if(c){var d=c.name,e=this.Sr(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=$a(f,"NAME");d=h.P.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);h.alert(d);return}var g=this;1<e.length?(d=h.P.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),h.confirm(d,function(k){k&&c&&ab(g,c,e)})):ab(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function ab(a,c,d){var e=h.h.Wb();e||h.h.ta(!0);try{for(var f=0;f<d.length;f++)d[f].I(!0);var g=a.Oa[c.type];a=0;for(var k;k=g[a];a++)if(k.pc()==c.pc()){g.splice(a,1);h.h.Ga(new (h.h.get(h.h.sn))(c));break}}finally{e||h.h.ta(!1)}}b.Jg=function(a,c){if(c=this.Oa[c||""])for(var d=0,e;e=c[d];d++)if(h.Dd.Kf(e.name,a))return e;return null};b.Kg=function(a){for(var c=Object.keys(this.Oa),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Oa[e][f];f++)if(g.pc()==a)return g;return null};
b.ho=function(a){return(a=this.Oa[a||""])?a.slice():[]};b.$h=function(){var a=[],c;for(c in this.Oa)a=a.concat(this.Oa[c]);return a};b.Fr=function(){var a=[],c;for(c in this.Oa)for(var d=this.Oa[c],e=0,f;f=d[e];e++)a.push(f.name);return a};b.Sr=function(a){for(var c=[],d=B(this.B,!1),e=0;e<d.length;e++){var f=ja(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].pc()==a&&c.push(d[e])}return c};h.qb=function(a){this.id=h.g.Lf();h.qb.Pk[this.id]=this;this.options=a||new h.gd({});this.L=!!this.options.L;this.Yc=!!this.options.Yc;this.Nc=this.options.Nc;this.Oe=new (h.v.Gg(h.v.R.lu,this.options,!0))(this);this.xm=[];this.ip=[];this.Jn=Object.create(null);this.Jc=[];this.Mi=[];this.dm=[];this.Gq=Object.create(null);this.ag=Object.create(null);this.Oa=new h.vq(this);this.Zj=null};b=h.qb.prototype;b.ua=!1;b.hs=!1;b.Qu=1024;b.Mn=null;b.I=function(){this.Jc.length=0;this.clear();delete h.qb.Pk[this.id]};
h.qb.jv=3;b=h.qb.prototype;b.ff=function(a,c){a=a.Xa();c=c.Xa();return a.y+h.qb.prototype.ff.offset*a.x-(c.y+h.qb.prototype.ff.offset*c.x)};b.xn=function(a){this.xm.push(a)};b.Yo=function(a){if(!h.g.Rk(this.xm,a))throw Error("Block not present in workspace's list of top-most blocks.");};b.tb=function(a){var c=[].concat(this.xm);a&&1<c.length&&(this.ff.offset=Math.sin(h.g.td.Lt(h.qb.jv)),this.L&&(this.ff.offset*=-1),c.sort(this.ff));return c};function bb(a,c){return a.ag[c]?a.ag[c].slice(0):[]}
function B(a,c){if(c){a=a.tb(!0);c=[];for(var d=0;d<a.length;d++)c.push.apply(c,r(a[d],!0))}else for(c=a.tb(!1),d=0;d<c.length;d++)c.push.apply(c,ca(c[d],!1));return c.filter(function(e){return!e.rd()})}b.clear=function(){this.hs=!0;try{var a=h.h.Wb();for(a||h.h.ta(!0);this.xm.length;)this.xm[0].I(!1);for(;this.ip.length;)this.ip[this.ip.length-1].I(!1);a||h.h.ta(!1);this.Oa.clear();this.Zj&&this.Zj.clear()}finally{this.hs=!1}};b.Ei=function(a,c){this.Oa.Ei(a,c)};
b.ge=function(a,c,d){return this.Oa.ge(a,c,d)};b.Sr=function(a){return this.Oa.Sr(a)};b.Bj=function(a){this.Oa.Bj(a)};b.Jg=function(a,c){return this.Oa.Jg(a,c)};b.Kg=function(a){return this.Oa.Kg(a)};b.ho=function(a){return this.Oa.ho(a)};b.$h=function(){return this.Oa.$h()};b.Fr=function(){return this.Oa.Fr()};b.Al=function(){return 0};b.Gs=function(a,c){return new h.Ti(this,a,c)};function cb(a){return isNaN(a.options.Cs)?Infinity:a.options.Cs-B(a,!1).length}
function db(a,c){if(!eb(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.Fo?(void 0!==a.options.Fo[e]?a.options.Fo[e]:Infinity)-bb(a,e).length:Infinity))return!1;d+=c[e]}return d>cb(a)?!1:!0}function eb(a){return Infinity!=a.options.Cs||!!a.options.Fo}
function fb(a,c){var d=c?a.dm:a.Mi;a=c?a.Mi:a.dm;var e=d.pop();if(e){for(var f=[e];d.length&&e.group&&e.group==d[d.length-1].group;)f.push(d.pop());for(d=0;e=f[d];d++)a.push(e);f=h.h.filter(f,c);h.h.Ma=!1;try{for(d=0;e=f[d];d++)e.run(c)}finally{h.h.Ma=!0}}}function C(a,c){a.Jc.push(c)}function gb(a,c){h.g.Rk(a.Jc,c)}b.Hc=function(a){return this.Gq[a]||null};b.Ct=function(a){this.Oa=a};h.qb.Pk=Object.create(null);h.qb.ul=function(a){return h.qb.Pk[a]||null};
h.qb.getAll=function(){var a=[],c;for(c in h.qb.Pk)a.push(h.qb.Pk[c]);return a};h.wa=function(a,c,d,e,f,g){this.m=a;this.Gf=c;this.ME=d;this.Qs=this.Ps=this.Jx=this.uy=null;this.If=!1;d=h.wa.fz;this.m.L&&(d=-d);this.DB=h.g.td.Lt(d);a.Xf.appendChild(this.$k(c,!(!f||!g)));this.Ob=e;this.sy&&hb(this);f&&g||(a=this.Gf.getBBox(),f=a.width+2*h.wa.ye,g=a.height+2*h.wa.ye);ib(this,f,g);hb(this);jb(this);this.sy=!0};h.wa.ye=6;h.wa.gz=5;h.wa.fz=20;h.wa.Zt=4;h.wa.cz=8;h.wa.ah=null;h.wa.$g=null;
h.wa.Pt=function(){h.wa.ah&&(h.N.yb(h.wa.ah),h.wa.ah=null);h.wa.$g&&(h.N.yb(h.wa.$g),h.wa.$g=null)};h.wa.JB=function(){h.Touch.Fn();h.wa.Pt()};b=h.wa.prototype;b.sy=!1;b.Ob=null;b.cf=0;b.hh=0;b.jb=0;b.qc=0;b.Eq=!0;
b.$k=function(a,c){this.Fd=h.g.j.J(h.g.D.Qc,{},null);var d={filter:"url(#"+this.m.ob.ea().Yn+")"};h.g.userAgent.qA&&(d={});d=h.g.j.J(h.g.D.Qc,d,this.Fd);this.Pv=h.g.j.J(h.g.D.Ge,{},d);this.Bn=h.g.j.J(h.g.D.Mb,{"class":"blocklyDraggable",x:0,y:0,rx:h.wa.ye,ry:h.wa.ye},d);c?(this.Vf=h.g.j.J(h.g.D.Qc,{"class":this.m.L?"blocklyResizeSW":"blocklyResizeSE"},this.Fd),c=2*h.wa.ye,h.g.j.J(h.g.D.MA,{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Vf),h.g.j.J(h.g.D.Ek,{"class":"blocklyResizeLine",x1:c/
3,y1:c-1,x2:c-1,y2:c/3},this.Vf),h.g.j.J(h.g.D.Ek,{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Vf)):this.Vf=null;this.m.options.readOnly||(this.Ps=h.N.Ca(this.Bn,"mousedown",this,this.IB),this.Vf&&(this.Qs=h.N.Ca(this.Vf,"mousedown",this,this.AE)));this.Fd.appendChild(a);return this.Fd};b.ra=function(){return this.Fd};
b.IB=function(a){var c=this.m.Hg(a);if(c){if(c.ei)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.xd||(c.xd=this);c.Od=a}};b.mm=function(){};b.Zc=function(){return!1};b.im=function(){};
b.AE=function(a){var c=this.Fd.parentNode;c.lastChild!==this.Fd&&c.appendChild(this.Fd);h.wa.Pt();h.g.Ll(a)||(this.m.Gt(a,new h.g.U(this.m.L?-this.jb:this.jb,this.qc)),h.wa.ah=h.N.Ca(document,"mouseup",this,h.wa.JB),h.wa.$g=h.N.Ca(document,"mousemove",this,this.BE),h.ec());a.stopPropagation()};b.BE=function(a){this.Eq=!1;var c=this.m;a=h.g.Ul(a,y(c),Ta(c));a.x/=c.scale;a.y/=c.scale;c=h.g.U.sum(c.Bw,a);ib(this,this.m.L?-c.x:c.x,c.y);this.m.L&&hb(this)};
function kb(a,c,d){var e=a.m.L?a.Ob.x-c.x-a.jb:c.x+a.Ob.x;c=c.y+a.Ob.y;return Math.max(0,Math.min(1,(Math.min(e+a.jb,d.left+d.width)-Math.max(e,d.left))*(Math.min(c+a.qc,d.top+d.height)-Math.max(c,d.top))/(a.jb*a.qc)))}function hb(a){var c=a.Ob.x;c=a.m.L?c-(a.cf+a.jb):c+a.cf;a.moveTo(c,a.hh+a.Ob.y)}b.moveTo=function(a,c){this.Fd.setAttribute("transform","translate("+a+","+c+")")};b.jh=function(a){!a&&this.Jx&&this.Jx()};
function ib(a,c,d){var e=2*h.wa.ye;c=Math.max(c,e+45);d=Math.max(d,e+20);a.jb=c;a.qc=d;a.Bn.setAttribute("width",c);a.Bn.setAttribute("height",d);a.Vf&&(a.m.L?a.Vf.setAttribute("transform","translate("+2*h.wa.ye+","+(d-e)+") scale(-1 1)"):a.Vf.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.Eq){c=a.m.ud.Ve(!0);d=-a.jb/4;if(!(a.jb>c.width)){if(a.m.L){e=a.Ob.x-d;var f=e-a.jb;var g=c.left+c.width,k=c.left+h.ya.fc/a.m.scale}else f=d+a.Ob.x,e=f+a.jb,k=c.left,g=c.left+c.width-h.ya.fc/a.m.scale;
a.m.L?f<k?d=-(k-a.Ob.x+a.jb):e>g&&(d=-(g-a.Ob.x)):f<k?d=k-a.Ob.x:e>g&&(d=g-a.Ob.x-a.jb)}f=d;d=-a.qc/4;if(!(a.qc>c.height)){e=a.Ob.y+d;g=e+a.qc;k=c.top;var l=c.top+c.height-h.ya.fc/a.m.scale,m=a.Ob.y;e<k?d=k-m:g>l&&(d=l-m-a.qc)}k=d;g=a.ME.getBBox();d={x:f,y:-a.qc-a.m.ob.ea().Fk};e={x:-a.jb-30,y:k};k={x:g.width,y:k};l={x:f,y:g.height};f=g.width<g.height?k:l;g=g.width<g.height?l:k;k=kb(a,d,c);l=kb(a,e,c);m=kb(a,f,c);c=Math.max(k,l,m,kb(a,g,c));k==c?(a.cf=d.x,a.hh=d.y):l==c?(a.cf=e.x,a.hh=e.y):m==c?(a.cf=
f.x,a.hh=f.y):(a.cf=g.x,a.hh=g.y)}hb(a);jb(a);a.uy&&a.uy()}
function jb(a){var c=[],d=a.jb/2,e=a.qc/2,f=-a.cf,g=-a.hh;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.m.L&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),p=Math.cos(m),q=new h.g.kd(a.jb,a.qc);m=(q.width+q.height)/h.wa.gz;m=Math.min(m,q.width,q.height)/4;q=1-h.wa.cz/k;f=d+q*f;g=e+q*g;q=d+m*p;var t=e+m*n;d-=m*p;e-=m*n;n=l+a.DB;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/h.wa.Zt;k=Math.cos(n)*k/h.wa.Zt;c.push("M"+
q+","+t);c.push("C"+(q+k)+","+(t+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.Pv.setAttribute("d",c.join(" "))}b.Lc=function(a){this.Bn.setAttribute("fill",a);this.Pv.setAttribute("fill",a)};b.I=function(){this.Ps&&h.N.yb(this.Ps);this.Qs&&h.N.yb(this.Qs);h.wa.Pt();h.g.j.removeNode(this.Fd);this.If=!0};b.Fs=function(a,c){a?a.Li(c.x,c.y):this.moveTo(c.x,c.y);this.cf=this.m.L?this.Ob.x-c.x-this.jb:c.x-this.Ob.x;this.hh=c.y-this.Ob.y;jb(this)};
b.Xa=function(){return new h.g.U(this.m.L?-this.cf+this.Ob.x-this.jb:this.Ob.x+this.cf,this.Ob.y+this.hh)};h.wa.we=function(a){var c=h.g.j.J(h.g.D.tv,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:h.wa.ye},null);a=a.split("\n");for(var d=0;d<a.length;d++){var e=h.g.j.J(h.g.D.vv,{dy:"1em",x:h.wa.ye},c),f=document.createTextNode(a[d]);e.appendChild(f)}return c};
h.wa.VI=function(a,c,d){d=new h.wa(c.B,a,c.wb.Eb,d,null,null);d.Fd.dataset&&(d.Fd.dataset.blockId=c.id);if(c.L){c=a.getBBox().width;for(var e=0,f;f=a.childNodes[e];e++)f.setAttribute("text-anchor","end"),f.setAttribute("x",c+h.wa.ye)}return d};h.h.pf=function(a){this.Le=(this.qd="undefined"==typeof a)?"":a.id;this.Xb=this.qd?"":a.B.id;this.group=h.h.Wb();this.Ma=h.h.Ma};h.g.object.W(h.h.pf,h.h.Abstract);h.h.pf.prototype.qa=function(){var a=h.h.pf.A.qa.call(this);this.Le&&(a.commentId=this.Le);return a};h.h.pf.prototype.ba=function(a){h.h.pf.A.ba.call(this,a);this.Le=a.commentId};h.h.Vi=function(a,c,d){h.h.Vi.A.constructor.call(this,a);a&&(this.Mo="undefined"==typeof c?"":c,this.Lo="undefined"==typeof d?"":d)};h.g.object.W(h.h.Vi,h.h.pf);
b=h.h.Vi.prototype;b.type=h.h.iu;b.qa=function(){var a=h.h.Vi.A.qa.call(this);a.oldContents=this.Mo;a.newContents=this.Lo;return a};b.ba=function(a){h.h.Vi.A.ba.call(this,a);this.Mo=a.oldContents;this.Lo=a.newContents};b.Uj=function(){return this.Mo==this.Lo};b.run=function(a){var c;(c=v(this).Jn[this.Le]||null)?c.NJ(a?this.Lo:this.Mo):console.warn("Can't change non-existent comment: "+this.Le)};h.h.qf=function(a){h.h.qf.A.constructor.call(this,a);a&&(this.xml=a.Iy())};h.g.object.W(h.h.qf,h.h.pf);
h.h.qf.prototype.type=h.h.Sm;h.h.qf.prototype.qa=function(){var a=h.h.qf.A.qa.call(this);a.xml=h.K.Jd(this.xml);return a};h.h.qf.prototype.ba=function(a){h.h.qf.A.ba.call(this,a);this.xml=h.K.we(a.xml)};h.h.qf.prototype.run=function(a){h.h.mu(this,a)};h.h.mu=function(a,c){var d=v(a);c?(c=h.g.xml.createElement("xml"),c.appendChild(a.xml),h.K.Xh(c,d)):(d=d.Jn[a.Le]||null)?d.I(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.Le)};
h.h.rf=function(a){h.h.rf.A.constructor.call(this,a);a&&(this.xml=a.Iy())};h.g.object.W(h.h.rf,h.h.pf);h.h.rf.prototype.type=h.h.ju;h.h.rf.prototype.qa=function(){return h.h.rf.A.qa.call(this)};h.h.rf.prototype.ba=function(a){h.h.rf.A.ba.call(this,a)};h.h.rf.prototype.run=function(a){h.h.mu(this,!a)};h.h.Wi=function(a){h.h.Wi.A.constructor.call(this,a);a&&(this.Uq=a,this.Bi=a.$w(),this.yi=null)};h.g.object.W(h.h.Wi,h.h.pf);b=h.h.Wi.prototype;
b.Di=function(){if(!this.Uq)throw Error("Tried to record the new position of a comment on the same event twice.");this.yi=this.Uq.$w();this.Uq=null};b.type=h.h.nk;b.qa=function(){var a=h.h.Wi.A.qa.call(this);this.Bi&&(a.oldCoordinate=Math.round(this.Bi.x)+","+Math.round(this.Bi.y));this.yi&&(a.newCoordinate=Math.round(this.yi.x)+","+Math.round(this.yi.y));return a};
b.ba=function(a){h.h.Wi.A.ba.call(this,a);if(a.oldCoordinate){var c=a.oldCoordinate.split(",");this.Bi=new h.g.U(Number(c[0]),Number(c[1]))}a.newCoordinate&&(c=a.newCoordinate.split(","),this.yi=new h.g.U(Number(c[0]),Number(c[1])))};b.Uj=function(){return h.g.U.Kf(this.Bi,this.yi)};b.run=function(a){var c;if(c=v(this).Jn[this.Le]||null){a=a?this.yi:this.Bi;var d=c.$w();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.Le)};h.v.register(h.v.R.Fb,h.h.Sm,h.h.qf);
h.v.register(h.v.R.Fb,h.h.iu,h.h.Vi);h.v.register(h.v.R.Fb,h.h.nk,h.h.Wi);h.v.register(h.v.R.Fb,h.h.ju,h.h.rf);h.Nm=function(a,c){this.Vb=a;this.m=c;this.Wh=null;this.op=!1;this.gf=this.Vb.Xa();this.Yh=h.g.li()&&c.md?c.md:null};h.Nm.prototype.I=function(){this.Yh=this.m=this.Vb=null};function lb(a,c,d){d=a.Yj(d);d=h.g.U.sum(a.gf,d);a.Vb.Fs(a.Yh,d);a.Vb.Zc()&&(a.Wh=xa(a.m,c),a.op=a.Wh!=h.pu,c=a.m.xc,a.op?(a.Vb.im(!0),a.Wh==h.Ap&&c&&ya(c,!0)):(a.Vb.im(!1),c&&ya(c,!1)))}
function mb(a,c,d){lb(a,c,d);c=a.Yj(d);c=h.g.U.sum(a.gf,c);a.Vb.moveTo(c.x,c.y);c=a.m.xc;a.op?(c&&setTimeout(c.Hn.bind(c),100),a.ll(),a.Vb.I(!1,!0)):c&&c.Hn();a.op||(a.Yh&&a.Yh.En(a.m.Xf),a.Vb.jh&&a.Vb.jh(!1),a.ll());a.m.Zb(!0);(c=a.m.Na)&&"function"==typeof c.mt&&c.mt(a.Vb.Zc()?"blocklyToolboxDelete":"blocklyToolboxGrab");h.h.ta(!1)}h.Nm.prototype.ll=function(){if(this.Vb.oJ){var a=new (h.h.get(h.h.nk))(this.Vb);a.Bi=this.gf;a.Di();h.h.Ga(a)}};
h.Nm.prototype.Yj=function(a){a=new h.g.U(a.x/this.m.scale,a.y/this.m.scale);this.m.to&&a.scale(1/this.m.options.bd.scale);return a};h.h.eg=function(a,c,d){h.h.eg.A.constructor.call(this,a?a.B.id:c);this.fb=a?a.id:null;this.Gy=d};h.g.object.W(h.h.eg,h.h.ae);h.h.eg.prototype.type=h.h.mk;h.h.eg.prototype.qa=function(){var a=h.h.eg.A.qa.call(this);a.targetType=this.Gy;this.fb&&(a.blockId=this.fb);return a};h.h.eg.prototype.ba=function(a){h.h.eg.A.ba.call(this,a);this.Gy=a.targetType;this.fb=a.blockId};h.v.register(h.v.R.Fb,h.h.mk,h.h.eg);h.G={};h.G.visible=!1;h.G.sj=!1;h.G.sA=50;h.G.Hx=0;h.G.om=0;h.G.ps=0;h.G.qs=0;h.G.cb=null;h.G.Zl=null;h.G.Vu=0;h.G.Wu=10;h.G.OA=10;h.G.gA=750;h.G.Qp=5;h.G.ab=null;h.G.VC=function(){var a=h.G.Zw(h.G.cb);if(a){for(a=a.Vd;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");return a}return""};h.G.Zw=function(a){for(;a&&a.Vd;){if("string"==typeof a.Vd||"function"==typeof a.Vd)return a;a=a.Vd}return null};
h.G.Ua=function(){h.G.ab||(h.G.ab=document.createElement("div"),h.G.ab.className="blocklyTooltipDiv",(h.So||document.body).appendChild(h.G.ab))};h.G.rj=function(a){a.GD=h.N.bind(a,"mouseover",null,h.G.VD);a.ED=h.N.bind(a,"mouseout",null,h.G.UD);a.addEventListener("mousemove",h.G.Xx,!1)};h.G.Qt=function(a){a&&(h.N.yb(a.GD),h.N.yb(a.ED),a.removeEventListener("mousemove",h.G.Xx))};h.G.VD=function(a){h.G.sj||(a=h.G.Zw(a.currentTarget),h.G.cb!=a&&(h.G.Ya(),h.G.Zl=null,h.G.cb=a),clearTimeout(h.G.Hx))};
h.G.UD=function(){h.G.sj||(h.G.Hx=setTimeout(function(){h.G.cb=null;h.G.Zl=null;h.G.Ya()},1),clearTimeout(h.G.om))};h.G.Xx=function(a){if(h.G.cb&&h.G.cb.Vd&&!h.G.sj)if(h.G.visible){var c=h.G.ps-a.pageX;a=h.G.qs-a.pageY;Math.sqrt(c*c+a*a)>h.G.OA&&h.G.Ya()}else h.G.Zl!=h.G.cb&&(clearTimeout(h.G.om),h.G.ps=a.pageX,h.G.qs=a.pageY,h.G.om=setTimeout(h.G.OE,h.G.gA))};h.G.I=function(){h.G.cb=null;h.G.Zl=null;h.G.Ya()};
h.G.Ya=function(){h.G.visible&&(h.G.visible=!1,h.G.ab&&(h.G.ab.style.display="none"));h.G.om&&clearTimeout(h.G.om)};h.G.block=function(){h.G.Ya();h.G.sj=!0};h.G.gF=function(){h.G.sj=!1};
h.G.OE=function(){if(!h.G.sj&&(h.G.Zl=h.G.cb,h.G.ab)){h.G.ab.textContent="";var a=h.G.VC();a=h.g.Ra.Xy(a,h.G.sA);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));h.G.ab.appendChild(d)}a=h.G.cb.L;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h.G.ab.style.direction=a?"rtl":"ltr";h.G.ab.style.display="block";h.G.visible=!0;var e=h.G.ps;e=a?e-(h.G.Vu+h.G.ab.offsetWidth):e+h.G.Vu;var f=h.G.qs+h.G.Wu;
f+h.G.ab.offsetHeight>d+window.scrollY&&(f-=h.G.ab.offsetHeight+2*h.G.Wu);a?e=Math.max(h.G.Qp-window.scrollX,e):e+h.G.ab.offsetWidth>c+window.scrollX-2*h.G.Qp&&(e=c-h.G.ab.offsetWidth-2*h.G.Qp);h.G.ab.style.top=f+"px";h.G.ab.style.left=e+"px"}};h.vn=function(a){this.m=a;this.nx=nb(this.m);this.Ty=ob(this.m);this.VE=new h.g.U(a.scrollX,a.scrollY)};h.vn.prototype.I=function(){this.m=null};h.vn.prototype.Gt=function(){h.selected&&pb(h.selected);Ua(this.m)};h.vn.prototype.Ej=function(a){a=h.g.U.sum(this.VE,a);if(this.nx&&this.Ty)this.m.scroll(a.x,a.y);else if(this.nx)this.m.scroll(a.x,this.m.scrollY);else if(this.Ty)this.m.scroll(this.m.scrollX,a.y);else throw new TypeError("Invalid state.");};h.Ee=function(a,c){this.Gx=null;this.Fc=new h.g.U(0,0);this.Ib=this.ic=this.dk=this.ek=this.xd=null;this.mw=c;this.Hl=this.ni=this.Il=this.di=!1;this.Od=a;this.ma=this.Qi=this.Ke=this.zg=this.Qo=this.Po=null;this.po=this.ei=this.Sv=!1;this.ix=!h.Dz};b=h.Ee.prototype;b.I=function(){h.Touch.Fn();h.G.gF();this.mw.oc=null;this.Po&&h.N.yb(this.Po);this.Qo&&h.N.yb(this.Qo);this.Ke&&this.Ke.I();this.Qi&&this.Qi.I();this.zg&&this.zg.I()};
function qb(a,c){a.Fc=h.g.U.fl(new h.g.U(c.clientX,c.clientY),a.Gx);if(a.di)var d=!1;else a.di=h.g.U.AD(a.Fc)>(a.ma?h.Zz:h.Cz),d=a.di;if(d){if(a.Sv)throw Error("updateIsDragging_ should only be called once per gesture.");a.Sv=!0;if(a.xd){a.Hl=!0;a.zg=new h.Nm(a.xd,a.Ib);d=a.zg;h.h.Wb()||h.h.ta(!0);d.m.Zb(!1);d.Vb.Eq=!1;d.Yh&&(d.Vb.moveTo(0,0),d.Yh.Li(d.gf.x,d.gf.y),rb(d.Yh,d.Vb.ra()));d.Vb.jh&&d.Vb.jh(!0);var e=d.m.Na;e&&"function"==typeof e.yq&&e.yq(d.Vb.Zc()?"blocklyToolboxDelete":"blocklyToolboxGrab");
lb(a.zg,a.Od,a.Fc);d=!0}else d=!1;if(!d){if(a.ic)if(a.ma?(a.ic&&a.ic.isEnabled()?((d=!sb(a.ma))||(d=a.Fc,d=Math.atan2(d.y,d.x)/Math.PI*180,e=a.ma.uC,d=d<e&&d>-e||d<-180+e||d>180-e?!0:!1),d?(a.Ib=a.ma.Ka,tb(a.Ib),h.h.Wb()||h.h.ta(!0),a.dk=null,a.ic=ub(a.ma,a.ic),a.ic.select(),d=!0):d=!1):d=!1,a.ni=d):a.ic.rc()&&(a.ni=!0),a.ni){a.Ke=new h.xh(a.ic,a.Ib);d=a.Ke;e=a.Fc;var f=a.ix;h.h.Wb()||h.h.ta(!0);var g=new (h.h.get(h.h.Mm))(d.hb,!0,r(d.hb,!1));h.h.Ga(g);d.m.to&&Ca(d.hb);h.g.j.qm();d.m.Zb(!1);h.bb.kr();
if(d.hb.getParent()||f&&d.hb.Z&&d.hb.Z.va())x(d.hb,f),e=d.Yj(e),e=h.g.U.sum(d.gf,e),d.hb.translate(e.x,e.y),h.bb.pC(d.hb),e=d.Se,e.An=pa(e);d.hb.jh(!0);e=d.hb;e.Fm&&(f=e.Xa(),e.ra().removeAttribute("transform"),e.B.md.Li(f.x,f.y),(f=e.ra())&&rb(e.B.md,f));(e=d.m.Na)&&"function"==typeof e.yq&&e.yq(d.hb.Zc()?"blocklyToolboxDelete":"blocklyToolboxGrab");wa(a.Ke,a.Od,a.Fc);d=!0}else d=!1;else d=!1;if(d=!d)if(a.ma)d=sb(a.ma);else if(d=a.Ib)d=a.Ib,d=d.options.uc&&d.options.uc.Ej;d&&(a.Qi=new h.vn(a.Ib),
a.Il=!0,a.Qi.Gt())}h.Vg()}a.Od=c}b.mr=function(a){h.g.uo(a)?this.cancel():(this.ei=!0,h.bb.kr(),tb(this.Ib),this.Ib.to&&this.Ib.resize(),h.ec(!!this.ma),Sa(this.Ib),this.Od=a,h.G.block(),this.ic&&this.ic.select(),h.g.Ll(a)?ba(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||h.zD(a,this),this.Gx=new h.g.U(a.clientX,a.clientY),this.ix=a.altKey||a.ctrlKey||a.metaKey,this.rj(a)))};
b.rj=function(a){this.Po=h.N.Ca(document,"mousemove",null,this.Mj.bind(this));this.Qo=h.N.Ca(document,"mouseup",null,this.io.bind(this));a.preventDefault();a.stopPropagation()};b.Mj=function(a){qb(this,a);this.Il?this.Qi.Ej(this.Fc):this.ni?wa(this.Ke,this.Od,this.Fc):this.Hl&&lb(this.zg,this.Od,this.Fc);a.preventDefault();a.stopPropagation()};
b.io=function(a){qb(this,a);h.Vg();if(this.po)console.log("Trying to end a gesture recursively.");else{this.po=!0;if(this.Hl)mb(this.zg,a,this.Fc);else if(this.ni)za(this.Ke,a,this.Fc);else if(this.Il){var c=this.Qi;c.Ej(this.Fc);Va(c.m)}else if(this.xd&&!this.di)this.xd.JE&&this.xd.JE(),this.xd.select&&this.xd.select();else if(vb(this)){c=this.ek;var d=this.Od;wb(c)&&c.ep(d);xb(this)}else!this.dk||this.di||vb(this)?this.dk||this.xd||this.ek||this.di||(c=this.mw,h.selected&&pb(h.selected),c=this.Ib||
c,h.h.Ga(new (h.h.get(h.h.mk))(null,c.id,"workspace"))):(this.ma&&this.ma.qj?this.ic.isEnabled()&&(h.h.Wb()||h.h.ta(!0),Da(ub(this.ma,this.ic))):(c=new (h.h.get(h.h.mk))(this.dk,this.Ib.id,"block"),h.h.Ga(c)),xb(this),h.h.ta(!1));a.preventDefault();a.stopPropagation();this.I()}};b.cancel=function(){if(!this.po){h.Vg();if(this.Hl)mb(this.zg,this.Od,this.Fc);else if(this.ni)za(this.Ke,this.Od,this.Fc);else if(this.Il){var a=this.Qi;a.Ej(this.Fc);Va(a.m)}this.I()}};
function ba(a,c){a.ic?(xb(a),h.ec(!!a.ma),a.ic.mm(c)):a.xd?a.xd.mm(c):a.Ib&&!a.ma&&(h.ec(),a.Ib.mm(c));c.preventDefault();c.stopPropagation();a.I()}function yb(a,c,d){if(a.ei)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Ib||(a.Ib=d);a.Od=c;a.mr(c)}function zb(a,c,d){if(a.ei)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.ma||(a.ma=d);yb(a,c,d.m)}function xb(a){a.ic&&!a.ma&&Ca(a.ic)}
function Ab(a,c){a.dk||a.xd||(a.dk=c,c.ad&&c!=c.oe()?Bb(a,c.oe()):Bb(a,c))}function Bb(a,c){c.Qa?Bb(a,c.getParent()):a.ic=c}function vb(a){return(a.ek?wb(a.ek):!1)&&!a.di&&(!a.ma||!a.ma.qj)}b.$c=function(){return this.Il||this.ni||this.Hl};b.Hj=function(){return this.Ke?this.Ke.Hj():[]};h.Ee.ki=function(){for(var a=h.qb.getAll(),c=0,d;d=a[c];c++)if(d.oc)return!0;return!1};h.Ad=function(a,c,d){this.kf=this.zp;this.Ly=this.Ry=null;this.vc=new h.g.kd(0,0);this.s=this.Es=this.Ki=this.wc=this.Pb=this.Wc=this.Tf=this.Hf=null;d&&this.Vk(d);this.setValue(a);c&&(this.Ry=c)};b=h.Ad.prototype;b.zp=null;b.name=void 0;b.If=!1;b.Fx=50;b.M=null;b.Pg=!0;b.qh=!0;b.Wv=null;h.Ad.Uu="\u00a0";b=h.Ad.prototype;b.tk=!0;b.kv=!1;b.Vk=function(a){var c=a.tooltip;"string"==typeof c&&(c=h.g.dd(a.tooltip));c&&this.Mc(c)};
b.ea=function(){!this.s&&this.M&&this.M.B&&this.M.B.ua&&(this.s=this.M.B.ob.ea());return this.s};b.ga=function(){return this.M};b.za=function(){this.Wc||(this.Wc=h.g.j.J(h.g.D.Qc,{},null),this.isVisible()||(this.Wc.style.display="none"),this.M.ra().appendChild(this.Wc),this.lo(),Cb(this),this.Mc(this.Ly),h.G.rj(Db(this)),this.Es=h.N.Ca(Db(this),"mousedown",this,this.Zg))};b.lo=function(){Eb(this);Fb(this)};
function Eb(a){a.Pb=h.g.j.J(h.g.D.Mb,{rx:a.ea().Xm,ry:a.ea().Xm,x:0,y:0,height:a.vc.height,width:a.vc.width,"class":"blocklyFieldRect"},a.Wc)}function Fb(a){a.wc=h.g.j.J(h.g.D.tv,{"class":"blocklyText"},a.Wc);a.ea().Ep&&a.wc.setAttribute("dominant-baseline","central");a.Ki=document.createTextNode("");a.wc.appendChild(a.Ki)}b.rl=function(a){this.setValue(a.textContent)};b.I=function(){h.C.El(this);h.aa.El(this);h.G.Qt(Db(this));this.Es&&h.N.yb(this.Es);h.g.j.removeNode(this.Wc);this.If=!0};
function Cb(a){var c=a.Wc;a.tk&&c&&(a.M.Nd()?(h.g.j.Nb(c,"blocklyEditableText"),h.g.j.cd(c,"blocklyNonEditableText"),c.style.cursor=a.qk):(h.g.j.Nb(c,"blocklyNonEditableText"),h.g.j.cd(c,"blocklyEditableText"),c.style.cursor=""))}function wb(a){return!!a.M&&a.M.Nd()&&!!a.ep&&"function"===typeof a.ep}b.isVisible=function(){return this.qh};b.Hb=function(a){if(this.qh!=a){this.qh=a;var c=this.ra();c&&(c.style.display=a?"block":"none")}};b.ra=function(){return this.Wc};b.dc=function(){};
b.ot=function(){this.Ki&&(this.Ki.nodeValue=Gb(this));this.Py()};b.Py=function(){var a=this.ea(),c=this.Pb?this.ea().vk:0,d=2*c,e=a.Ym,f=0;this.wc&&(f=h.g.j.Lr(this.wc,a.Dh,a.hg,a.gg),d+=f);this.Pb&&(e=Math.max(e,a.uu));this.vc.height=e;this.vc.width=d;Ib(this,c,f);Jb(this)};function Ib(a,c,d){if(a.wc){var e=a.ea(),f=a.vc.height/2;a.wc.setAttribute("x",a.M.L?a.vc.width-d-c:c);a.wc.setAttribute("y",e.Ep?f:f-e.Ym/2+e.Dp)}}
function Jb(a){a.Pb&&(a.Pb.setAttribute("width",a.vc.width),a.Pb.setAttribute("height",a.vc.height),a.Pb.setAttribute("rx",a.ea().Xm),a.Pb.setAttribute("ry",a.ea().Xm))}b.Mf=function(){if(!this.isVisible())return new h.g.kd(0,0);this.Pg?(this.ot(),this.Pg=!1):this.qh&&0==this.vc.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.ot());return this.vc};
function Gb(a){var c=Kb(a);if(!c)return h.Ad.Uu;c.length>a.Fx&&(c=c.substring(0,a.Fx-2)+"\u2026");c=c.replace(/\s/g,h.Ad.Uu);a.M&&a.M.L&&(c+="\u200f");return c}function Kb(a){if(a.Rr){var c=a.Rr.call(a);if(null!==c)return String(c)}return String(a.getValue())}b.Pl=function(){this.Pg=!0;this.s=null};function Lb(a){a.Pg=!0;a.M&&a.M.ua&&(a.M.Ja(),a.M.Vc(),a.St())}
b.setValue=function(a){if(null!==a){var c=this.Wn(a);a=Mb(this,a,c);if(!(a instanceof Error)){if(c=this.Ry)if(c=c.call(this,a),a=Mb(this,a,c),a instanceof Error)return;c=this.M;if(!c||!c.If){var d=this.getValue();d===a?this.hl(a):(c&&h.h.isEnabled()&&h.h.Ga(new (h.h.get(h.h.sh))(c,"field",this.name||null,d,a)),this.hl(a),this.Pg&&Lb(this))}}}};function Mb(a,c,d){if(null===d)return a.Pg&&Lb(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.kf};
b.Wn=function(a){return null===a||void 0===a?null:a};b.hl=function(a){this.kf=a;this.Pg=!0};b.Zg=function(a){if(this.M&&this.M.B&&(a=this.M.B.Hg(a))){if(a.ei)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.ek||(a.ek=this)}};b.Mc=function(a){a||""===a||(a=this.M);var c=Db(this);c?c.Vd=a:this.Ly=a};function Db(a){return a.Wv||a.ra()}
b.Ue=function(){for(var a=null,c=this.M,d=c.T,e=0;e<c.T.length;e++)for(var f=d[e],g=f.eb,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};b.Ow=function(){return!1};b.Wf=function(a){a?(this.Wc.appendChild(a),this.Hf=a):this.Hf=null};b.kh=function(a){a?(this.Wc.appendChild(a),this.Tf=a):this.Tf=null};b.St=function(){var a=this.M.B;a.Ml&&this.Hf&&a.wl().draw();a.Ml&&this.Tf&&a.zl(h.Hk.Nu).draw()};h.Fg={};h.Fg.register=function(a,c){h.v.register(h.v.R.Ac,a,c)};h.Fg.unregister=function(a){h.v.unregister(h.v.R.Ac,a)};h.Fg.ba=function(a){var c=h.v.Or(h.v.R.Ac,a.type);return c?c.ba(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};h.g.Ab={};h.g.Ab.ez="aria-";h.g.Ab.XA="role";h.g.Ab.kn={mG:"grid",nG:"gridcell",oG:"group",tA:"listbox",yA:"menu",zA:"menuitem",OG:"menuitemcheckbox",FA:"option",TH:"presentation",hq:"row",rI:"tree",sI:"treeitem"};h.g.Ab.State={bz:"activedescendant",DF:"colcount",Az:"disabled",RF:"expanded",wG:"invalid",rA:"label",EG:"labelledby",HG:"level",MH:"orientation",SH:"posinset",ZH:"rowcount",dj:"selected",cI:"setsize",vI:"valuemax",wI:"valuemin"};h.g.Ab.lh=function(a,c){a.setAttribute(h.g.Ab.XA,c)};
h.g.Ab.bp=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(h.g.Ab.ez+c,d)};h.g.ka={BI:0,JG:3,hz:8,iI:9,VG:12,Kz:13,mn:16,zh:17,Ri:18,OH:19,zF:20,Lz:27,$A:32,KA:33,JA:34,Jz:35,fA:36,Yb:37,jB:38,jd:39,Bz:40,RH:43,UH:44,vG:45,Bh:46,ZERO:48,ONE:49,tI:50,jI:51,lG:52,jG:53,fI:54,dI:55,PF:56,TG:57,hG:59,fG:61,eG:173,gG:163,VH:63,rF:64,nF:65,sF:66,vp:67,HF:68,E:69,SF:70,Qc:71,pG:72,rG:73,BG:74,CG:75,DG:76,IG:77,SG:78,kH:79,NH:80,Q:81,WH:82,$H:83,hI:84,uI:85,tq:86,yI:87,wq:88,nB:89,nj:90,$i:91,CI:92,GF:93,jH:96,cH:97,iH:98,hH:99,ZG:100,YG:101,gH:102,fH:103,XG:104,bH:105,aH:106,eH:107,
$G:109,dH:110,WG:111,TF:112,XF:113,YF:114,ZF:115,$F:116,aG:117,bG:118,cG:119,dG:120,UF:121,VF:122,WF:123,UG:144,aI:145,iG:166,FG:183,bI:186,IF:189,QF:187,FF:188,PH:190,gI:191,qF:192,kI:192,eI:222,lH:219,tF:220,CF:221,AI:224,KG:224,LG:91,MG:93,zI:229,xI:252,QH:255};h.Tp=function(){this.qe=[];this.Fi=this.cb=this.Oo=this.Jo=this.Io=this.Ff=this.Ko=this.gi=this.Ss=null};b=h.Tp.prototype;
b.Ja=function(a){var c=document.createElement("div");c.className="blocklyMenu goog-menu blocklyNonSelectable";c.tabIndex=0;this.Fi&&h.g.Ab.lh(c,this.Fi);this.cb=c;for(var d=0,e;e=this.qe[d];d++)c.appendChild(e.Ua());this.Ko=h.N.Ca(c,"mouseover",this,this.cD,!0);this.Ff=h.N.Ca(c,"click",this,this.YC,!0);this.Io=h.N.Ca(c,"mouseenter",this,this.aD,!0);this.Jo=h.N.Ca(c,"mouseleave",this,this.bD,!0);this.Oo=h.N.Ca(c,"keydown",this,this.ZC);a.appendChild(c)};
b.focus=function(){var a=this.cb;a&&(a.focus({preventScroll:!0}),h.g.j.Nb(a,"blocklyFocused"))};b.lh=function(a){this.Fi=a};b.I=function(){this.Ko&&(h.N.yb(this.Ko),this.Ko=null);this.Ff&&(h.N.yb(this.Ff),this.Ff=null);this.Io&&(h.N.yb(this.Io),this.Io=null);this.Jo&&(h.N.yb(this.Jo),this.Jo=null);this.Oo&&(h.N.yb(this.Oo),this.Oo=null);for(var a=0,c;c=this.qe[a];a++)c.I();this.cb=null};
function Nb(a,c){for(var d=a.cb;c&&c!=d;){if(h.g.j.Ur(c,"blocklyMenuItem"))for(var e=0,f;f=a.qe[e];e++)if(f.cb==c)return f;c=c.parentElement}return null}b.te=function(a){var c=this.gi;c&&(c.te(!1),this.gi=null);a&&(a.te(!0),this.gi=a,c=this.cb,h.g.style.GE(a.cb,c),h.g.Ab.bp(c,h.g.Ab.State.bz,a.pc()))};function Ob(a,c,d){c+=d;for(var e;e=a.qe[c];){if(e.isEnabled()){a.te(e);break}c+=d}}b.cD=function(a){(a=Nb(this,a.target))&&(a.isEnabled()?this.gi!=a&&this.te(a):this.te(null))};
b.YC=function(a){var c=this.Ss;this.Ss=null;c&&"number"==typeof a.clientX&&1>h.g.U.lr(c,new h.g.U(a.clientX,a.clientY))||(a=Nb(this,a.target))&&a.isEnabled()&&a.Qk&&a.Qk(a)};b.aD=function(){this.focus()};b.bD=function(){if(this.cb){var a=this.cb;a&&(a.blur(),h.g.j.cd(a,"blocklyFocused"));this.te(null)}};
b.ZC=function(a){if(this.qe.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var c=this.gi;switch(a.keyCode){case h.g.ka.Kz:case h.g.ka.$A:c&&c.isEnabled()&&c.Qk&&c.Qk(c);break;case h.g.ka.jB:c=this.qe.indexOf(this.gi);Ob(this,0>c?this.qe.length:c,-1);break;case h.g.ka.Bz:Ob(this,this.qe.indexOf(this.gi),1);break;case h.g.ka.KA:case h.g.ka.fA:Ob(this,-1,1);break;case h.g.ka.JA:case h.g.ka.Jz:Ob(this,this.qe.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
b.Mf=function(){var a=this.cb,c=h.g.style.Mf(a);c.height=a.scrollHeight;return c};h.Up=function(a,c){this.Gf=a;this.kf=c;this.Zn=!0;this.cb=null;this.vt=!1;this.Fi=null;this.lx=this.Rq=this.Qq=!1;this.Qk=null};b=h.Up.prototype;
b.Ua=function(){var a=document.createElement("div");a.id=h.g.Ck.Qw();this.cb=a;a.className="blocklyMenuItem goog-menuitem "+(this.Zn?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.Rq?"blocklyMenuItemSelected goog-option-selected ":"")+(this.lx?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.vt?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="blocklyMenuItemContent goog-menuitem-content";if(this.Qq){var d=document.createElement("div");
d.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";c.appendChild(d)}d=this.Gf;"string"==typeof this.Gf&&(d=document.createTextNode(this.Gf));c.appendChild(d);a.appendChild(c);this.Fi&&h.g.Ab.lh(a,this.Fi);h.g.Ab.bp(a,h.g.Ab.State.dj,this.Qq&&this.Rq||!1);h.g.Ab.bp(a,h.g.Ab.State.Az,!this.Zn);return a};b.I=function(){this.cb=null};b.pc=function(){return this.cb.id};b.getValue=function(){return this.kf};b.lh=function(a){this.Fi=a};
b.te=function(a){this.lx=a;var c=this.cb;c&&this.isEnabled()&&(a?(h.g.j.Nb(c,"blocklyMenuItemHighlight"),h.g.j.Nb(c,"goog-menuitem-highlight")):(h.g.j.cd(c,"blocklyMenuItemHighlight"),h.g.j.cd(c,"goog-menuitem-highlight")))};b.isEnabled=function(){return this.Zn};b.df=function(a){this.Zn=a};function Pb(a,c,d){a.Qk=c.bind(d)};h.Wa=function(a,c,d){"function"!=typeof a&&h.Wa.Qy(a);this.Sl=a;this.It=this.ct=this.ao=null;a=this.Sl;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=h.g.dd(g):(null!=g.alt&&(a[f][0].alt=h.g.dd(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=h.g.Ra.Dt(e);g=h.g.Ra.Yv(e,f);var k=h.g.Ra.Zv(e,f);!g&&!k||f<=g+k||(g&&(this.ct=e[0].substring(0,g-1)),k&&(this.It=e[0].substr(1-k)),this.Sl=h.Wa.CB(a,g,k))}}this.$j=this.getOptions(!1)[0];
h.Wa.A.constructor.call(this,this.$j[1],c,d);this.fk=this.Ed=this.Ic=this.Kc=this.gm=null};h.g.object.W(h.Wa,h.Ad);h.Wa.ba=function(a){return new h.Wa(a.options,void 0,a)};h.Wa.prototype.rl=function(a){Qb(this)&&this.getOptions(!1);this.setValue(a.textContent)};h.Wa.prototype.kv=!0;h.Wa.AF=25;h.Wa.NG=.45;h.Wa.jA=5;h.Wa.kA=2*h.Wa.jA;h.Wa.Km=h.g.userAgent.Jm?"\u25bc":"\u25be";b=h.Wa.prototype;b.qk="default";
b.lo=function(){!this.ea().wu||this.ea().wu&&!this.M.Qa?Eb(this):this.Wv=this.M.ra();Fb(this);this.Ic=h.g.j.J(h.g.D.Ak,{},this.Wc);this.ea().Wz?(this.fk=h.g.j.J(h.g.D.Ak,{height:this.ea().wk+"px",width:this.ea().wk+"px"},this.Wc),this.fk.setAttributeNS(h.g.j.ld,"xlink:href",this.ea().Xz)):(this.Ed=h.g.j.J(h.g.D.vv,{},this.wc),this.Ed.appendChild(document.createTextNode(this.M.L?h.Wa.Km+" ":" "+h.Wa.Km)),this.M.L?this.wc.insertBefore(this.Ed,this.Ki):this.wc.appendChild(this.Ed));this.Pb&&h.g.j.Nb(this.Pb,
"blocklyDropdownRect")};
b.ep=function(a){var c=new h.Tp;c.lh(h.g.Ab.kn.tA);var d=this.getOptions(!1);this.gm=null;for(var e=0;e<d.length;e++){var f=d[e][0],g=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new h.Up(f,g);f.lh(h.g.Ab.kn.FA);f.vt=this.M.L;f.Qq=!0;c.qe.push(f);f.Rq=g==this.kf;g==this.kf&&(this.gm=f);Pb(f,this.$C,this)}this.Kc=c;this.Kc.Ss=a&&"number"===typeof a.clientX?new h.g.U(a.clientX,a.clientY):null;this.Kc.Ja(h.C.OC());h.g.j.Nb(this.Kc.cb,"blocklyDropdownMenu");
this.ea().Vz&&(a=this.M.Qa?this.M.getParent().Jr():this.M.Jr(),c=this.M.Qa?this.M.getParent().style.wj:this.M.style.wj,h.C.Lc(a,c));h.C.NE(this,this.vC.bind(this));this.Kc.focus();this.gm&&this.Kc.te(this.gm);this.dc()};b.vC=function(){this.Kc&&this.Kc.I();this.gm=this.Kc=null;this.dc()};b.$C=function(a){h.C.El(this,!0);this.setValue(a.getValue())};h.Wa.CB=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};
function Qb(a){return"function"==typeof a.Sl}b=h.Wa.prototype;b.getOptions=function(a){return Qb(this)?(this.ao&&a||(this.ao=this.Sl.call(this),h.Wa.Qy(this.ao)),this.ao):this.Sl};b.Wn=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.M&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.M.type+", Field name: "+this.name+", Value: "+a),null)};
b.hl=function(a){h.Wa.A.hl.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.kf&&(this.$j=d)};b.dc=function(){this.Pb&&(this.Pb.setAttribute("stroke",this.M.style.wj),this.Kc?this.Pb.setAttribute("fill",this.M.style.wj):this.Pb.setAttribute("fill","transparent"));this.M&&this.Ed&&(this.Ed.style.fill=this.M.Qa?this.M.style.In:this.M.style.Sh)};
b.ot=function(){this.Ki.nodeValue="";this.Ic.style.display="none";var a=this.$j&&this.$j[0];if(a&&"object"==typeof a){this.Ic.style.display="";this.Ic.setAttributeNS(h.g.j.ld,"xlink:href",a.src);this.Ic.setAttribute("height",a.height);this.Ic.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.Pb,e=Math.max(d?this.ea().vu:0,c+h.Wa.kA);d=d?this.ea().vk:0;var f=this.fk?Rb(this,a+d,e/2-this.ea().wk/2):h.g.j.Lr(this.Ed,this.ea().Dh,this.ea().hg,this.ea().gg);this.vc.width=
a+f+2*d;this.vc.height=e;var g=0;this.M.L?this.Ic.setAttribute("x",d+f):(g=a+f,this.wc.setAttribute("text-anchor","end"),this.Ic.setAttribute("x",d));this.Ic.setAttribute("y",e/2-c/2);Ib(this,g+d,a+f)}else this.Ki.nodeValue=Gb(this),h.g.j.Nb(this.wc,"blocklyDropdownText"),this.wc.setAttribute("text-anchor","start"),e=!!this.Pb,c=Math.max(e?this.ea().vu:0,this.ea().Ym),a=h.g.j.Lr(this.wc,this.ea().Dh,this.ea().hg,this.ea().gg),e=e?this.ea().vk:0,d=0,this.fk&&(d=Rb(this,a+e,c/2-this.ea().wk/2)),this.vc.width=
a+d+2*e,this.vc.height=c,Ib(this,e,a);Jb(this)};function Rb(a,c,d){if(!a.fk)return 0;var e=a.Pb?a.ea().vk:0,f=a.ea().Yz,g=a.ea().wk;a.fk.setAttribute("transform","translate("+(a.M.L?e:c+f)+","+d+")");return g+f}b.Rr=function(){if(!this.$j)return null;var a=this.$j[0];return"object"==typeof a?a.alt:a};
h.Wa.Qy=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};h.Fg.register("field_dropdown",h.Wa);h.h.vg=function(a,c){h.h.vg.A.constructor.call(this,c);this.ks=a};h.g.object.W(h.h.vg,h.h.ae);h.h.vg.prototype.type=h.h.pq;h.h.vg.prototype.qa=function(){var a=h.h.vg.A.qa.call(this);a.isOpen=this.ks;return a};h.h.vg.prototype.ba=function(a){h.h.vg.A.ba.call(this,a);this.ks=a.isOpen};h.v.register(h.v.R.Fb,h.h.pq,h.h.vg);h.yG=function(){};h.zG=function(){};h.bc=function(a){this.m=a;this.Cg=[];this.Te=null;0>=this.m.options.Go||(a=new h.gd({scrollbars:!0,parentWorkspace:this.m,rtl:this.m.L,oneBasedIndex:this.m.options.Ro,renderer:this.m.options.qt,rendererOverrides:this.m.options.rt,move:{scrollbars:!0}}),this.m.Yc?(a.Nc=this.m.Nc==h.g.V.Pa.Nh?h.g.V.Pa.Si:h.g.V.Pa.Nh,this.Te=new (h.v.Gg(h.v.R.yu,this.m.options,!0))(a)):(a.Nc=this.m.Nc==h.g.V.Pa.jd?h.g.V.Pa.Yb:h.g.V.Pa.jd,this.Te=new (h.v.Gg(h.v.R.Gp,this.m.options,!0))(a)),C(this.m,this.QD.bind(this)))};
b=h.bc.prototype;b.lj=47;b.lk=44;b.Gh=16;b.Rp=20;b.Ou=20;b.an=10;b.jq=0;b.kq=32;b.dA=.1;h.bc.dz=80;h.bc.Yt=4;h.bc.Xu=.4;h.bc.EA=.8;h.bc.Pu=45;b=h.bc.prototype;b.qo=!1;b.Ds=0;b.O=null;b.hp=null;b.rs=0;b.Ug=0;b.zo=0;b.oh=0;
b.Ua=function(){this.O=h.g.j.J(h.g.D.Qc,{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var c=h.g.j.J(h.g.D.gu,{id:"blocklyTrashBodyClipPath"+a},this.O);h.g.j.J(h.g.D.Mb,{width:this.lj,height:this.lk,y:this.Gh},c);var d=h.g.j.J(h.g.D.Ak,{width:h.ej.width,x:-this.jq,height:h.ej.height,y:-this.kq,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.O);d.setAttributeNS(h.g.j.ld,"xlink:href",this.m.options.Wo+h.ej.url);c=h.g.j.J(h.g.D.gu,{id:"blocklyTrashLidClipPath"+a},this.O);
h.g.j.J(h.g.D.Mb,{width:this.lj,height:this.Gh},c);this.hp=h.g.j.J(h.g.D.Ak,{width:h.ej.width,x:-this.jq,height:h.ej.height,y:-this.kq,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.O);this.hp.setAttributeNS(h.g.j.ld,"xlink:href",this.m.options.Wo+h.ej.url);h.N.bind(this.O,"mousedown",this,this.GB);h.N.bind(this.O,"mouseup",this,this.click);h.N.bind(d,"mouseover",this,this.HD);h.N.bind(d,"mouseout",this,this.FD);this.Aq();return this.O};
b.za=function(a){0<this.m.options.Go&&(h.g.j.Pj(this.Te.Ua(h.g.D.gj),y(this.m)),this.Te.za(this.m));this.mp=this.Rp+a;ya(this,!1);return this.mp+this.lk+this.Gh};b.I=function(){this.O&&(h.g.j.removeNode(this.O),this.O=null);this.m=this.hp=null;clearTimeout(this.rs)};
b.position=function(a,c){if(this.mp){this.zo=a.Ky.position==h.g.V.Pa.Yb||this.m.Yc&&!this.m.L?a.Uy.width+a.xq.left-this.lj-this.Ou-h.ya.fc:this.Ou+h.ya.fc;var d=this.lk+this.Gh,e=this.oh=a.xq.top+this.mp,f=a.xq.top+a.Uy.height-d-this.mp;this.oh=(a=a.Ky.position!==h.g.V.Pa.Si)?f:e;for(var g=this.ai(),k=0,l;l=c[k];k++)g.left>l.right||g.right<l.left||g.top>l.bottom||g.bottom<l.top||(this.oh=a?l.top-d-this.Rp:l.bottom+this.Rp,g=this.ai(),k=-1);this.oh=h.g.td.uj(e,this.oh,f);this.O.setAttribute("transform",
"translate("+this.zo+","+this.oh+")")}};b.ai=function(){return new h.g.Rect(this.oh,this.oh+this.lk+this.Gh,this.zo,this.zo+this.lj)};b.vl=function(){if(!this.O)return null;var a=this.O.getBoundingClientRect(),c=a.top+this.kq-this.an;a=a.left+this.jq-this.an;return new h.g.Rect(c,c+this.Gh+this.lk+2*this.an,a,a+this.lj+2*this.an)};function ya(a,c){a.qo!=c&&(clearTimeout(a.rs),a.qo=c,a.Aq())}
b.Aq=function(){var a=1/(h.bc.Yt+1);this.Ug+=this.qo?a:-a;this.Ug=Math.min(Math.max(this.Ug,this.Ds),1);Sb(this,this.Ug*h.bc.Pu);this.O.style.opacity=h.bc.Xu+this.Ug*(h.bc.EA-h.bc.Xu);this.Ug>this.Ds&&1>this.Ug&&(this.rs=setTimeout(this.Aq.bind(this),h.bc.dz/h.bc.Yt))};function Sb(a,c){var d=a.m.Nc==h.g.V.Pa.jd||a.m.Yc&&a.m.L;a.hp.setAttribute("transform","rotate("+(d?-c:c)+","+(d?4:a.lj-4)+","+(a.Gh-2)+")")}b.Hn=function(){ya(this,!1)};
b.click=function(){if(this.Cg.length&&!this.Te.isVisible()){for(var a=[],c=0,d;d=this.Cg[c];c++)a[c]=h.K.we(d);this.Te.show(a);Tb(this,!0)}};function Tb(a,c){a=new (h.h.get(h.h.pq))(c,a.m.id);h.h.Ga(a)}b.GB=function(a){!this.Te.isVisible()&&this.Cg.length&&a.stopPropagation()};b.HD=function(){this.Cg.length&&ya(this,!0)};b.FD=function(){ya(this,!1)};
b.QD=function(a){if(!(0>=this.m.options.Go)&&a.type==h.h.rp&&a.Xj.tagName&&"shadow"!=a.Xj.tagName.toLowerCase()){for(var c=a=a.Xj.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"),c.removeAttribute("disabled"),"comment"==c.nodeName&&(c.removeAttribute("h"),c.removeAttribute("w"),c.removeAttribute("pinned")));var d=c.firstChild||c.nextSibling;if(!d)for(d=c.parentNode;d;){if(d.nextSibling){d=d.nextSibling;break}d=d.parentNode}c=d}a=h.K.Jd(a);
if(-1==this.Cg.indexOf(a)){for(this.Cg.unshift(a);this.Cg.length>this.m.options.Go;)this.Cg.pop();this.Ds=a=this.dA;this.qo||Sb(this,a*h.bc.Pu)}}};h.F=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.Bm=a;this.Da=c;this.$y=null;(a=d||null)&&a.Zy&&(this.$y=a.Zy)};h.F.types={Ac:"field",Rb:"block",Bd:"input",Jh:"output",og:"next",qg:"previous",Mh:"stack",Sc:"workspace"};h.F.ng=!1;h.F.yz=-20;h.F.pJ=function(a){switch(a){case h.F.types.qg:case h.F.types.og:case h.F.types.Bd:case h.F.types.Jh:return!0}return!1};h.F.al=function(a){return a?new h.F(h.F.types.Ac,a):null};
h.F.Eg=function(a){if(!a)return null;var c=a.type;return c==h.X.Sb||c==h.X.Tb&&a.Ue()?h.F.Vh(a.Ue()):c==h.X.Tb?new h.F(h.F.types.og,a):c==h.X.fd?new h.F(h.F.types.Jh,a):c==h.X.hd?new h.F(h.F.types.qg,a):null};h.F.Vh=function(a){return a&&a.connection?new h.F(h.F.types.Bd,a.connection):null};h.F.Dg=function(a){return a?new h.F(h.F.types.Rb,a):null};h.F.On=function(a){return a?new h.F(h.F.types.Mh,a):null};h.F.iC=function(a,c){return c&&a?new h.F(h.F.types.Sc,a,{Zy:c}):null};
h.F.WI=function(a){var c=a.Y||a.S;return c?h.F.Eg(c):h.F.Dg(a)};b=h.F.prototype;b.vb=function(){return this.Bm};function Ub(a,c){a=a.Da;a instanceof h.Ti||(a=a.ga());if(!a||!a.B)return null;var d=a.oe();a=d.B.tb(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:h.F.On(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}
function Vb(a){if(!a)return null;do var c=a.Y&&a.Y.va();while(c&&u(c)==a&&(a=c));return(c=a.Y||a.S)&&c.Aa&&c.Aa.Ue()?h.F.Vh(c.Aa.Ue()):h.F.On(a)}b.ga=function(){return this.vb()===h.F.types.Rb?this.Da:this.vb()===h.F.types.Mh?this.Da:this.vb()===h.F.types.Sc?null:this.Da.ga()};
b.next=function(){switch(this.Bm){case h.F.types.Mh:return Ub(this,!0);case h.F.types.Jh:var a=this.Da;return h.F.Dg(a.ga());case h.F.types.Ac:a:{var c=this.Da,d=c.Ue();a=c.ga();c=d.eb.indexOf(c)+1;d=a.T.indexOf(d);for(var e;e=a.T[d];d++){for(var f=e.eb;c<f.length;){if(wb(f[c])||h.F.ng){a=h.F.al(f[c]);break a}c++}c=0;if(e.connection){a=h.F.Vh(e);break a}}a=null}return a;case h.F.types.Bd:a:{c=this.Da.Ue();a=c.ga();for(c=a.T.indexOf(c)+1;d=a.T[c];c++){e=d.eb;f=0;for(var g;g=e[f];f++)if(wb(g)||h.F.ng){a=
h.F.al(g);break a}if(d.connection){a=h.F.Vh(d);break a}}a=null}return a;case h.F.types.Rb:return h.F.Eg(this.Da.Z);case h.F.types.qg:return a=this.Da,h.F.Dg(a.ga());case h.F.types.og:return a=this.Da,h.F.Eg(a.Aa)}return null};
b.Ng=function(){switch(this.Bm){case h.F.types.Sc:var a=this.Da.tb(!0);if(0<a.length)return h.F.On(a[0]);break;case h.F.types.Mh:a=this.Da;var c=a.Y||a.S;return c?h.F.Eg(c):h.F.Dg(a);case h.F.types.Rb:a=this.Da;a:{a=a.T;c=0;for(var d;d=a[c];c++){for(var e=d.eb,f=0,g;g=e[f];f++)if(wb(g)||h.F.ng){a=h.F.al(g);break a}if(d.connection){a=h.F.Vh(d);break a}}a=null}return a;case h.F.types.Bd:return h.F.Eg(this.Da.Aa)}return null};
b.fh=function(){switch(this.Bm){case h.F.types.Mh:return Ub(this,!1);case h.F.types.Ac:a:{var a=this.Da;var c=a.Ue();var d=a.ga();a=c.eb.indexOf(a)-1;for(var e=d.T.indexOf(c),f;f=d.T[e];e--){if(f.connection&&f!==c){c=h.F.Vh(f);break a}for(f=f.eb;-1<a;){if(wb(f[a])||h.F.ng){c=h.F.al(f[a]);break a}a--}0<=e-1&&(a=d.T[e-1].eb.length-1)}c=null}return c;case h.F.types.Bd:a:{c=this.Da.Ue();d=c.ga();for(a=d.T.indexOf(c);e=d.T[a];a--){if(e.connection&&e!==c){c=h.F.Vh(e);break a}e=e.eb;f=e.length-1;for(var g;g=
e[f];f--)if(wb(g)||h.F.ng){c=h.F.al(g);break a}}c=null}return c;case h.F.types.Rb:return c=this.Da,h.F.Eg(c.Y||c.S);case h.F.types.qg:c=this.Da;if((c=c.Aa)&&!c.Ue())return h.F.Eg(c);break;case h.F.types.og:return c=this.Da,h.F.Dg(c.ga())}return null};
b.bh=function(){switch(this.Bm){case h.F.types.Mh:var a=this.Da,c=a.Xa();return h.F.iC(a.B,new h.g.U(c.x,c.y+h.F.yz));case h.F.types.Jh:return a=this.Da,(c=a.Aa)?h.F.Eg(c):h.F.On(a.ga());case h.F.types.Ac:return h.F.Dg(this.Da.ga());case h.F.types.Bd:return a=this.Da,h.F.Dg(a.ga());case h.F.types.Rb:return a=this.Da,Vb(a);case h.F.types.qg:return a=this.Da,Vb(a.ga());case h.F.types.og:return a=this.Da,Vb(a.ga())}return null};h.Lb=Object.create(null);h.Ba={};h.Ba.kk={};h.Ba.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(h.Ba.kk[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');h.Ba.kk[a]=c};h.Ba.CJ=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');h.Ba.register(a,function(){this.Xg(c)})};
h.Ba.DJ=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';h.Ba.Tv(f,c.Jf,"domToMutation");h.Ba.Tv(f,c.Pd,"mutationToDom");var g=h.Ba.Vv(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');h.Ba.register(a,function(){if(g){if(!h.BA)throw Error(f+"Missing require for Blockly.Mutator");this.zy(new h.BA(e||[]))}this.Xg(c);d&&d.apply(this)})};h.Ba.unregister=function(a){h.Ba.kk[a]?delete h.Ba.kk[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
h.Ba.apply=function(a,c,d){var e=h.Ba.kk[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)h.Ba.SB(a,c);else var f=h.Ba.Nr(c);e.apply(c);if(d)h.Ba.QB('Error after applying mutator "'+a+'": ',c);else if(!h.Ba.KD(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
h.Ba.Tv=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};h.Ba.SB=function(a,c){if(h.Ba.Nr(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
h.Ba.Vv=function(a,c){var d=void 0!==a.Vq,e=void 0!==a.Zq;if(d&&e){if("function"!=typeof a.Vq)throw Error(c+"compose must be a function.");if("function"!=typeof a.Zq)throw Error(c+"decompose must be a function.");return!0}if(d||e)throw Error(c+'Must have both or neither of "compose" and "decompose"');return!1};
h.Ba.QB=function(a,c){if("function"!=typeof c.Jf)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.Pd)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');h.Ba.Vv(c,a)};h.Ba.Nr=function(a){var c=[];void 0!==a.Jf&&c.push(a.Jf);void 0!==a.Pd&&c.push(a.Pd);void 0!==a.Vq&&c.push(a.Vq);void 0!==a.Zq&&c.push(a.Zq);return c};h.Ba.KD=function(a,c){c=h.Ba.Nr(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
h.Ba.HI=function(a,c){var d=[];"object"==typeof document&&h.g.vy(function(){for(var e in c)h.g.Uv(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(h.Ba.RB(this,a,c),d.push(this.type));this.Mc(function(){var e=String($a(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=h.g.dd(f);return f}.bind(this))}};
h.Ba.RB=function(a,c,d){var e=ka(a,c);if(!Qb(e)){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+c+" of block type "+a.type)}}};h.Ba.II=function(a,c){"object"==typeof document&&h.g.vy(function(){h.g.Uv(a)});return function(){this.Mc(function(){var d=ka(this,c);return h.g.dd(a).replace("%1",d?Kb(d):"")}.bind(this))}};
h.Ba.zC=function(){this.bF=this.Vd;this.Mc(function(){var a=this.getParent();return a&&ua(a)&&a.Vd||this.bF}.bind(this))};h.Ba.register("parent_tooltip_when_inline",h.Ba.zC);h.ed=function(a,c,d){this.Dn=null;h.ed.A.constructor.call(this,a,null,d);d||(this.Dn=c||null)};h.g.object.W(h.ed,h.Ad);h.ed.prototype.zp="";h.ed.ba=function(a){var c=h.g.dd(a.text);return new h.ed(c,void 0,a)};h.ed.prototype.tk=!1;h.ed.prototype.Vk=function(a){h.ed.A.Vk.call(this,a);this.Dn=a["class"]};h.ed.prototype.lo=function(){Fb(this);this.Dn&&h.g.j.Nb(this.wc,this.Dn)};h.ed.prototype.Wn=function(a){return null===a||void 0===a?null:String(a)};h.Fg.register("field_label",h.ed);h.Ku=function(a,c,d,e){if(a!=h.Ha.Ce&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.M=d;this.connection=e;this.eb=[]};b=h.Ku.prototype;b.align=h.lb.Wd.Yb;b.qh=!0;b.ga=function(){return this.M};function D(a,c,d){Wb(a,a.eb.length,c,d);return a}
function Wb(a,c,d,e){if(0>c||c>a.eb.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=h.Fg.ba({type:"field_label",text:d}));if(d.M)throw Error("Field already bound to a block.");d.M=a.M;a.M.ua&&(d.za(),d.dc());d.name=e;d.Hb(a.isVisible());d.ct&&(c=Wb(a,c,d.ct));a.eb.splice(c,0,d);++c;d.It&&(c=Wb(a,c,d.It));a.M.ua&&(a.M=a.M,a.M.Ja(),a.M.Vc());return c}b.isVisible=function(){return this.qh};
b.Hb=function(a){if(this.qh!=a){this.qh=a;for(var c=0,d;d=this.eb[c];c++)d.Hb(a);if(this.connection){this.connection=this.connection;if(a)Xb(this.connection);else if(c=this.connection,Yb(c,!1),c.Aa)for(c=r(c.va(),!1),d=0;d<c.length;d++){for(var e=c[d],f=e.le(!0),g=0;g<f.length;g++)Yb(f[g],!1);e=va(e);for(g=0;g<e.length;g++)e[g].Hb(!1)}if(c=this.connection.va())c.ra().style.display=a?"block":"none"}}};b.Pl=function(){for(var a=0,c;c=this.eb[a];a++)c.Pl()};
b.ak=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.ak(a)};function Zb(a,c){a.align=c;a.M.ua&&(a.M=a.M,a.M.Ja());return a}b.km=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.km(a)};b.Kj=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.Kj()};b.za=function(){if(this.M.B.ua)for(var a=0;a<this.eb.length;a++)this.eb[a].za()};
b.I=function(){for(var a=0,c;c=this.eb[a];a++)c.I();this.connection&&this.connection.I();this.M=null};h.Ti=function(a,c,d){if(h.Generator&&"undefined"!=typeof h.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.Hc(d)?d:h.g.Lf();a.Gq[this.id]=this;this.Y=this.Z=this.S=null;this.T=[];this.Of=void 0;this.disabled=!1;this.Vd="";this.contextMenu=!0;this.bf=null;this.Ef=[];this.Dw=this.Ix=this.qw=!0;this.Rh=this.Qa=!1;this.Th=null;this.fe={text:null,ay:!1,size:new h.g.kd(160,80)};this.az=new h.g.U(0,0);this.B=a;this.ad=a.Pf;this.L=
a.L;this.Tj=!1;this.We=void 0;this.ua=null;if(c){this.type=c;d=h.Lb[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);h.g.object.Xg(this,d)}a.xn(this);a.ag[this.type]||(a.ag[this.type]=[]);a.ag[this.type].push(this);(a=h.h.Wb())||h.h.ta(!0);c=h.h.Ma;try{"function"==typeof this.za&&(h.h.Ma=!1,this.za(),h.h.Ma=c),h.h.isEnabled()&&h.h.Ga(new (h.h.get(h.h.uh))(this))}finally{a||h.h.ta(!1),h.h.Ma=c}this.oD=this.Of;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=
typeof a)throw Error("onchange must be a function.");this.Wl&&gb(this.B,this.Wl);if(this.onchange=a)this.Wl=a.bind(this),C(this.B,this.Wl)}};h.Ti.Rm=h.lb.Rm;h.Ti.Qm=h.lb.Qm;b=h.Ti.prototype;b.data=null;b.If=!1;b.Gd="#000000";b.sm=null;
b.I=function(a){if(this.B){this.Wl&&gb(this.B,this.Wl);x(this,a);h.h.isEnabled()&&h.h.Ga(new (h.h.get(h.h.rp))(this));h.h.disable();try{if(this.B){this.B.Yo(this);var c=this.B;c.ag[this.type].splice(c.ag[this.type].indexOf(this),1);c.ag[this.type].length||delete c.ag[this.type];delete this.B.Gq[this.id];this.B=null}h.selected==this&&(h.selected=null);for(var d=this.Ef.length-1;0<=d;d--)this.Ef[d].I(!1);d=0;for(var e;e=this.T[d];d++)e.I();this.T.length=0;var f=this.le(!0);d=0;for(var g;g=f[d];d++)g.I()}finally{h.h.enable(),
this.If=!0}}};function x(a,c){if(a.S){var d=null;a.S.isConnected()&&(d=a.S.Aa,a.S.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.T.length;e++){var f=a.T[e].connection;if(f&&f.type==h.X.Sb&&f.Aa){if(c){c=null;break a}c=f}}}c&&c.isConnected()&&!c.va().Qa&&(c=c.Aa,c.disconnect(),A(a.B.Oe,c,d,!1)?d.connect(c):c.No(d))}}else a.Y&&(d=null,a.Y.isConnected()&&(d=a.Y.Aa,a.Y.disconnect()),e=u(a),c&&e&&!e.Qa&&(c=a.Z.Aa,c.disconnect(),d&&A(a.B.Oe,d,c,!1)&&d.connect(c)))}
b.le=function(){var a=[];this.S&&a.push(this.S);this.Y&&a.push(this.Y);this.Z&&a.push(this.Z);for(var c=0,d;d=this.T[c];c++)d.connection&&a.push(d.connection);return a};b.xo=function(){for(var a=this.Z;a;){var c=a.va();if(!c)return a;a=c.Z}return null};b.Vc=function(){};b.getParent=function(){return this.bf};function ma(a,c){for(var d=0,e;e=a.T[d];d++)if(e.connection&&e.connection.va()==c)return e;return null}function $b(a){do{var c=a;a=a.getParent();if(!a)return null}while(u(a)==c);return a}
function u(a){return a.Z&&a.Z.va()}b.oe=function(){var a=this;do{var c=a;a=c.bf}while(a);return c};function ca(a,c){if(!c)return a.Ef;c=[];for(var d=0,e;e=a.T[d];d++)e.connection&&(e=e.connection.va())&&c.push(e);(a=u(a))&&c.push(a);return c}
b.ap=function(a){if(a!=this.bf){if(this.bf){h.g.Rk(this.bf.Ef,this);if(this.Y&&this.Y.isConnected())throw Error("Still connected to previous block.");if(this.S&&this.S.isConnected())throw Error("Still connected to parent block.");this.bf=null}else this.B.Yo(this);(this.bf=a)?a.Ef.push(this):this.B.xn(this)}};function r(a,c){var d=[a];a=ca(a,c);for(var e,f=0;e=a[f];f++)d.push.apply(d,r(e,c));return d}b.Zc=function(){return this.qw&&!this.Qa&&!(this.B&&this.B.options.readOnly)};
b.rc=function(){return this.Ix&&!this.Qa&&!(this.B&&this.B.options.readOnly)};b.yt=function(a){this.Ix=a};b.Bt=function(a){this.Qa=a};b.rd=function(){return this.Tj};b.yy=function(a){this.Tj=a};b.Nd=function(){return this.Dw&&!(this.B&&this.B.options.readOnly)};b.xt=function(a){this.Dw=a;a=0;for(var c;c=this.T[a];a++)for(var d=0,e;e=c.eb[d];d++)Cb(e)};
b.Mr=function(a,c){var d=this.le(!0);a=a.le(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.Mc=function(a){this.Vd=a};b.Jr=function(){return this.Gd};b.Lc=function(a){this.Gd=h.g.To(a).Dl};b.Ii=function(a){this.sm=a};function ka(a,c){for(var d=0,e;e=a.T[d];d++)for(var f=0,g;g=e.eb[f];f++)if(g.name==c)return g;return null}function ja(a){for(var c=0,d;d=a.T[c];c++)for(var e=0;d.eb[e];e++);return[]}
function $a(a,c){return(a=ka(a,c))?a.getValue():null}b.ve=function(a,c){if(a){void 0===c&&(c=null);if(!this.Y){if(this.S)throw Error("Remove output connection prior to adding previous connection.");this.Y=this.Ol(h.X.hd)}this.Y.ak(c)}else if(this.Y){if(this.Y.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.Y.I();this.Y=null}};
b.ef=function(a,c){if(a)void 0===c&&(c=null),this.Z||(this.Z=this.Ol(h.X.Tb)),this.Z.ak(c);else if(this.Z){if(this.Z.isConnected())throw Error("Must disconnect next statement before removing connection.");this.Z.I();this.Z=null}};
b.zt=function(a,c){if(a){void 0===c&&(c=null);if(!this.S){if(this.Y)throw Error("Remove previous connection prior to adding output connection.");this.S=this.Ol(h.X.fd)}this.S.ak(c)}else if(this.S){if(this.S.isConnected())throw Error("Must disconnect output value before removing connection.");this.S.I();this.S=null}};b.ue=function(a){this.Of!=a&&(h.h.Ga(new (h.h.get(h.h.sh))(this,"inline",null,this.Of,a)),this.Of=a)};
function ua(a){if(void 0!=a.Of)return a.Of;for(var c=1;c<a.T.length;c++)if(a.T[c-1].type==h.Ha.Ce&&a.T[c].type==h.Ha.Ce)return!1;for(c=1;c<a.T.length;c++)if(a.T[c-1].type==h.Ha.Je&&a.T[c].type==h.Ha.Ce)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.df=function(a){this.isEnabled()!=a&&(h.h.Ga(new (h.h.get(h.h.sh))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function ac(a){for(a=$b(a);a;){if(a.disabled)return!0;a=$b(a)}return!1}b.isCollapsed=function(){return this.Rh};
b.Gi=function(a){this.Rh!=a&&(h.h.Ga(new (h.h.get(h.h.sh))(this,"collapsed",null,this.Rh,a)),this.Rh=a)};
b.toString=function(a,c){function d(n){var p=n.tj;!p&&n.Aa&&(p=n.Aa.tj);return!!p&&(-1!=p.indexOf("Boolean")||-1!=p.indexOf("Number"))}function e(){k&&k.vb()==l.vb()&&k.Da==l.Da&&(k=null)}var f=[];c=c||"?";var g=h.F.ng;h.F.ng=!0;for(var k=h.F.Dg(this),l=k;k;){switch(k.vb()){case h.F.types.Bd:var m=k.Da;k.Ng()?d(m)&&f.push("("):f.push(c);break;case h.F.types.Ac:m=k.Da,m.name!=h.lb.Qm&&f.push(Kb(m))}m=k;k=m.Ng()||m.next();if(!k){k=m.bh();for(e();k&&!k.next();)k=k.bh(),e(),k&&k.vb()==h.F.types.Bd&&d(k.Da)&&
f.push(")");k&&(k=k.next())}}h.F.ng=g;c=2;for(g=f.length;c<g;c++)"("==f[c-2]&&")"==f[c]&&(f[c-2]=f[c-1],f.splice(c-1,2),g-=2);f=f.join(" ").replace(/(\() | (\))/gmi,"$1$2").trim()||"???";a&&f.length>a&&(f=f.substring(0,a-3)+"...");return f};function E(a,c){return a.Bf(h.Ha.Ce,c||"")}
function bc(a,c){var d=c.type?'Block "'+c.type+'": ':"";if(c.output&&c.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");c.style&&c.style.We&&(a.We=c.style.We,c.style=null);if(c.style&&c.colour)throw Error(d+"Must not have both a colour and a style.");if(c.style){var e=c.style;try{a.Ii(e)}catch(Hb){console.warn(d+"Style does not exist: ",e)}}else if("colour"in c)if(void 0===c.colour)console.warn(d+"Undefined colour value.");else{e=c.colour;try{a.Lc(e)}catch(Hb){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==c["message"+e];){var f=a,g=c["args"+e]||[],k=c["lastDummyAlign"+e],l=d,m=h.g.aF(c["message"+e]),n=f;var p=m;for(var q=g.length,t=[],I=0,L=0;L<p.length;L++){var J=p[L];if("number"==typeof J){if(1>J||J>q)throw Error('Block "'+n.type+'": Message index %'+J+" out of range.");if(t[J])throw Error('Block "'+n.type+'": Message index %'+J+" duplicated.");t[J]=!0;I++}}if(I!=q)throw Error('Block "'+n.type+'": Message does not reference all '+q+" arg(s).");n=g;g=
[];for(p=0;p<m.length;p++){q=m[p];"number"==typeof q&&(q=n[q-1]);if("string"==typeof q&&(q=cc(q),!q))continue;g.push(q)}(m=g.length)&&!dc(g[m-1].type)&&(m={type:"input_dummy"},k&&(m.align=k),g.push(m));k=g;g=[];for(m=0;p=k[m];m++)if(dc(p.type)){n=f;q=l;I={LEFT:h.lb.Wd.Yb,RIGHT:h.lb.Wd.jd,CENTRE:h.lb.Wd.Pm,CENTER:h.lb.Wd.Pm};t=null;switch(p.type){case "input_value":t=n.Bf(h.Ha.Je,p.name);break;case "input_statement":t=n.Bf(h.Ha.lc,p.name);break;case "input_dummy":t=E(n,p.name)}t?(p.check&&t.ak(p.check),
p.align&&(n=I[p.align.toUpperCase()],void 0===n?console.warn(q+"Illegal align value: ",p.align):Zb(t,n)),n=t):n=null;if(n){for(p=0;q=g[p];p++)D(n,q[0],q[1]);g.length=0}}else(n=ec(f,p))&&g.push([n,p.name]);e++}void 0!==c.inputsInline&&a.ue(c.inputsInline);void 0!==c.output&&a.zt(!0,c.output);void 0!==c.previousStatement&&a.ve(!0,c.previousStatement);void 0!==c.nextStatement&&a.ef(!0,c.nextStatement);void 0!==c.tooltip&&(e=c.tooltip,e=h.g.dd(e),a.Mc(e));void 0!==c.enableContextMenu&&(e=c.enableContextMenu,
a.contextMenu=!!e);void 0!==c.helpUrl&&(e=c.helpUrl,e=h.g.dd(e),a.Xe=e);"string"==typeof c.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+c.type+"' block."),c.extensions=[c.extensions]);void 0!==c.mutator&&h.Ba.apply(c.mutator,a,!0);if(Array.isArray(c.extensions))for(c=c.extensions,d=0;d<c.length;++d)h.Ba.apply(c[d],a,!1)}
b.Xg=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}h.g.object.Xg(this,a)};function ec(a,c){var d=h.Fg.ba(c);return!d&&c.alt?"string"==typeof c.alt?(c=cc(c.alt))?ec(a,c):null:ec(a,c.alt):d}function dc(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}
function cc(a){return(a=a.trim())?{type:"field_label",text:a}:null}b.Bf=function(a,c){var d=null;if(a==h.Ha.Je||a==h.Ha.lc)d=this.Ol(a);a=new h.Ku(a,c,this,d);this.T.push(a);return a};b.kt=function(a,c){for(var d=0,e;e=this.T[d];d++)if(e.name==a)return e.I(),this.T.splice(d,1),!0;if(c)return!1;throw Error("Input not found: "+a);};function ia(a,c){for(var d=0,e;e=a.T[d];d++)if(e.name==c)return e;return null}function fc(a,c){return(a=ia(a,c))&&a.connection&&a.connection.va()}
b.bk=function(a){this.fe.text!=a&&(h.h.Ga(new (h.h.get(h.h.sh))(this,"comment",null,this.fe.text,a)),this.Th=this.fe.text=a)};b.zy=function(){};b.Xa=function(){return this.az};b.moveBy=function(a,c){if(this.bf)throw Error("Block has parent.");var d=new (h.h.get(h.h.vh))(this);this.az.translate(a,c);d.Di();h.h.Ga(d)};b.Ol=function(a){return new h.xa(this,a)};h.i={};h.i.Em=!1;h.i.register=function(a,c){h.v.register(h.v.R.RENDERER,a,c)};h.i.unregister=function(a){h.v.unregister(h.v.R.RENDERER,a)};h.i.TJ=function(){h.i.Em=!0};h.i.UJ=function(){h.i.Em=!1};h.i.za=function(a,c,d){a=new (h.v.Ir(h.v.R.RENDERER,a))(a);a.za(c,d);return a};h.tG=function(){};h.Vp=function(a){this.m=a};function gc(a){var c=0,d=0;a&&(c=a.Al(),d=a.qc);return new h.g.kd(c,d)}function hc(a){var c=gc(F(a.m,!0));return{width:c.width,height:c.height,position:a.m.Nc}}function ic(a){var c=gc(a.m.Na);return{width:c.width,height:c.height,position:a.m.Nc}}b=h.Vp.prototype;
b.tl=function(){var a=0,c=ic(this),d=hc(this),e=!!this.m.Na,f=!!F(this.m,!0),g=e?c.position:d.position,k=g==h.g.V.Pa.Yb;g=g==h.g.V.Pa.Nh;e&&k?a=c.width:f&&k&&(a=d.width);k=0;e&&g?k=c.height:f&&g&&(k=d.height);return{top:k,left:a}};
b.Ve=function(a){a=a?this.m.scale:1;var c=jc(this.m),d=ic(this),e=hc(this),f=this.m.Na?d.position:e.position;if(this.m.Na)if(f==h.g.V.Pa.Nh||f==h.g.V.Pa.Si)c.height-=d.height;else{if(f==h.g.V.Pa.Yb||f==h.g.V.Pa.jd)c.width-=d.width}else if(F(this.m,!0))if(f==h.g.V.Pa.Nh||f==h.g.V.Pa.Si)c.height-=e.height;else if(f==h.g.V.Pa.Yb||f==h.g.V.Pa.jd)c.width-=e.width;return{height:c.height/a,width:c.width/a,top:-this.m.scrollY/a,left:-this.m.scrollX/a}};
b.bo=function(){var a=this.m.scale,c=da(this.m);return{height:(c.bottom-c.top)*a,width:(c.right-c.left)*a,top:c.top*a,left:c.left*a}};b.Vr=function(){return!nb(this.m)||!ob(this.m)};
b.Jj=function(a,c,d){a=a?this.m.scale:1;var e=c||this.Ve(!1);d=d||this.bo();if(this.Vr()){c=nb(this.m);var f=ob(this.m),g=e||this.Ve(!1);var k={};f||(k.top=g.top,k.bottom=g.top+g.height);c||(k.left=g.left,k.right=g.left+g.width);c=k}else c={};k=d.top+d.height;f=d.left+d.width;g=e.width;var l=e.height;var m=g/2,n=l/2;e=Math.min(d.top-n,k-l);k=Math.max(k+n,d.top+l);l=Math.min(d.left-m,f-g);d=Math.max(f+m,d.left+g);e=void 0!==c.top?c.top:e;f=void 0!==c.left?c.left:l;return{top:e/a,left:f/a,width:((void 0!==
c.right?c.right:d)-f)/a,height:((void 0!==c.bottom?c.bottom:k)-e)/a}};b.me=function(){var a=ic(this),c=hc(this),d=jc(this.m),e=this.tl(),f=this.Ve(),g=this.bo(),k=this.Jj(!1,f,g);return{RI:g.height,UI:g.width,TI:g.top,SI:g.left,scrollHeight:k.height,scrollWidth:k.width,scrollTop:k.top,scrollLeft:k.left,Oc:f.height,yc:f.width,mf:f.top,lf:f.left,Tc:e.top,Ec:e.left,VJ:d.height,XJ:d.width,ZJ:a.width,YJ:a.height,Nc:a.position,bJ:c.width,aJ:c.height}};h.v.register(h.v.R.Su,h.v.rk,h.Vp);
h.Eh=function(a,c){this.ma=c;h.Eh.A.constructor.call(this,a)};h.g.object.W(h.Eh,h.Vp);h.Eh.prototype.bo=function(){try{var a=this.m.xb.getBBox()}catch(d){a={height:0,y:0,width:0,x:0}}var c=this.m.scale;return{height:a.height*c,width:a.width*c,top:a.y*c,left:a.x*c}};h.Eh.prototype.Jj=function(a,c,d){c=d||this.bo();d=this.ma.Hh*this.m.scale;a=a?this.m.scale:1;return{height:(c.height+2*d)/a,width:(c.width+c.left+d)/a,top:0,left:0}};
h.Eh.prototype.Ve=function(a){var c=jc(this.m);a=a?this.m.scale:1;if(this.ma.Yc){var d=c.width-2*this.ma.Kk;c=c.height-this.ma.Kk}else d=c.width-this.ma.Kk,c=c.height-2*this.ma.Kk;return{height:c/a,width:d/a,top:-this.m.scrollY/a,left:-this.m.scrollX/a}};h.Eh.prototype.tl=function(){var a=this.ma.Kk;return this.ma.Yc?{top:0,left:a}:{top:a,left:0}};h.i.xG=function(){};h.aa={};h.aa.Rd=null;h.aa.Vn=null;h.aa.se="";h.aa.xe="";h.aa.Ua=function(){h.aa.ab||(h.aa.ab=document.createElement("div"),h.aa.ab.className="blocklyWidgetDiv",(h.So||document.body).appendChild(h.aa.ab))};h.aa.show=function(a,c,d){h.aa.Ya();h.aa.Rd=a;h.aa.Vn=d;a=h.aa.ab;a.style.direction=c?"rtl":"ltr";a.style.display="block";c=h.Ig();h.aa.se=c.ob.ke();h.aa.xe=c.Nf().ke();h.g.j.Nb(a,h.aa.se);h.g.j.Nb(a,h.aa.xe)};
h.aa.Ya=function(){if(h.aa.isVisible()){h.aa.Rd=null;var a=h.aa.ab;a.style.display="none";a.style.left="";a.style.top="";h.aa.Vn&&h.aa.Vn();h.aa.Vn=null;a.textContent="";h.aa.se&&(h.g.j.cd(a,h.aa.se),h.aa.se="");h.aa.xe&&(h.g.j.cd(a,h.aa.xe),h.aa.xe="");Sa(h.Ig())}};h.aa.isVisible=function(){return!!h.aa.Rd};h.aa.El=function(a){h.aa.Rd==a&&h.aa.Ya()};h.aa.$l=function(a,c,d){h.aa.ab.style.left=a+"px";h.aa.ab.style.top=c+"px";h.aa.ab.style.height=d+"px"};
h.aa.cE=function(a,c,d,e){var f=h.aa.OB(a,c,d);a=h.aa.NB(a,c,d,e);0>f?h.aa.$l(a,0,d.height+f):h.aa.$l(a,f,d.height)};h.aa.NB=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};h.aa.OB=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};h.Sa={};h.Sa.Pn=null;h.Sa.Kc=null;h.Sa.show=function(a,c,d){h.aa.show(h.Sa,d,h.Sa.I);if(c.length){var e=h.Sa.bE(c,d);h.Sa.Kc=e;h.Sa.dE(e,a,d);setTimeout(function(){e.focus()},1);h.Sa.Pn=null}else h.Sa.Ya()};h.Sa.bE=function(a,c){var d=new h.Tp;d.lh(h.g.Ab.kn.yA);for(var e=0,f;f=a[e];e++){var g=new h.Up(f.text);g.vt=c;g.lh(h.g.Ab.kn.zA);d.qe.push(g);g.df(f.enabled);f.enabled&&Pb(g,function(){h.Sa.Ya();this.gb(this.scope)},f)}return d};
h.Sa.dE=function(a,c,d){var e=h.g.WC();c=new h.g.Rect(c.clientY+e.top,c.clientY+e.top,c.clientX+e.left,c.clientX+e.left);h.Sa.hC(a);var f=a.Mf();d&&(c.left+=f.width,c.right+=f.width,e.left+=f.width,e.right+=f.width);h.aa.cE(e,c,f,d);a.focus()};h.Sa.hC=function(a){a.Ja(h.aa.ab);var c=a.cb;h.g.j.Nb(c,"blocklyContextMenu");h.N.Ca(c,"contextmenu",null,h.g.OD);a.focus()};h.Sa.Ya=function(){h.aa.El(h.Sa);h.Sa.Pn=null};h.Sa.I=function(){h.Sa.Kc&&(h.Sa.Kc.I(),h.Sa.Kc=null)};
h.Sa.KI=function(a,c){return function(){h.h.disable();try{var d=h.K.Dj(c,a.B),e=a.Xa();e.x=a.L?e.x-h.kc:e.x+h.kc;e.y+=2*h.kc;d.moveBy(e.x,e.y)}finally{h.h.enable()}h.h.isEnabled()&&!d.Qa&&h.h.Ga(new (h.h.get(h.h.uh))(d));d.select()}};h.Sa.OI=function(a){return{text:h.P.REMOVE_COMMENT,enabled:!0,gb:function(){h.h.ta(!0);a.I(!0,!0);h.h.ta(!1)}}};h.Sa.QI=function(a){return{text:h.P.DUPLICATE_COMMENT,enabled:!0,gb:function(){h.duplicate(a)}}};
h.Sa.bK=function(a,c){if(!h.mj)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!h.g.userAgent.Yd};d.text=h.P.ADD_COMMENT;d.gb=function(){var e=new h.mj(a,h.P.WORKSPACE_COMMENT_DEFAULT_TEXT,h.mj.zz,h.mj.zz),f=aa(a).getBoundingClientRect();f=new h.g.U(c.clientX-f.left,c.clientY-f.top);var g=h.g.yl(a.xb);f=h.g.U.fl(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.ua&&(e.Oj(),e.Ja(),e.select())};return d};h.Ea=function(){h.Ea.v=this;this.vd={}};h.Ea.Dc={Rb:"block",Sc:"workspace"};h.Ea.v=null;h.Ea.prototype.register=function(a){if(this.vd[a.id])throw Error('Menu item with id "'+a.id+'" is already registered.');this.vd[a.id]=a};h.Ea.prototype.unregister=function(a){if(this.vd[a])delete this.vd[a];else throw Error('Menu item with id "'+a+'" not found.');};h.Ea.prototype.getItem=function(a){return this.vd[a]?this.vd[a]:null};
function kc(a,c){var d=[],e=h.Ea.v.vd;Object.keys(e).forEach(function(f){f=e[f];if(a==f.wd){var g=f.Db(c);"hidden"!=g&&(f={text:"function"==typeof f.Gc?f.Gc(c):f.Gc,enabled:"enabled"==g,gb:f.gb,scope:c,weight:f.weight},d.push(f))}});d.sort(function(f,g){return f.weight-g.weight});return d}new h.Ea;h.h.sg=function(a,c,d){h.h.sg.A.constructor.call(this,d);this.Ox=a;this.Mx=c};h.g.object.W(h.h.sg,h.h.ae);h.h.sg.prototype.type=h.h.dj;h.h.sg.prototype.qa=function(){var a=h.h.sg.A.qa.call(this);a.oldElementId=this.Ox;a.newElementId=this.Mx;return a};h.h.sg.prototype.ba=function(a){h.h.sg.A.ba.call(this,a);this.Ox=a.oldElementId;this.Mx=a.newElementId};h.v.register(h.v.R.Fb,h.h.dj,h.h.sg);h.Gb=function(a,c){h.Gb.A.constructor.call(this,a,c);this.Qe=a.B.Mn[c];this.nw=a.B.Mn[h.bj[c]];this.Uf=new h.g.U(0,0);this.$f=h.Gb.Ie.Bv;this.Aa=null};h.g.object.W(h.Gb,h.xa);h.Gb.Ie={Bv:-1,xv:0,jj:1};b=h.Gb.prototype;b.I=function(){h.Gb.A.I.call(this);this.$f==h.Gb.Ie.jj&&lc(this.Qe,this,this.y)};b.ga=function(){return h.Gb.A.ga.call(this)};b.va=function(){return h.Gb.A.va.call(this)};function Xa(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function mc(a,c){if(!a.M.B.$c()){var d=a.M.oe();if(!d.ad){var e=!1;if(!d.rc()){d=c.ga().oe();if(!d.rc())return;c=a;e=!0}var f=h.selected==d;f||d.wn();var g=c.x+h.kc+Math.floor(Math.random()*h.up)-a.x,k=c.y+h.kc+Math.floor(Math.random()*h.up)-a.y;e&&(k=-k);d.L&&(g=c.x-h.kc-Math.floor(Math.random()*h.up)-a.x);d.moveBy(g,k);f||d.em()}}}
b.moveTo=function(a,c){if(this.$f==h.Gb.Ie.Bv){var d=this.Qe;d.Cb.splice(nc(d,c),0,this);this.$f=h.Gb.Ie.jj}else this.$f==h.Gb.Ie.jj&&(lc(this.Qe,this,this.y),d=this.Qe,d.Cb.splice(nc(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function oc(a,c){a.moveTo(c.x+a.Uf.x,c.y+a.Uf.y)}function G(a,c,d){a.Uf.x=c;a.Uf.y=d}
function pc(a){var c=a.Aa.x-a.x,d=a.Aa.y-a.y;if(0!=c||0!=d){a=a.va();var e=a.ra();if(!e)throw Error("block is not rendered.");e=h.g.ne(e);a.ra().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");Aa(a,-c,-d)}}
b.closest=function(a,c){var d=this.nw;if(d.Cb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=nc(d,this.y);c=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.Cb[m].y-this.y)<=a;)l=d.Cb[m],A(d.dw,this,l,!0,k)&&(c=l,k=Xa(l,this)),m--;for(;g<d.Cb.length&&Math.abs(d.Cb[g].y-this.y)<=a;)l=d.Cb[g],A(d.dw,this,l,!0,k)&&(c=l,k=Xa(l,this)),g++;this.x=f;this.y=e;a={connection:c,Xo:k}}else a={connection:null,Xo:a};return a};
function Yb(a,c){c&&a.$f==h.Gb.Ie.jj||!c&&a.$f==h.Gb.Ie.xv||a.M.ad||(c?(c=a.Qe,c.Cb.splice(nc(c,a.y),0,a),a.$f=h.Gb.Ie.jj):(a.$f==h.Gb.Ie.jj&&lc(a.Qe,a,a.y),a.$f=h.Gb.Ie.xv))}function Xb(a){Yb(a,!0);var c=[];if(a.type!=h.X.Sb&&a.type!=h.X.Tb)return c;if(a=a.va()){if(a.isCollapsed()){var d=[];a.S&&d.push(a.S);a.Z&&d.push(a.Z);a.Y&&d.push(a.Y)}else d=a.le(!0);for(var e=0;e<d.length;e++)c.push.apply(c,Xb(d[e]));c.length||(c[0]=a)}return c}b.No=function(a){mc(this,a)};
b.ir=function(a,c){h.Gb.A.ir.call(this,a,c);a.ua&&a.Ja();c.ua&&(fa(c),c.Ja(),c.ra().style.display="block")};b.fm=function(){h.Gb.A.fm.call(this);var a=this.va();a&&(a.Oj(),a.Ja(!1),a=this.ga(),a.ua&&a.Ja())};b.Lx=function(a){return qc(this.nw,this,a)};b.Kn=function(a){h.Gb.A.Kn.call(this,a);var c=this.ga();a=a.ga();var d=c.ua,e=a.ua;d&&fa(c);e&&fa(a);d&&e&&(this.type==h.X.Tb||this.type==h.X.hd?a.Ja():c.Ja());if(c=ma(c,a))c=c.isVisible(),a.ra().style.display=c?"block":"none"};
b.Ux=function(){!this.isConnected()||this.Aa&&A(this.M.B.Oe,this,this.Aa,!1)||(x(Ba(this)?this.va():this.M),this.M.Vc())};h.dn=function(){this.Kd=this.ie=this.sb=null;this.type="marker"};function rc(a,c){var d=a.ie;a.ie=c;a.Kd&&a.Kd.draw(d,a.ie)}h.dn.prototype.draw=function(){this.Kd&&this.Kd.draw(this.ie,this.ie)};h.dn.prototype.Ya=function(){this.Kd&&this.Kd.Ya()};h.dn.prototype.I=function(){this.Kd&&this.Kd.I()};h.fg=function(){h.fg.A.constructor.call(this);this.type="cursor"};h.g.object.W(h.fg,h.dn);h.fg.prototype.next=function(){var a=this.ie;if(!a)return null;for(a=a.next();a&&a.next()&&(a.vb()==h.F.types.og||a.vb()==h.F.types.Rb);)a=a.next();a&&rc(this,a);return a};h.fg.prototype.Ng=function(){var a=this.ie;if(!a)return null;if(a.vb()==h.F.types.qg||a.vb()==h.F.types.Jh)a=a.next();(a=a.Ng())&&rc(this,a);return a};
h.fg.prototype.fh=function(){var a=this.ie;if(!a)return null;for(a=a.fh();a&&a.fh()&&(a.vb()==h.F.types.og||a.vb()==h.F.types.Rb);)a=a.fh();a&&rc(this,a);return a};h.fg.prototype.bh=function(){var a=this.ie;if(!a)return null;(a=a.bh())&&a.vb()==h.F.types.Rb&&(a=a.fh()||a);a&&rc(this,a);return a};h.v.register(h.v.R.qk,h.v.rk,h.fg);h.wh=function(){h.wh.A.constructor.call(this)};h.g.object.W(h.wh,h.fg);h.wh.yE="basicCursor";b=h.wh.prototype;b.next=function(){var a=this.ie;if(!a)return null;(a=sc(this,a,this.Tt))&&rc(this,a);return a};b.Ng=function(){return this.next()};b.fh=function(){var a=this.ie;if(!a)return null;(a=tc(this,a,this.Tt))&&rc(this,a);return a};b.bh=function(){return this.fh()};
function sc(a,c,d){if(!c)return null;var e=c.Ng()||c.next();if(d(e))return e;if(e)return sc(a,e,d);c=uc(a,c.bh());return d(c)?c:c?sc(a,c,d):null}function tc(a,c,d){if(!c)return null;var e=c.fh();e=e?vc(a,e):c.bh();return d(e)?e:e?tc(a,e,d):null}b.Tt=function(a){var c=!1;a=a&&a.vb();if(a==h.F.types.Jh||a==h.F.types.Bd||a==h.F.types.Ac||a==h.F.types.og||a==h.F.types.qg||a==h.F.types.Sc)c=!0;return c};function uc(a,c){if(!c)return null;var d=c.next();return d?d:uc(a,c.bh())}
function vc(a,c){if(!c.Ng())return c;for(c=c.Ng();c.next();)c=c.next();return vc(a,c)}h.v.register(h.v.R.qk,h.wh.yE,h.wh);h.qq=function(){h.qq.A.constructor.call(this)};h.g.object.W(h.qq,h.wh);h.qq.prototype.Tt=function(a){a&&a.vb();return!1};h.$a=function(a,c,d){this.O=h.g.j.J(h.g.D.Qc,{},null);this.O.Am="";this.style=wc(a.ob.ea(),null);this.wb=a.ob.Dx(this.O,this.style);this.nt=this.ua=!1;this.B=a;this.Y=this.Z=this.S=null;this.Fm=h.g.li()&&!!a.md;var e=this.wb.Eb;e.Vd=this;h.G.rj(e);h.$a.A.constructor.call(this,a,c,d);this.O.dataset?this.O.dataset.id=this.id:h.g.userAgent.Yd&&this.O.setAttribute("data-id",this.id)};h.g.object.W(h.$a,h.Ti);h.$a.prototype.height=0;h.$a.prototype.width=0;h.$a.prototype.np=null;h.$a.uG=-1;h.$a.EF="TEMP_COLLAPSED_WARNING_";
b=h.$a.prototype;b.Oj=function(){if(!this.B.ua)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.T[a];a++)c.za();c=va(this);for(a=0;a<c.length;a++)c[a].eC();this.dc();sa(this.wb,"blocklyDraggable",this.rc());a=this.ra();this.B.options.readOnly||this.yC||!a||h.N.Ca(a,"mousedown",this,this.Zg);this.yC=!0;a.parentNode||this.B.xb.appendChild(a)};
b.select=function(){if(this.Qa&&this.getParent())this.getParent().select();else if(h.selected!=this){var a=null;if(h.selected){a=h.selected.id;h.h.disable();try{pb(h.selected)}finally{h.h.enable()}}a=new (h.h.get(h.h.dj))(a,this.id,this.B.id);h.h.Ga(a);h.selected=this;this.wn()}};function pb(a){if(h.selected==a){var c=new (h.h.get(h.h.dj))(a.id,null,a.B.id);c.Xb=a.B.id;h.h.Ga(c);h.selected=null;a.em()}}b.re=null;b.Th=null;b.Hd=null;b.Vy=null;
function va(a){var c=[];a.re&&c.push(a.re);a.Hd&&c.push(a.Hd);a.Vy&&c.push(a.Vy);return c}b.ap=function(a){var c=this.bf;if(a!=c){h.g.j.qm();h.$a.A.ap.call(this,a);h.g.j.rm();var d=this.ra();if(!this.B.hs&&d){var e=this.Xa();a?(a.ra().appendChild(d),a=this.Xa(),Aa(this,a.x-e.x,a.y-e.y)):c&&(this.B.xb.appendChild(d),this.translate(e.x,e.y));this.dc()}}};
b.Xa=function(){var a=0,c=0,d=this.Fm?this.B.md.Wb():null,e=this.ra();if(e){do{var f=h.g.ne(e);a+=f.x;c+=f.y;this.Fm&&this.B.md.Re.firstChild==e&&(f=this.B.md.Qr(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.B.xb&&e!=d)}return new h.g.U(a,c)};b.moveBy=function(a,c){if(this.bf)throw Error("Block has parent.");var d=h.h.isEnabled();if(d)var e=new (h.h.get(h.h.vh))(this);var f=this.Xa();this.translate(f.x+a,f.y+c);Aa(this,a,c);d&&(e.Di(),h.h.Ga(e));ha(this.B)};
b.translate=function(a,c){this.ra().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.Xa();this.moveBy(a.x-c.x,a.y-c.y)};b.Fs=function(a){this.Fm?this.B.md.Li(a.x,a.y):(this.O.Am="translate("+a.x+","+a.y+")",this.O.setAttribute("transform",this.O.Am+this.O.pm))};
function xc(a){if(a.B&&!a.B.$c()&&!a.getParent()&&!a.ad){var c=a.B.Ld;if(c&&c.QE){var d=c.Ft,e=d/2,f=a.Xa();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}b.ai=function(){var a=this.Xa(),c=z(this);if(this.L){var d=a.x-c.width;var e=a.x}else d=a.x,e=a.x+c.width;return new h.g.Rect(a.y,a.y+c.height,d,e)};b.Pl=function(){this.wb.lb=this.B.ob.ea();for(var a=0,c;c=this.T[a];a++)c.Pl()};
b.Gi=function(a){this.Rh!=a&&(h.$a.A.Gi.call(this,a),a?this.ua&&this.Ja():yc(this))};function yc(a){for(var c=a.isCollapsed(),d=h.lb.Rm,e=h.lb.Qm,f=0,g;g=a.T[f];f++)g.name!=d&&g.Hb(!c);if(c){g=va(a);for(f=0;c=g[f];f++)c.Hb(!1);f=a.toString(h.mz);(g=ka(a,e))?g.setValue(f):(g=ia(a,d)||E(a,d),D(g,new h.ed(f),e))}else fa(a),a.kt(d)}
b.Zg=function(a){var c=this.B&&this.B.Hg(a);if(c){if(c.ei)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Ab(c,this);c.Od=a}};b.showHelp=function(){var a="function"==typeof this.Xe?this.Xe():this.Xe;a&&window.open(a)};b.mm=function(a){if(this.B.options.readOnly||!this.contextMenu)var c=null;else c=kc(h.Ea.Dc.Rb,{block:this}),this.jC&&this.jC(c);c&&c.length&&(h.Sa.show(a,c,this.L),h.Sa.Pn=this)};
function Aa(a,c,d){if(a.ua){for(var e=a.le(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=va(a);for(f=0;f<e.length;f++)e[f].YB();for(f=0;f<a.Ef.length;f++)Aa(a.Ef[f],c,d)}}b.jh=function(a){if(a){var c=this.ra();c.Am="";c.pm="";h.Fj=h.Fj.concat(this.le(!0));h.g.j.Nb(this.O,"blocklyDragging")}else h.Fj=[],h.g.j.cd(this.O,"blocklyDragging");for(c=0;c<this.Ef.length;c++)this.Ef[c].jh(a)};b.yt=function(a){h.$a.A.yt.call(this,a);sa(this.wb,"blocklyDraggable",a)};
b.xt=function(a){h.$a.A.xt.call(this,a);a=va(this);for(var c=0;c<a.length;c++)Cb(a[c])};b.Bt=function(a){h.$a.A.Bt.call(this,a);this.dc()};b.yy=function(a){this.Tj!=a&&(this.Tj=a)&&(this.Lc(this.B.ob.ea().Lp),sa(this.wb,"blocklyInsertionMarker",!0))};b.ra=function(){return this.O};
b.I=function(a,c){if(this.B){h.G.I();h.G.Qt(this.wb.Eb);h.g.j.qm();var d=this.B;h.selected==this&&(pb(this),zc(this.B));h.Sa.Pn==this&&h.Sa.Ya();c&&this.ua&&(x(this,a),h.bb.qC(this));this.ua=!1;if(this.np){for(var e in this.np)clearTimeout(this.np[e]);this.np=null}c=va(this);for(e=0;e<c.length;e++)c[e].I();h.$a.A.I.call(this,!!a);h.g.j.removeNode(this.O);ha(d);this.O=null;h.g.j.rm()}};
b.dc=function(){this.wb.dc(this);for(var a=va(this),c=0;c<a.length;c++)a[c].dc();for(a=0;c=this.T[a];a++)for(var d=0,e;e=c.eb[d];d++)e.dc()};function fa(a){var c=ca(a,!1);a.dc();if(!a.isCollapsed()){a=0;for(var d;d=c[a];a++)d.ua&&fa(d)}}b.MC=function(){return this.Hd};
b.bk=function(a){if(!h.Comment)throw Error("Missing require for Blockly.Comment");this.fe.text!=a&&(h.$a.A.bk.call(this,a),a=null!=a,!!this.Hd==a?this.Hd.aK():(a?this.Th=this.Hd=new h.Comment(this):(this.Hd.I(),this.Th=this.Hd=null),this.ua&&(this.Ja(),this.Vc())))};b.zy=function(a){this.re&&this.re!==a&&this.re.I();a&&(a.MJ(this),this.re=a,a.eC());this.ua&&(this.Ja(),this.Vc())};b.df=function(a){this.isEnabled()!=a&&(h.$a.A.df.call(this,a),this.ua&&!ac(this)&&fa(this))};
b.te=function(a){this.ua&&this.wb.My(a)};b.wn=function(){sa(this.wb,"blocklySelected",!0)};b.em=function(){sa(this.wb,"blocklySelected",!1)};b.im=function(a){sa(this.wb,"blocklyDraggingDelete",a)};b.Jr=function(){return this.style.Sh};b.Lc=function(a){h.$a.A.Lc.call(this,a);a=Ac(this.B.ob.ea(),this.Gd);this.wb.Ii(a.style);this.style=a.style;this.sm=a.name;this.dc()};
b.Ii=function(a){var c=wc(this.B.ob.ea(),a);this.sm=a;if(c)this.We=c.We,this.wb.Ii(c),this.Gd=c.Sh,this.style=c,this.dc();else throw Error("Invalid style name: "+a);};function Ca(a){do{var c=a.ra(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.ve=function(a,c){h.$a.A.ve.call(this,a,c);this.ua&&(this.Ja(),this.Vc())};b.ef=function(a,c){h.$a.A.ef.call(this,a,c);this.ua&&(this.Ja(),this.Vc())};
b.zt=function(a,c){h.$a.A.zt.call(this,a,c);this.ua&&(this.Ja(),this.Vc())};b.ue=function(a){h.$a.A.ue.call(this,a);this.ua&&(this.Ja(),this.Vc())};b.kt=function(a,c){a=h.$a.A.kt.call(this,a,c);this.ua&&(this.Ja(),this.Vc());return a};b.Bf=function(a,c){a=h.$a.A.Bf.call(this,a,c);this.ua&&(this.Ja(),this.Vc());return a};
function ea(a,c){a.Y&&Yb(a.Y,c);a.S&&Yb(a.S,c);if(a.Z){Yb(a.Z,c);var d=a.Z.va();d&&ea(d,c)}if(!a.Rh)for(d=0;d<a.T.length;d++){var e=a.T[d].connection;e&&(Yb(e,c),(e=e.va())&&ea(e,c))}}b.le=function(a){var c=[];if(a||this.ua)if(this.S&&c.push(this.S),this.Y&&c.push(this.Y),this.Z&&c.push(this.Z),a||!this.Rh){a=0;for(var d;d=this.T[a];a++)d.connection&&c.push(d.connection)}return c};b.xo=function(){return h.$a.A.xo.call(this)};b.Mr=function(a,c){return h.$a.A.Mr.call(this,a,c)};
b.Ol=function(a){return new h.Gb(this,a)};b.Vc=function(){if(this.B&&!this.B.$c()){var a=this.oe();if(!a.ad)for(var c=this.le(!1),d=0,e;e=c[d];d++){e.isConnected()&&Ba(e)&&e.va().Vc();for(var f=e.Lx(h.kc),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.ga().oe()!=a&&(Ba(e)?mc(k,e):mc(e,k))}}};function Da(a){var c=h.h.Wb();setTimeout(function(){h.h.ta(c);xc(a);h.h.ta(!1)},h.tp/2);setTimeout(function(){h.h.ta(c);a.Vc();h.h.ta(!1)},h.tp)}b.getParent=function(){return h.$a.A.getParent.call(this)};
b.oe=function(){return h.$a.A.oe.call(this)};b.Ja=function(a){if(!this.nt){this.nt=!0;try{this.ua=!0;h.g.j.qm();this.isCollapsed()&&yc(this);this.B.ob.Ja(this);var c=this.Xa();this.Y&&oc(this.Y,c);this.S&&oc(this.S,c);for(var d=0;d<this.T.length;d++){var e=this.T[d].connection;e&&(oc(e,c),e.isConnected()&&pc(e))}this.Z&&(oc(this.Z,c),this.Z.isConnected()&&pc(this.Z));if(!1!==a){var f=this.getParent();f?f.Ja(!0):ha(this.B)}h.g.j.rm();this.St()}finally{this.nt=!1}}};
b.St=function(){this.B.Ml&&this.wb.cl&&this.B.wl().draw();this.B.Ml&&this.wb.As&&this.B.zl(h.Hk.Nu).draw()};b.Wf=function(a){this.wb.Wf(a)};b.kh=function(a){this.wb.kh(a)};function z(a){var c=a.height,d=a.width,e=u(a);e&&(e=z(e),a=a.B.ob.ea().Xp,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};h.Xi=function(a){this.Cb=[];this.dw=a};function Bc(a,c,d){if(!a.Cb.length)return-1;var e=nc(a,d);if(e>=a.Cb.length)return-1;d=c.y;for(var f=e;0<=f&&a.Cb[f].y==d;){if(a.Cb[f]==c)return f;f--}for(;e<a.Cb.length&&a.Cb[e].y==d;){if(a.Cb[e]==c)return e;e++}return-1}function nc(a,c){if(!a.Cb.length)return 0;for(var d=0,e=a.Cb.length;d<e;){var f=Math.floor((d+e)/2);if(a.Cb[f].y<c)d=f+1;else if(a.Cb[f].y>c)e=f;else{d=f;break}}return d}
function lc(a,c,d){c=Bc(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.Cb.splice(c,1)}function qc(a,c,d){function e(n){var p=g-f[n].x,q=k-f[n].y;Math.sqrt(p*p+q*q)<=d&&m.push(f[n]);return q<d}var f=a.Cb,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}
h.Xi.za=function(a){var c=[];c[h.X.Sb]=new h.Xi(a);c[h.X.fd]=new h.Xi(a);c[h.X.Tb]=new h.Xi(a);c[h.X.hd]=new h.Xi(a);return c};h.h.ug=function(a,c){h.h.ug.A.constructor.call(this,c);this.Hy=a};h.g.object.W(h.h.ug,h.h.ae);h.h.ug.prototype.type=h.h.nq;h.h.ug.prototype.qa=function(){var a=h.h.ug.A.qa.call(this);a.themeName=this.Hy;return a};h.h.ug.prototype.ba=function(a){h.h.ug.A.ba.call(this,a);this.Hy=a.themeName};h.v.register(h.v.R.Fb,h.h.nq,h.h.ug);h.h.xg=function(a,c,d,e,f){h.h.xg.A.constructor.call(this,e);this.mf=a;this.lf=c;this.scale=d;this.Ms=f};h.g.object.W(h.h.xg,h.h.ae);h.h.xg.prototype.type=h.h.tn;h.h.xg.prototype.qa=function(){var a=h.h.xg.A.qa.call(this);a.viewTop=this.mf;a.viewLeft=this.lf;a.scale=this.scale;a.oldScale=this.Ms;return a};h.h.xg.prototype.ba=function(a){h.h.xg.A.ba.call(this,a);this.mf=a.viewTop;this.lf=a.viewLeft;this.scale=a.scale;this.Ms=a.oldScale};h.v.register(h.v.R.Fb,h.h.tn,h.h.xg);h.Fh=function(a,c){this.Lj=a;this.Ft=c.spacing;this.Bx=c.length;this.xD=(this.ss=a.firstChild)&&this.ss.nextSibling;this.QE=c.snap};h.Fh.prototype.ih=1;h.Fh.prototype.I=function(){this.Lj=null};h.Fh.prototype.update=function(a){this.ih=a;var c=this.Ft*a||100;this.Lj.setAttribute("width",c);this.Lj.setAttribute("height",c);c=Math.floor(this.Ft/2)+.5;var d=c-this.Bx/2,e=c+this.Bx/2;c*=a;d*=a;e*=a;Cc(this.ss,a,d,e,c,c);Cc(this.xD,a,c,c,d,e)};
function Cc(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}h.Fh.prototype.moveTo=function(a,c){this.Lj.setAttribute("x",a);this.Lj.setAttribute("y",c);(h.g.userAgent.Yd||h.g.userAgent.Ch)&&this.update(this.ih)};
h.Fh.Ua=function(a,c,d){a=h.g.j.J(h.g.D.fv,{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(h.g.j.J(h.g.D.Ek,{stroke:c.colour},a),1<c.length&&h.g.j.J(h.g.D.Ek,{stroke:c.colour},a)):h.g.j.J(h.g.D.Ek,{},a);return a};h.Hk=function(a){this.Hf=this.Id=null;this.Ql={};this.m=a};h.Hk.Nu="local_marker_1";b=h.Hk.prototype;b.wl=function(){return this.Id};b.zl=function(a){return this.Ql[a]};b.Wf=function(a){a?(this.m.xb.appendChild(a),this.Hf=a):this.Hf=null};b.kh=function(a){a?this.m.xb&&(this.Hf?this.m.xb.insertBefore(a,this.Hf):this.m.xb.appendChild(a)):this.Tf=null};
b.I=function(){for(var a=Object.keys(this.Ql),c=0,d;d=a[c];c++){var e=this.Ql[d];if(e)e.I(),delete this.Ql[d];else throw Error("Marker with id "+d+" does not exist. Can only unregistermarkers that exist.");}this.Ql=null;this.Id&&(this.Id.I(),this.Id=null)};h.rg=function(){this.ey={};this.jp={}};function Dc(a,c){a.ey[c.id]=c;for(var d=0,e;e=c.types[d];d++)e=String(e).toLowerCase(),void 0===a.jp[e]?a.jp[e]=[c.id]:a.jp[e].push(c.id)}function Ec(a){var c=a.jp[String(h.rg.R.$p).toLowerCase()];if(!c)return[];var d=[],e=[],f=a.ey;c.forEach(function(g){e.push(f[g])});e.sort(function(g,k){return g.weight-k.weight});e.forEach(function(g){d.push(g.by)});return d}h.rg.R=function(a){this.Vl=a};h.rg.R.prototype.toString=function(){return this.Vl};h.rg.R.$p=new h.rg.R("positionable");h.wv=function(a,c){this.m=a;this.Yf=c;this.tm=[];this.Me=Object.create(null)};b=h.wv.prototype;b.Nf=function(){return this.Yf};b.lm=function(a){var c=this.Yf;this.Yf=a;if(a=aa(this.m))c&&h.g.j.cd(a,c.ke()),h.g.j.Nb(a,this.Yf.ke());for(c=0;a=this.tm[c];c++)Fc(a);c=0;a=Object.keys(this.Me);for(var d;d=a[c];c++)for(var e=0,f;f=this.Me[d][e];e++)f.element.style[f.propertyName]=this.Yf&&Ya(this.Yf,d)||"";h.ec()};
b.subscribe=function(a,c,d){this.Me[c]||(this.Me[c]=[]);this.Me[c].push({element:a,propertyName:d});a.style[d]=this.Yf&&Ya(this.Yf,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.Me),d=0,e;e=c[d];d++){for(var f=this.Me[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.Me[e].length||delete this.Me[e]}};b.I=function(){this.Me=this.tm=this.Yf=this.Rd=null};h.Rc=function(a,c){h.Rc.A.constructor.call(this,a,c);this.so=!1;this.nd=Object.create(null);this.Dy=this.am=0;this.ux=this.Rs=null};h.g.object.W(h.Rc,h.Ee);h.Rc.pB=5;h.Rc.qB=6;b=h.Rc.prototype;b.mr=function(a){this.ux=this.Ib.options.zb&&this.Ib.options.zb.$x;h.Rc.A.mr.call(this,a);!this.po&&h.Touch.wo(a)&&Gc(this,a)};
b.rj=function(a){this.Rs=h.N.Ca(document,"mousedown",null,this.dD.bind(this),!0);this.Po=h.N.Ca(document,"mousemove",null,this.Mj.bind(this),!0);this.Qo=h.N.Ca(document,"mouseup",null,this.io.bind(this),!0);a.preventDefault();a.stopPropagation()};b.dD=function(a){!this.$c()&&h.Touch.wo(a)&&(Gc(this,a),this.so&&h.Vg())};
b.Mj=function(a){if(this.$c())h.Touch.Et(a)&&h.Rc.A.Mj.call(this,a);else if(this.so){if(h.Touch.wo(a)){this.nd[h.Touch.co(a)]=Hc(this,a);var c=Object.keys(this.nd);if(this.ux&&2===c.length){c=Object.keys(this.nd);c=h.g.U.lr(this.nd[c[0]],this.nd[c[1]])/this.Dy;if(0<this.am&&Infinity>this.am){var d=c-this.am;d=0<d?d*h.Rc.pB:d*h.Rc.qB;var e=this.Ib,f=h.g.Ul(a,y(e),Ta(e));e.zoom(f.x,f.y,d)}this.am=c;a.preventDefault()}else h.Rc.A.Mj.call(this,a)}h.Vg()}else h.Rc.A.Mj.call(this,a)};
b.io=function(a){if(h.Touch.wo(a)&&!this.$c()){var c=h.Touch.co(a);this.nd[c]&&delete this.nd[c];2>Object.keys(this.nd).length&&(this.nd=Object.create(null),this.am=0)}!this.so||this.$c()?h.Touch.Et(a)&&h.Rc.A.io.call(this,a):(a.preventDefault(),a.stopPropagation(),this.I())};b.I=function(){h.Rc.A.I.call(this);this.Rs&&h.N.yb(this.Rs)};function Gc(a,c){a.nd[h.Touch.co(c)]=Hc(a,c);var d=Object.keys(a.nd);2==d.length&&(a.Dy=h.g.U.lr(a.nd[d[0]],a.nd[d[1]]),a.so=!0,c.preventDefault())}
function Hc(a,c){return a.Ib?new h.g.U(c.pageX?c.pageX:c.changedTouches[0].pageX,c.pageY?c.pageY:c.changedTouches[0].pageY):null};h.Dv=function(a){this.Ws=a;this.Lk=Object.create(null)};b=h.Dv.prototype;b.os=null;b.I=function(){this.Lk=this.Ws=null};b.load=function(a,c){if(a.length){try{var d=new h.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new h.g.global.Audio(g);break}}e&&e.play&&(this.Lk[c]=e)}};
b.preload=function(){for(var a in this.Lk){var c=this.Lk[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(h.g.userAgent.Bk||h.g.userAgent.Iu)break}};b.play=function(a,c){var d=this.Lk[a];d?(a=new Date,null!=this.os&&a-this.os<h.ZA||(this.os=a,d=h.g.userAgent.Bk||h.g.userAgent.Jm?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.Ws&&this.Ws.Uc.play(a,c)};h.Fv=function(a){this.Yk=a;this.Ua()};b=h.Fv.prototype;b.kb=null;b.Yk=null;b.Ua=function(){this.kb||(this.kb=h.g.j.J(h.g.D.gj,{xmlns:h.g.j.pn,"xmlns:html":h.g.j.Ip,"xmlns:xlink":h.g.j.ld,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Yk.appendChild(this.kb))};b.Li=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.kb.style.display="block";h.g.j.hm(this.kb,"translate3d("+a+"px, "+c+"px, 0px)")};b.Qr=function(){return h.g.ne(this.kb)};
b.En=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.kb.childNodes[0],d=this.kb.childNodes[1];if(!(c&&d&&h.g.j.Ur(c,"blocklyBlockCanvas")&&h.g.j.Ur(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.dt?h.g.j.Pj(c,this.dt):a.insertBefore(c,a.firstChild);h.g.j.Pj(d,c);this.kb.style.display="none";if(this.kb.childNodes.length)throw Error("Drag surface was not cleared.");h.g.j.hm(this.kb,
"");this.dt=null};
h.cc=function(a,c,d){h.cc.A.constructor.call(this,a);this.ud=new (h.v.Gg(h.v.R.Su,a,!0))(this);this.me=a.me||this.ud.me.bind(this.ud);this.jm=a.jm||h.cc.LE;this.at=new h.rg;this.Mn=h.Xi.za(this.Oe);c&&(this.md=c);d&&(this.Pi=d);this.lp=!!this.Pi&&h.g.li();this.Fl=[];this.Uc=new h.Dv(a.bd);this.Ld=this.options.Tr?new h.Fh(this.options.Tr,a.ax):null;this.pe=new h.Hk(this);this.Nt={};this.Gw={};h.oa&&h.oa.Zh&&Ic(this,h.kj,h.oa.Zh);h.zv&&h.zv.Zh&&Ic(this,h.kB,h.zv.Zh);h.Ta&&h.Ta.Zh&&(Ic(this,h.gv,h.Ta.Zh),
C(this,h.Ta.JD));this.jc=this.options.bd?this.options.bd.jc:new h.wv(this,this.options.ZE||h.wf.dg);this.jc.tm.push(this);this.ob=h.i.za(this.options.qt||"geras",this.Nf(),this.options.rt);this.Mq=null;this.Ml=!1;this.ym=[];this.Lq=new h.g.kd(0,0)};h.g.object.W(h.cc,h.qb);b=h.cc.prototype;b.Zo=null;b.ua=!0;b.Rf=!0;b.Pf=!1;b.to=!1;b.tt=!0;b.scrollX=0;b.scrollY=0;b.Bw=null;b.scale=1;b.Ns=1;b.Tx=0;b.Qx=0;b.xc=null;b.ib=null;b.ma=null;b.Na=null;b.oc=null;b.md=null;b.Pi=null;b.lp=!1;b.oo=!1;b.fs=null;
b.Ax=null;b.Ka=null;b.sx=null;b.gs=!0;b.Wf=function(a){this.pe.Wf(a)};b.kh=function(a){this.pe.kh(a)};b.zl=function(a){return this.pe?this.pe.zl(a):null};b.wl=function(){return this.pe?this.pe.wl():null};b.Nf=function(){return this.jc.Nf()};b.lm=function(a){a||(a=h.wf.dg);this.jc.lm(a)};function Fc(a){a.O&&a.ob.ft(a.O,a.Nf());Jc(B(a,!1).filter(function(c){return void 0!==c.sm}));Kc(a);a.Na&&Fc(a.Na);a.isVisible()&&a.Hb(!0);a=new (h.h.get(h.h.nq))(a.Nf().name,a.id);h.h.Ga(a)}
function Jc(a){for(var c=0,d;d=a[c];c++){var e=d.sm;e&&(d.Ii(e),d.re&&d.re.$J())}}function Ta(a){if(a.gs){var c=y(a).getScreenCTM();c&&(a.sx=c.inverse(),a.gs=!1)}return a.sx}b.Dm=function(){this.gs=!0};b.isVisible=function(){return this.Rf};function na(a,c){var d=0,e=0,f=1;if(h.g.j.containsNode(a.xb,c)||h.g.j.containsNode(a.Xf,c))f=a.scale;do{var g=h.g.ne(c);if(c==a.xb||c==a.Xf)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=y(a));return new h.g.U(d,e)}
function jc(a){a=a.Lq;return new h.g.kd(a.width,a.height)}function aa(a){if(!a.fs)for(var c=a.O;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.fs=c;break}c=c.parentNode}return a.fs}
b.Ua=function(a){this.O=h.g.j.J(h.g.D.Qc,{"class":"blocklyWorkspace"},null);a&&(this.hc=h.g.j.J(h.g.D.Mb,{height:"100%",width:"100%","class":a},this.O),"blocklyMainBackground"==a&&this.Ld?this.hc.style.fill="url(#"+this.Ld.Lj.id+")":this.jc.subscribe(this.hc,"workspaceBackgroundColour","fill"));this.xb=h.g.j.J(h.g.D.Qc,{"class":"blocklyBlockCanvas"},this.O);this.Xf=h.g.j.J(h.g.D.Qc,{"class":"blocklyBubbleCanvas"},this.O);this.Pf||(h.N.Ca(this.O,"mousedown",this,this.Zg,!1,!0),h.N.Ca(this.O,"wheel",
this,this.XD));this.options.Cl&&(this.Na=new (h.v.Gg(h.v.R.fB,this.options,!0))(this));this.Ld&&this.Ld.update(this.scale);Lc(this);var c=h.v.Gg(h.v.R.qk,this.options);c&&(a=this.pe,c=new c,a.Id&&a.Id.Kd&&a.Id.Kd.I(),a.Id=c,a.Id&&(c=a.Id,c=new h.i.lg(a.m,a.m.ob.ea(),c),a.Id.Kd=c,a.Wf(a.Id.Kd.Ua())));this.ob.Ua(this.O,this.Nf());return this.O};
b.I=function(){this.ua=!1;this.oc&&this.oc.cancel();this.O&&(h.g.j.removeNode(this.O),this.O=null);this.Xf=this.xb=null;this.Na&&(this.Na.I(),this.Na=null);this.ma&&(this.ma.I(),this.ma=null);this.xc&&(this.xc.I(),this.xc=null);this.ib&&(this.ib.I(),this.ib=null);this.jk&&(this.jk.I(),this.jk=null);this.Uc&&(this.Uc.I(),this.Uc=null);this.Ld&&(this.Ld.I(),this.Ld=null);this.ob.I();this.pe&&(this.pe.I(),this.pe=null);h.cc.A.I.call(this);if(this.jc){var a=this.jc,c=a.tm.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.tm.splice(c,1);this.jc.unsubscribe(this.hc);this.options.bd||(this.jc.I(),this.jc=null)}this.Gw=this.Nt=this.Mn=null;this.options.bd||(a=y(this))&&a.parentNode&&h.g.j.removeNode(a.parentNode);this.Zo&&(h.N.yb(this.Zo),this.Zo=null)};b.Gs=function(a,c){return new h.$a(this,a,c)};function F(a,c){return a.ma||c?a.ma:a.Na?F(a.Na):null}function ha(a){a.tt&&a.ua&&(a.ib&&a.ib.resize(),a.Dm())}
b.resize=function(){this.Na&&this.Na.position();this.ma&&this.ma.position();var a=Ec(this.at);var c=this.ud;c={Uy:c.Ve(),xq:c.tl(),Ky:ic(c)};for(var d=[],e=0,f;f=a[e];e++)f.position(c,d),d.push(f.ai());this.ib&&this.ib.resize();this.Dm();Lc(this)};function tb(a){var c=h.g.QC();h.g.U.Kf(a.Ax,c)||(a.Ax=c,a.Dm(),Lc(a))}function Mc(a,c,d){var e=y(a);c&&(a.Lq.width=c,e.MB=c);d&&(a.Lq.height=d,e.LB=d)}
function y(a){if(!a.Mq)for(var c=a.O;c;){if("svg"==c.tagName){a.Mq=c;break}c=c.parentNode}return a.Mq}function Ea(a){if(h.h.isEnabled()){var c=a.scale,d=-a.scrollY,e=-a.scrollX;if(!(c==a.Ns&&1>Math.abs(d-a.Tx)&&1>Math.abs(e-a.Qx))){var f=new (h.h.get(h.h.tn))(d,e,c,a.id,a.Ns);a.Ns=c;a.Tx=d;a.Qx=e;h.h.Ga(f)}}}
b.translate=function(a,c){if(this.lp&&this.oo)this.Pi.Li(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.xb.setAttribute("transform",d);this.Xf.setAttribute("transform",d)}if(this.md){d=this.md;var e=this.scale;d.ih=e;d.Re.setAttribute("transform","translate("+a.toFixed(0)+","+c.toFixed(0)+") scale("+e+")")}this.Ld&&this.Ld.moveTo(a,c);Ea(this)};
function Va(a){if(a.lp){a.oo=!1;var c=a.Pi.Qr();a.Pi.En(a.O);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.xb.setAttribute("transform",c);a.Xf.setAttribute("transform",c)}}
function Ua(a){if(a.lp&&!a.oo){a.oo=!0;var c=a.xb.previousSibling,d=parseInt(y(a).getAttribute("width"),10),e=parseInt(y(a).getAttribute("height"),10),f=h.g.ne(a.xb),g=a.Pi,k=a.xb,l=a.Xf,m=a.scale;if(g.kb.childNodes.length)throw Error("Already dragging a block.");g.dt=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.kb.setAttribute("width",d);g.kb.setAttribute("height",e);g.kb.appendChild(k);g.kb.appendChild(l);g.kb.style.display=
"block";a.Pi.Li(f.x,f.y)}}b.Al=function(){var a=this.me();return a?a.yc/this.scale:0};b.Hb=function(a){this.Rf=a;if(this.O)if(this.ib&&this.ib.Hi(a),F(this)&&F(this).Hi(a),y(this).style.display=a?"block":"none",this.Na&&this.Na.Hb(a),a){a=B(this,!1);for(var c=a.length-1;0<=c;c--)a[c].Pl();this.Ja();this.Na&&this.Na.position()}else h.ec(!0)};b.Ja=function(){for(var a=B(this,!1),c=a.length-1;0<=c;c--)a[c].Ja(!1);if(this.oc)for(a=this.oc.Hj(),c=0;c<a.length;c++)a[c].Ja(!1);c=this.pe;c.m.Ml&&c.Hf&&c.m.wl().draw()};
function Nc(a,c){var d=w;if(void 0===c){for(var e=0,f;f=d.Fl[e];e++)f.te(!1);d.Fl.length=0}if(f=a?d.Hc(a):null)(a=void 0===c||c)?-1==d.Fl.indexOf(f)&&d.Fl.push(f):h.g.Rk(d.Fl,f),f.te(a)}
b.Uo=function(a){if(this.ua&&a.tagName&&!(a.getElementsByTagName("block").length>=cb(this)))if(this.oc&&this.oc.cancel(),"comment"==a.tagName.toLowerCase()){h.h.disable();try{var c=h.mj.rl(a),d=parseInt(a.getAttribute("x"),10),e=parseInt(a.getAttribute("y"),10);isNaN(d)||isNaN(e)||(this.L&&(d=-d),c.moveBy(d+50,e+50))}finally{h.h.enable()}h.h.isEnabled()&&h.Ev.$I(c);c.select()}else{h.h.disable();try{var f=h.K.Dj(a,this),g=parseInt(a.getAttribute("x"),10),k=parseInt(a.getAttribute("y"),10);if(!isNaN(g)&&
!isNaN(k)){this.L&&(g=-g);do{a=!1;var l=B(this,!1);c=0;for(var m;m=l[c];c++){var n=m.Xa();if(1>=Math.abs(g-n.x)&&1>=Math.abs(k-n.y)){a=!0;break}}if(!a){var p=f.le(!1);c=0;for(var q;q=p[c];c++)if(q.closest(h.kc,new h.g.U(g,k)).connection){a=!0;break}}a&&(g=this.L?g-h.kc:g+h.kc,k+=2*h.kc)}while(a);f.moveBy(g,k)}}finally{h.h.enable()}h.h.isEnabled()&&!f.Qa&&h.h.Ga(new (h.h.get(h.h.uh))(f));f.select()}};function Kc(a){(a=a.Pf?a.Ka:a)&&!a.oc&&a.Na&&F(a.Na)&&a.Na.BJ()}
b.Ei=function(a,c){h.cc.A.Ei.call(this,a,c);Kc(this)};b.Bj=function(a){h.cc.A.Bj.call(this,a);Kc(this)};b.ge=function(a,c,d){a=h.cc.A.ge.call(this,a,c,d);Kc(this);return a};function Lc(a){a.sw=a.xc&&a.O.parentNode?a.xc.vl():null;a.rw=a.ma?a.ma.vl():a.Na&&"function"==typeof a.Na.vl?a.Na.vl():null}function xa(a,c){return a.sw&&a.sw.contains(c.clientX,c.clientY)?h.Ap:a.rw&&a.rw.contains(c.clientX,c.clientY)?h.qu:h.pu}b.Zg=function(a){var c=this.Hg(a);c&&yb(c,a,this)};
b.Gt=function(a,c){a=h.g.Ul(a,y(this),Ta(this));a.x/=this.scale;a.y/=this.scale;this.Bw=h.g.U.fl(c,a)};b.$c=function(){return null!=this.oc&&this.oc.$c()};b.rc=function(){return this.options.uc&&!!this.options.uc.scrollbars||this.options.uc&&this.options.uc.ik||this.options.uc&&this.options.uc.Ej||this.options.zb&&this.options.zb.ik||this.options.zb&&this.options.zb.$x};function nb(a){var c=!!a.ib;return a.rc()&&(!c||c&&!!a.ib.mb)}function ob(a){var c=!!a.ib;return a.rc()&&(!c||c&&!!a.ib.Va)}
b.XD=function(a){if(h.Ee.ki())a.preventDefault(),a.stopPropagation();else{var c=this.options.zb&&this.options.zb.ik,d=this.options.uc&&this.options.uc.ik;if(c||d){var e=h.g.Vw(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=h.g.Ul(a,y(this),Ta(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function da(a){a=[].concat(a.ym);if(!a.length)return new h.g.Rect(0,0,0,0);for(var c=a[0].ai(),d=1;d<a.length;d++){var e=a[d];e.rd&&e.rd()||(e=e.ai(),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}return c}b.mm=function(a){if(!this.options.readOnly&&!this.Pf){var c=kc(h.Ea.Dc.Sc,{B:this});this.ZB&&this.ZB(c,a);h.Sa.show(a,c,this.L)}};
function Sa(a){if(a.options.bd)Sa(a.options.bd);else{h.Nl=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{y(a).focus({preventScroll:!0})}catch(c){try{y(a).parentNode.setActive()}catch(d){y(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.zb.FE,d);var e=this.scale*d;if(this.scale!=e){e>this.options.zb.Rl?d=this.options.zb.Rl/this.scale:e<this.options.zb.Tl&&(d=this.options.zb.Tl/this.scale);var f=this.xb.getCTM(),g=y(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.zb.Rl&&a>this.options.zb.Rl?a=this.options.zb.Rl:this.options.zb.Tl&&a<this.options.zb.Tl&&(a=this.options.zb.Tl);this.scale=a;h.ec(!1);this.ma&&(this.ma.et(),Lc(this));this.Ld&&this.Ld.update(this.scale);a=this.me();this.scrollX-=a.Ec;this.scrollY-=a.Tc;a.lf+=a.Ec;a.mf+=a.Tc;this.scroll(this.scrollX,this.scrollY);if(this.ib)if(this.ma){var c=this.ib;c.mb&&Na(c.mb,a);c.Va&&Pa(c.Va,a)}else c=this.ib,c.mb&&Oa(c.mb,a),c.Va&&Qa(c.Va,a)};
b.scroll=function(a,c){h.ec(!0);var d=this.me();a=Math.min(a,-d.scrollLeft);c=Math.min(c,-d.scrollTop);var e=d.scrollTop+Math.max(0,d.scrollHeight-d.Oc);a=Math.max(a,-(d.scrollLeft+Math.max(0,d.scrollWidth-d.yc)));c=Math.max(c,-e);this.scrollX=a;this.scrollY=c;this.ib&&this.ib.set(-(a+d.scrollLeft),-(c+d.scrollTop),!1);a+=d.Ec;c+=d.Tc;this.translate(a,c)};
h.cc.LE=function(a){var c=this.me();"number"==typeof a.x&&(this.scrollX=-(c.scrollLeft+(c.scrollWidth-c.yc)*a.x));"number"==typeof a.y&&(this.scrollY=-(c.scrollTop+(c.scrollHeight-c.Oc)*a.y));this.translate(this.scrollX+c.Ec,this.scrollY+c.Tc)};b=h.cc.prototype;b.Hc=function(a){return h.cc.A.Hc.call(this,a)};b.tb=function(a){return h.cc.A.tb.call(this,a)};b.xn=function(a){this.ym.push(a);h.cc.A.xn.call(this,a)};b.Yo=function(a){h.g.Rk(this.ym,a);h.cc.A.Yo.call(this,a)};
b.Zb=function(a){var c=!this.tt&&a;this.tt=a;c&&ha(this)};b.clear=function(){this.Zb(!1);h.cc.A.clear.call(this);this.ym=[];this.Zb(!0)};function Oc(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.Gw.CREATE_VARIABLE=c}function Ic(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.Nt[c]=d}
b.Hg=function(a){var c="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.oc;return d?c&&d.ei?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:c?this.oc=new h.Rc(a,this):null};function zc(a){a.oc&&a.oc.cancel()};h.zk=function(a){a.jm=this.KE.bind(this);var c=this.m=new h.cc(a),d=new h.Eh(this.m,this);c.ud=d;c.me=c.ud.me.bind(c.ud);this.m.Pf=!0;this.m.Hb(this.Rf);this.L=!!a.L;this.Yc=!1;this.nh=a.Nc;this.zr=[];this.Eo=[];this.Sk=[];this.Jc=[];this.$s=[];this.gk=this.m.ob.ea().rn;this.Ka=null};b=h.zk.prototype;b.qj=!0;b.Rf=!1;b.Uh=!0;b.pb=8;b.Hh=h.zk.prototype.pb;b.aA=3*h.zk.prototype.Hh;b.bA=3*h.zk.prototype.Hh;b.Kk=2;b.jb=0;b.qc=0;b.uC=70;
b.Ua=function(a){this.O=h.g.j.J(a,{"class":"blocklyFlyout",style:"display: none"},null);this.hc=h.g.j.J(h.g.D.Ge,{"class":"blocklyFlyoutBackground"},this.O);this.O.appendChild(this.m.Ua());this.m.jc.subscribe(this.hc,"flyoutBackgroundColour","fill");this.m.jc.subscribe(this.hc,"flyoutOpacity","fill-opacity");return this.O};
b.za=function(a){this.Ka=a;this.m.Ka=a;this.m.ib=new h.lq(this.m,this.Yc,!this.Yc,"blocklyFlyoutScrollbar");this.Ya();Array.prototype.push.apply(this.zr,h.N.Ca(this.O,"wheel",this,this.kF));this.qj||(this.$n=this.Ar.bind(this),C(this.Ka,this.$n));Array.prototype.push.apply(this.zr,h.N.Ca(this.hc,"mousedown",this,this.Zg));this.m.Hg=this.Ka.Hg.bind(this.Ka);this.m.Ct(this.Ka.Oa);a=this.m;a.Zj=new h.vq(a)};
b.I=function(){this.Ya();h.N.yb(this.zr);this.$n&&(gb(this.Ka,this.$n),this.$n=null);this.m&&(this.m.jc.unsubscribe(this.hc),this.m.Ka=null,this.m.I(),this.m=null);this.O&&(h.g.j.removeNode(this.O),this.O=null);this.Ka=this.hc=null};b.Al=function(){return this.jb};b.isVisible=function(){return this.Rf};b.Hb=function(a){var c=a!=this.isVisible();this.Rf=a;c&&this.Cm()};b.Hi=function(a){var c=a!=this.Uh;this.Uh=a;c&&this.Cm()};
b.Cm=function(){var a=this.Uh?this.isVisible():!1;this.O.style.display=a?"block":"none";this.m.ib.Hi(a)};b.Ya=function(){if(this.isVisible()){this.Hb(!1);for(var a=0,c;c=this.Jc[a];a++)h.N.yb(c);this.Jc.length=0;this.gh&&(gb(this.m,this.gh),this.gh=null)}};
b.show=function(a){this.m.Zb(!1);this.Ya();Pc(this);"string"==typeof a&&(a=Qc(this,a));this.Hb(!0);a=h.g.V.iw(a);a=Rc(this,a);Sc(this,a.cC,a.GC);this.Jc.push(h.N.Ca(this.hc,"mouseover",this,function(){for(var c=this.m.tb(!1),d=0,e;e=c[d];d++)e.em()}));this.Yc?this.qc=0:this.jb=0;this.m.Zb(!0);this.et();this.Ar();this.position();this.gh=this.et.bind(this);C(this.m,this.gh)};
function Rc(a,c){var d=[],e=[];a.$s.length=0;for(var f=a.Yc?a.aA:a.bA,g=0,k;k=c[g];g++){if(k.custom){var l=Qc(a,k.custom);l=h.g.V.iw(l);c.splice.apply(c,[g,1].concat(l));k=c[g]}switch(k.kind.toUpperCase()){case "BLOCK":l=k;var m=l;k=null;var n=m.blockxml;n&&"string"!=typeof n?k=n:n&&"string"==typeof n?(k=h.K.we(n),m.blockxml=k):m.type&&(k=h.g.xml.createElement("xml"),k.setAttribute("type",m.type),k.setAttribute("disabled",m.disabled),m.blockxml=k);if(!k)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");
m=k;k=a;n=h.K.Dj(m,k.m);n.isEnabled()||k.$s.push(n);k=n;l=parseInt(l.gap||m.getAttribute("gap"),10);e.push(isNaN(l)?f:l);d.push({type:"block",block:k});break;case "SEP":l=e;m=f;k=parseInt(k.gap,10);!isNaN(k)&&0<l.length?l[l.length-1]=k:l.push(m);break;case "LABEL":l=Tc(a,k,!0);d.push({type:"button",button:l});e.push(f);break;case "BUTTON":l=Tc(a,k,!1),d.push({type:"button",button:l}),e.push(f)}}return{cC:d,GC:e}}
function Qc(a,c){c=a.m.Ka.Nt[c]||null;if("function"!=typeof c)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=c(a.m.Ka);if(!Array.isArray(a))throw new TypeError("Result of toolbox category callback must be an array.");return a}function Tc(a,c,d){if(!h.$z)throw Error("Missing require for Blockly.FlyoutButton");return new h.$z(a.m,a.Ka,c,d)}
function Pc(a){for(var c=a.m.tb(!1),d=0,e;e=c[d];d++)e.B==a.m&&e.I(!1,!1);for(d=0;d<a.Eo.length;d++)if(c=a.Eo[d])h.G.Qt(c),h.g.j.removeNode(c);for(d=a.Eo.length=0;c=a.Sk[d];d++)c.I();a.Sk.length=0;a.m.Zj.clear()}function Uc(a,c){return function(d){var e=a.Ka.Hg(d);e&&(Ab(e,c),zb(e,d,a))}}b.Zg=function(a){var c=this.Ka.Hg(a);c&&zb(c,a,this)};
function ub(a,c){var d=null;h.h.disable();var e=a.Ka.$h();a.Ka.Zb(!1);try{var f=a.Ka;if(!c.ra())throw Error("oldBlock is not rendered.");var g=h.K.Cf(c,!0);f.Zb(!1);var k=h.K.Dj(g,f);if(!k.ra())throw Error("block is not rendered.");var l=h.g.yl(f.xb),m=h.g.yl(a.m.xb),n=c.Xa();n.scale(a.m.scale);var p=h.g.U.sum(m,n),q=h.g.U.fl(p,l);q.scale(1/f.scale);k.moveBy(q.x,q.y);d=k}finally{h.h.enable()}h.ec();c=h.oa.Kw(a.Ka,e);if(h.h.isEnabled()){h.h.ta(!0);for(e=0;e<c.length;e++)f=c[e],h.h.Ga(new (h.h.get(h.h.Nk))(f));
h.h.Ga(new (h.h.get(h.h.uh))(d))}a.qj?a.Ya():a.Ar();return d}b.Ar=function(){for(var a=this.m.tb(!1),c=0,d;d=a[c];c++)if(-1==this.$s.indexOf(d))for(var e=db(this.Ka,h.g.Gr(d));d;)d.df(e),d=u(d)};
b.et=function(){this.gh&&gb(this.m,this.gh);this.m.scale=this.Ka.scale;for(var a=0,c=this.m.tb(!1),d=0,e;e=c[d];d++){var f=z(e).width;e.S&&(f-=this.gk);a=Math.max(a,f)}for(d=0;e=this.Sk[d];d++)a=Math.max(a,e.width);a+=1.5*this.Hh+this.gk;a*=this.m.scale;a+=h.ya.fc;if(this.jb!=a){for(d=0;e=c[d];d++){if(this.L){f=e.Xa().x;var g=a/this.m.scale-this.Hh;e.S||(g-=this.gk);e.moveBy(g-f,0)}e.Hw&&(f=e.Hw,g=e,e=z(g),f.setAttribute("width",e.width),f.setAttribute("height",e.height),g=g.Xa(),f.setAttribute("y",
g.y),f.setAttribute("x",this.L?g.x-e.width:g.x))}if(this.L)for(d=0;e=this.Sk[d];d++)c=e.iJ().y,e.moveTo(a/this.m.scale-e.width-this.Hh-this.gk,c);this.Ka.Nc!=this.nh||this.nh!=h.g.V.Pa.Yb||this.Ka.Na||this.Ka.translate(this.Ka.scrollX+a,this.Ka.scrollY);this.jb=a;this.position()}this.gh&&C(this.m,this.gh)};function sb(a){return a.m.ib?a.m.ib.isVisible():!1};h.Ok=function(a){h.Ok.A.constructor.call(this,a)};h.g.object.W(h.Ok,h.zk);h.Ok.EJ="verticalFlyout";b=h.Ok.prototype;b.KE=function(a){if(this.isVisible()){var c=this.m.ud,d=c.Jj(),e=c.Ve();c=c.tl();"number"==typeof a.y&&(this.m.scrollY=-(d.top+(d.height-e.height)*a.y));this.m.translate(this.m.scrollX+c.left,this.m.scrollY+c.top)}};
b.position=function(){if(this.isVisible()&&this.Ka.isVisible()){var a=this.Ka.ud.Ve();this.qc=a.height;var c=this.jb-this.pb;a=a.height-2*this.pb;var d=this.nh==h.g.V.Pa.jd,e=c+this.pb;e=["M "+(d?e:0)+",0"];e.push("h",d?-c:c);e.push("a",this.pb,this.pb,0,0,d?0:1,d?-this.pb:this.pb,this.pb);e.push("v",Math.max(0,a));e.push("a",this.pb,this.pb,0,0,d?0:1,d?this.pb:-this.pb,this.pb);e.push("h",d?c:-c);e.push("z");this.hc.setAttribute("d",e.join(" "));this.isVisible()?(d=this.Ka.ud,c=d.tl(),a=d.Ve(),d=
ic(d),d=this.Ka.Nc==this.nh?this.Ka.Na?this.nh==h.g.V.Pa.Yb?d.width:a.width-this.jb:this.nh==h.g.V.Pa.Yb?0:a.width:this.nh==h.g.V.Pa.Yb?0:a.width+c.left-this.jb):d=0;c=this.jb;a=this.qc;this.O.setAttribute("width",c);this.O.setAttribute("height",a);Mc(this.m,c,a);"svg"==this.O.tagName?h.g.j.hm(this.O,"translate("+d+"px,0px)"):this.O.setAttribute("transform","translate("+d+",0)");if(c=this.m.ib)c.$o(d,0),c.resize(),c.mb&&c.mb.setPosition(c.mb.position.x,c.mb.position.y),c.Va&&c.Va.setPosition(c.Va.position.x,
c.Va.position.y)}};b.wy=function(){var a=this.m.ib;a.Va&&a.Va.set(0,!0)};b.kF=function(a){var c=h.g.Vw(a);if(c.y){var d=this.m.ud,e=d.Jj();c=d.Ve().top-e.top+c.y;d=this.m.ib;d.Va&&d.Va.set(c,!0);h.aa.Ya();h.C.jo()}a.preventDefault();a.stopPropagation()};
function Sc(a,c,d){a.m.scale=a.Ka.scale;for(var e=a.Hh,f=a.L?e:e+a.gk,g=0,k;k=c[g];g++)if("block"==k.type){k=k.block;for(var l=r(k,!1),m=0,n;n=l[m];m++)n.ad=!0;k.Ja();n=k.ra();l=z(k);m=k.S?f-a.gk:f;k.moveBy(m,e);var p=a,q=k,t=g;m=h.g.j.J(h.g.D.Mb,{"fill-opacity":0,x:a.L?m-l.width:m,y:e,height:l.height,width:l.width},null);m.Vd=q;h.G.rj(m);p.m.xb.insertBefore(m,q.ra());q.Hw=m;p.Eo[t]=m;p=a;p.Jc.push(h.N.Ca(n,"mousedown",null,Uc(p,k)));p.Jc.push(h.N.Ca(m,"mousedown",null,Uc(p,k)));p.Jc.push(h.N.bind(n,
"mouseenter",k,k.wn));p.Jc.push(h.N.bind(n,"mouseleave",k,k.em));p.Jc.push(h.N.bind(m,"mouseenter",k,k.wn));p.Jc.push(h.N.bind(m,"mouseleave",k,k.em));e+=l.height+d[g]}else"button"==k.type&&(l=a,m=k.button,n=f,p=e,q=m.Ua(),m.moveTo(n,p),m.show(),l.Jc.push(h.N.Ca(q,"mousedown",l,l.Zg)),l.Sk.push(m),e+=k.button.height+d[g])}b.vl=function(){if(!this.O)return null;var a=this.O.getBoundingClientRect(),c=a.left;return this.nh==h.g.V.Pa.Yb?new h.g.Rect(-1E9,1E9,-1E9,c+a.width):new h.g.Rect(-1E9,1E9,c,1E9)};
h.v.register(h.v.R.Gp,h.v.rk,h.Ok);h.h.yk=function(a){this.qd="undefined"==typeof a;this.Xb=a?a.id:"";this.group=h.h.Wb();this.Ma=!1};h.g.object.W(h.h.yk,h.h.Abstract);h.h.yk.prototype.type=h.h.Fp;h.h.yk.prototype.qa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Xb&&(a.workspaceId=this.Xb);return a};h.h.yk.prototype.ba=function(a){this.qd=!1;this.Xb=a.workspaceId;this.group=a.group};h.v.register(h.v.R.Fb,h.h.Fp,h.h.yk);h.du=function(a){this.Yk=a;this.Ua()};b=h.du.prototype;b.kb=null;b.Re=null;b.Yk=null;b.ih=1;b.um=null;b.Ua=function(){this.kb||(this.kb=h.g.j.J(h.g.D.gj,{xmlns:h.g.j.pn,"xmlns:html":h.g.j.Ip,"xmlns:xlink":h.g.j.ld,version:"1.1","class":"blocklyBlockDragSurface"},this.Yk),this.Re=h.g.j.J(h.g.D.Qc,{},this.kb))};function rb(a,c){if(a.Re.childNodes.length)throw Error("Already dragging a block.");a.Re.appendChild(c);a.kb.style.display="block";a.um=new h.g.U(0,0)}
b.Li=function(a,c){this.um=new h.g.U(a*this.ih,c*this.ih);a=this.um.x;c=this.um.y;a=a.toFixed(0);c=c.toFixed(0);this.kb.style.display="block";h.g.j.hm(this.kb,"translate3d("+a+"px, "+c+"px, 0px)")};b.Qr=function(){var a=h.g.ne(this.kb);return new h.g.U(a.x/this.ih,a.y/this.ih)};b.Wb=function(){return this.Re};
b.En=function(a){a?a.appendChild(this.Re.firstChild):this.Re.removeChild(this.Re.firstChild);this.kb.style.display="none";if(this.Re.childNodes.length)throw Error("Drag group was not cleared.");this.um=null};h.Xd={};h.Xd.ds=!1;h.Xd.register=function(a){if(h.Xd.ds)throw Error("CSS already injected");Array.prototype.push.apply(h.Xd.xp,a);a.length=0};h.Xd.Og=function(a,c){if(!h.Xd.ds){h.Xd.ds=!0;var d=h.Xd.xp.join("\n");h.Xd.xp.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};
h.Xd.xp=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];
h.C=function(){};h.C.Jq=null;h.C.Rd=null;h.C.ny=null;h.C.Lm=16;h.C.bu=1;h.C.$t=12;h.C.dv=16;h.C.qp=.25;h.C.Bq=null;h.C.Ci=null;h.C.se="";h.C.xe="";
h.C.Ua=function(){if(!h.C.Be){var a=document.createElement("div");a.className="blocklyDropDownDiv";(h.So||document.body).appendChild(a);h.C.Be=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);h.C.Gf=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);h.C.Ed=c;h.C.Be.style.opacity=0;h.C.Be.style.transition="transform "+h.C.qp+"s, opacity "+h.C.qp+"s";a.addEventListener("focusin",function(){h.g.j.Nb(a,"blocklyFocused")});a.addEventListener("focusout",
function(){h.g.j.cd(a,"blocklyFocused")})}};h.C.HE=function(a){h.C.Jq=a};h.C.OC=function(){return h.C.Gf};h.C.UB=function(){h.C.Gf.textContent="";h.C.Gf.style.width=""};h.C.Lc=function(a,c){h.C.Be.style.backgroundColor=a;h.C.Be.style.borderColor=c};h.C.RJ=function(a,c,d,e){return h.C.Ay(h.C.Tw(c),a,d,e)};h.C.NE=function(a,c){h.C.ny=!0;h.C.Ay(h.C.Uw(a),a,c,void 0)};
h.C.Tw=function(a){var c=a.ra(),d=c.getBBox(),e=a.B.scale;a=d.height*e;d=d.width*e;c=h.g.style.ci(c);return new h.g.Rect(c.y,c.y+a,c.x,c.x+d)};
h.C.Uw=function(a){if(a.Pb)c=a.Pb.getBoundingClientRect(),a=h.g.style.ci(a.Pb),e=c.width,c=c.height;else{var c=z(a.M);var d=a.M.B.scale;a=h.g.style.ci(Db(a));var e=c.width*d;c=c.height*d;h.g.userAgent.cA?(a.x+=1.5*d,a.y+=1.5*d):h.g.userAgent.Ch||h.g.userAgent.Yd||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}d=new h.g.Rect(a.y,a.y+c,a.x,a.x+e);return new h.g.Rect(d.top,d.bottom,d.left,d.right)};
h.C.Ay=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.ga();for(var k=e.B;k.options.bd;)k=k.options.bd;h.C.HE(y(k).parentNode);return h.C.show(c,e.L,f,g,f,a,d)};h.C.show=function(a,c,d,e,f,g,k){h.C.Rd=a;h.C.Ci=k||null;a=h.C.Be;a.style.direction=c?"rtl":"ltr";c=h.Ig();h.C.se=c.ob.ke();h.C.xe=c.Nf().ke();h.g.j.Nb(a,h.C.se);h.g.j.Nb(a,h.C.xe);return h.C.$l(d,e,f,g)};
h.C.JC=function(){var a=h.g.style.ci(h.C.Jq),c=h.g.style.Mf(h.C.Jq);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};h.C.SC=function(a,c,d,e){var f=h.C.JC(),g=h.g.style.Mf(h.C.Be);return c+g.height<f.bottom?h.C.Sw(a,c,f,g):e-g.height>f.top?h.C.Rw(d,e,f,g):c+g.height<document.documentElement.clientHeight?h.C.Sw(a,c,f,g):e-g.height>document.documentElement.clientTop?h.C.Rw(d,e,f,g):h.C.TC(a,f,g)};
h.C.Sw=function(a,c,d,e){a=h.C.Pr(a,d.left,d.right,e.width);return{$r:a.Cj,bs:c,Br:a.Cj,Cr:c+h.C.dv,oj:a.oj,Dq:-(h.C.Lm/2+h.C.bu),zn:!0,Cq:!0}};h.C.Rw=function(a,c,d,e){a=h.C.Pr(a,d.left,d.right,e.width);return{$r:a.Cj,bs:c-e.height,Br:a.Cj,Cr:c-e.height-h.C.dv,oj:a.oj,Dq:e.height-2*h.C.bu-h.C.Lm/2,zn:!1,Cq:!0}};h.C.TC=function(a,c,d){a=h.C.Pr(a,c.left,c.right,d.width);return{$r:a.Cj,bs:0,Br:a.Cj,Cr:0,zn:null,oj:null,Dq:null,Cq:!1}};
h.C.Pr=function(a,c,d,e){var f=a;a=h.g.td.uj(c,a-e/2,d-e);f-=h.C.Lm/2;c=h.g.td.uj(h.C.$t,f-a,e-h.C.$t-h.C.Lm);return{oj:c,Cj:a}};h.C.isVisible=function(){return!!h.C.Rd};h.C.El=function(a,c){h.C.Rd===a&&(c?h.C.jo():h.C.Ya())};h.C.Ya=function(){var a=h.C.Be;a.style.transform="translate(0, 0)";a.style.opacity=0;h.C.Bq=setTimeout(function(){h.C.jo()},1E3*h.C.qp);h.C.Ci&&(h.C.Ci(),h.C.Ci=null)};
h.C.jo=function(){if(h.C.isVisible()){h.C.Bq&&clearTimeout(h.C.Bq);var a=h.C.Be;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";h.C.Ci&&(h.C.Ci(),h.C.Ci=null);h.C.UB();h.C.Rd=null;h.C.se&&(h.g.j.cd(a,h.C.se),h.C.se="");h.C.xe&&(h.g.j.cd(a,h.C.xe),h.C.xe="");Sa(h.Ig())}};
h.C.$l=function(a,c,d,e){a=h.C.SC(a,c,d,e);a.Cq?(h.C.Ed.style.display="",h.C.Ed.style.transform="translate("+a.oj+"px,"+a.Dq+"px) rotate(45deg)",h.C.Ed.setAttribute("class",a.zn?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):h.C.Ed.style.display="none";c=Math.floor(a.$r);d=Math.floor(a.bs);e=Math.floor(a.Br);var f=Math.floor(a.Cr),g=h.C.Be;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return!!a.zn};h.C.HJ=function(){if(h.C.Rd){var a=h.C.Rd,c=a.ga();a=h.C.ny?h.C.Uw(a):h.C.Tw(c);c=a.left+(a.right-a.left)/2;h.C.$l(c,a.bottom,c,a.top)}else h.C.Ya()};h.Og=function(a,c){h.PB();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!h.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new h.gd(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;h.g.Ab.bp(d,h.g.Ab.State.rA,h.P.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=h.$k(d,c);var e=new h.du(d),f=new h.Fv(d),g=h.fC(a,c,e,f);h.mD(g);h.Nl=g;h.wm(g);d.addEventListener("focusin",function(){h.Nl=g});return g};
h.$k=function(a,c){a.setAttribute("dir","LTR");h.Xd.Og(c.eD,c.Wo);a=h.g.j.J(h.g.D.gj,{xmlns:h.g.j.pn,"xmlns:html":h.g.j.Ip,"xmlns:xlink":h.g.j.ld,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=h.g.j.J(h.g.D.ou,{},a);c.Tr=h.Fh.Ua(String(Math.random()).substring(2),c.ax,d);return a};
h.fC=function(a,c,d,e){c.bd=null;c=new h.cc(c,d,e);d=c.options;c.scale=d.zb.UE;a.appendChild(c.Ua("blocklyMainBackground"));h.g.j.Nb(aa(c),c.ob.ke());h.g.j.Nb(aa(c),c.Nf().ke());if(!d.Cl&&d.si){e=h.g.D.gj;var f=new h.gd({parentWorkspace:c,rtl:c.L,oneBasedIndex:c.options.Ro,horizontalLayout:c.Yc,renderer:c.options.qt,rendererOverrides:c.options.rt,move:{scrollbars:!0}});f.Nc=c.options.Nc;c.ma=c.Yc?new (h.v.Gg(h.v.R.yu,c.options,!0))(f):new (h.v.Gg(h.v.R.Gp,c.options,!0))(f);c.ma.qj=!1;c.ma.m.Hb(!0);
e=c.ma.Ua(e);h.g.j.Pj(e,a)}if(d.hx){if(!h.bc)throw Error("Missing require for Blockly.Trashcan");c.xc=new h.bc(c);e=c.xc.Ua();c.O.insertBefore(e,c.xb);Dc(c.at,{id:"trashcan",by:c.xc,weight:1,types:[h.rg.R.$p]})}if(d.zb&&d.zb.controls){if(!h.rB)throw Error("Missing require for Blockly.ZoomControls");c.jk=new h.rB(c);d=c.jk.Ua();c.O.appendChild(d);Dc(c.at,{id:"zoomControls",by:c.jk,weight:2,types:[h.rg.R.$p]})}c.jc.subscribe(a,"workspaceBackgroundColour","background-color");c.translate(0,0);C(c,h.KB(c));
h.wm(c);h.aa.Ua();h.C.Ua();h.G.Ua();return c};h.AC=function(a,c){var d=null;switch(c.type){case h.h.uh:case h.h.vh:(d=a.Hc(c.fb))&&(d=d.oe());break;case h.h.Sm:case h.h.nk:d=a.Jn[c.Le]||null}return d};h.Rv=function(a){var c=a.ud;if(c.Vr()&&!a.$c()){c=c.Jj(!0);for(var d=[].concat(a.ym),e=0,f;f=d[e];e++)h.Qv(a,c,f)}};
h.KB=function(a){return function(c){var d=a.ud;if(d.Vr&&!a.$c())if(-1!==h.h.lz.indexOf(c.type)){d=d.Jj(!0);var e=h.AC(a,c);if(e){var f=h.h.Wb();h.h.ta(c.group);h.Qv(a,d,e)&&!c.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==f&&h.h.ta(f)}}else c.type===h.h.tn&&c.scale>c.Ms&&h.Rv(a)}};
h.Qv=function(a,c,d){var e=d.ai(),f=h.g.td.uj(c.top,e.top,c.top+c.height-(e.bottom-e.top))-e.top,g=c.left;c=c.left+c.width-(e.right-e.left);a.L?g=Math.min(c,g):c=Math.max(g,c);return(a=h.g.td.uj(g,e.left,c)-e.left)||f?(d.moveBy(a,f),!0):!1};
h.mD=function(a){var c=a.options,d=y(a);h.N.Ca(d.parentNode,"contextmenu",null,function(f){h.g.uo(f)||f.preventDefault()});d=h.N.Ca(window,"resize",null,function(){h.ec(!0);h.wm(a);h.Rv(a)});a.Zo=d;h.Og.EB();if(c.si){d=a.Na;var e=F(a,!0);d?d.za():e&&(e.za(a),e.show(c.si),"function"==typeof e.wy&&e.wy())}d=h.ya.fc;c.hx&&(d=a.xc.za(d));c.zb&&c.zb.controls&&a.jk.za(d);c.uc&&c.uc.scrollbars?(a.ib=new h.lq(a,!0===c.uc.scrollbars||!!c.uc.scrollbars.Zr,!0===c.uc.scrollbars||!!c.uc.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),
a.ib.resize()):a.jm({x:.5,y:.5});c.gD&&h.Og.yD(c.Wo,a)};h.Og.EB=function(){h.rC||(h.N.Ca(document,"scroll",null,function(){for(var a=h.qb.getAll(),c=0,d;d=a[c];c++)d.Dm&&d.Dm()}),h.N.Ca(document,"keydown",null,h.Os),h.N.bind(document,"touchend",null,h.Vg),h.N.bind(document,"touchcancel",null,h.Vg),h.g.userAgent.Bk&&h.N.Ca(window,"orientationchange",document,function(){h.wm(h.Ig())}));h.rC=!0};
h.Og.yD=function(a,c){function d(){for(;f.length;)h.N.yb(f.pop());e.preload()}var e=c.Uc;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(h.N.Ca(document,"mousemove",null,d,!0));f.push(h.N.Ca(document,"touchstart",null,d,!0))};h.Dd=function(a,c){this.Sy=c||"";this.ty=Object.create(null);if(a)for(a=a.split(","),c=0;c<a.length;c++)this.ty[a[c]]=!0;this.reset()};h.Dd.Bp="DEVELOPER_VARIABLE";h.Dd.prototype.reset=function(){this.Qe=Object.create(null);this.ow=Object.create(null);this.Oa=null};h.Dd.prototype.Ct=function(a){this.Oa=a};
function Vc(a,c){var d=h.H.Gm;if(c==h.kj){var e=a;d.Oa?e=(e=d.Oa.Kg(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),e=null);e&&(a=e)}e=a.toLowerCase()+"_"+c;var f=c==h.kj||c==h.Dd.Bp?d.Sy:"";if(e in d.Qe)return f+d.Qe[e];a?(a=encodeURI(a.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!=
"0123456789".indexOf(a[0])&&(a="my_"+a)):a=h.P.UNNAMED_KEY||"unnamed";for(var g="";d.ow[a+g]||a+g in d.ty;)g=g?g+1:2;a+=g;d.ow[a]=!0;c=(c==h.kj||c==h.Dd.Bp?d.Sy:"")+a;d.Qe[e]=c.substr(f.length);return c}h.Dd.Kf=function(a,c){return a.toLowerCase()==c.toLowerCase()};h.Ta={};h.Ta.Tu=h.gv;h.Ta.xz="x";h.Ta.vB=function(a){var c=bb(a,"procedures_defnoreturn").map(function(d){return d.Ij()});a=bb(a,"procedures_defreturn").map(function(d){return d.Ij()});c.sort(h.Ta.oy);a.sort(h.Ta.oy);return[c,a]};h.Ta.oy=function(a,c){return a[0].toLowerCase().localeCompare(c[0].toLowerCase())};h.Ta.CC=function(a,c){if(c.ad)return a;for(a=a||h.P.UNNAMED_KEY||"unnamed";!h.Ta.rD(a,c.B,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
h.Ta.rD=function(a,c,d){return!h.Ta.tD(a,c,d)};h.Ta.tD=function(a,c,d){c=B(c,!1);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].Ij){var f=c[e].Ij();if(h.Dd.Kf(f[0],a))return!0}return!1};h.Ta.GJ=function(a){a=a.trim();var c=h.Ta.CC(a,this.ga()),d=this.getValue();if(d!=a&&d!=c){a=B(this.ga().B,!1);for(var e=0;e<a.length;e++)a[e].zE&&a[e].zE(d,c)}return c};
h.Ta.Zh=function(a){function c(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],n=g[l][1],p=h.g.xml.createElement("block");p.setAttribute("type",k);p.setAttribute("gap",16);var q=h.g.xml.createElement("mutation");q.setAttribute("name",m);p.appendChild(q);for(m=0;m<n.length;m++){var t=h.g.xml.createElement("arg");t.setAttribute("name",n[m]);q.appendChild(t)}d.push(p)}}var d=[];if(h.Lb.procedures_defnoreturn){var e=h.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=h.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(h.g.xml.createTextNode(h.P.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}h.Lb.procedures_defreturn&&(e=h.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=h.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(h.g.xml.createTextNode(h.P.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));h.Lb.procedures_ifreturn&&(e=h.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=h.Ta.vB(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
h.Ta.Ny=function(a){for(var c=[],d=bb(a,"procedures_mutatorarg"),e=0,f;f=d[e];e++)c.push($a(f,"NAME"));d=h.g.xml.createElement("xml");e=h.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=h.g.xml.createElement("field");f.setAttribute("name","NAME");c=h.g.xml.createTextNode(h.oa.Jw(h.Ta.xz,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);if(c=h.g.V.jw(d)){if(!a.options.si)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(h.g.V.Cl(c)){if(!a.Na)throw Error("Existing toolbox has no categories.  Can't change mode.");
a.options.si=c;a.Na.Ja(c)}else{if(!a.ma)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.si=c;a.ma.show(c)}}else if(a.options.si)throw Error("Can't nullify an existing toolbox.");};h.Ta.JD=function(a){if(a.type==h.h.cu&&"mutator"===a.GI&&a.ks){a=h.qb.ul(a.Xb).Hc(a.fb);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.re.m,h.Ta.Ny(a),C(a,h.Ta.ID)}};h.Ta.ID=function(a){a.type!=h.h.uh&&a.type!=h.h.rp&&a.type!=h.h.sh||h.Ta.Ny(h.qb.ul(a.Xb))};
h.Ta.KC=function(a,c){var d=[];c=B(c,!1);for(var e=0;e<c.length;e++)if(c[e].UC){var f=c[e].UC();f&&h.Dd.Kf(f,a)&&d.push(c[e])}return d};h.Ta.yJ=function(a){var c=h.h.Ma,d=a.Ij()[0],e=a.Pd(!0);a=h.Ta.KC(d,a.B);d=0;for(var f;f=a[d];d++){var g=f.Pd();g=g&&h.K.Jd(g);f.Jf(e);var k=f.Pd();k=k&&h.K.Jd(k);g!=k&&(h.h.Ma=!1,h.h.Ga(new (h.h.get(h.h.sh))(f,"mutation",null,g,k)),h.h.Ma=c)}};h.Ta.eJ=function(a,c){c=c.tb(!1);for(var d=0;d<c.length;d++)if(c[d].Ij){var e=c[d].Ij();if(e&&h.Dd.Kf(e[0],a))return c[d]}return null};h.Ub=function(){h.Ub.v=this;this.vd=Object.create(null);this.Wj=Object.create(null)};h.Ub.Ho={Shift:h.g.ka.mn,Control:h.g.ka.zh,Alt:h.g.ka.Ri,Meta:h.g.ka.$i};h.Ub.prototype.register=function(a,c){if(this.vd[a.name]&&!c)throw Error('Shortcut with name "'+a.name+'" already exists.');this.vd[a.name]=a};
h.Ub.prototype.unregister=function(a){if(!this.vd[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var c in this.Wj){var d=c,e=this.Wj[d],f=e.indexOf(a);-1<f&&(e.splice(f,1),0==e.length&&delete this.Wj[d])}delete this.vd[a];return!0};function H(a,c){var d=h.Ub.v;a=String(a);var e=d.Wj[a];if(e)throw Error('Shortcut with name "'+c+'" collides with shortcuts '+e.toString());d.Wj[a]=[c]}
h.Ub.prototype.Os=function(a,c){var d="";for(e in h.Ub.Ho)c.getModifierState(e)&&(""!=d&&(d+="+"),d+=e);""!=d&&c.keyCode?d=d+"+"+c.keyCode:c.keyCode&&(d=c.keyCode.toString());d=this.Wj[d]||[];if(!d)return!1;var e=0;for(var f;f=d[e];e++)if(f=this.vd[f],(!f.Db||f.Db(a))&&f.gb&&f.gb(a,c,f))return!0;return!1};
function K(a,c){var d="";if(c){for(var e=h.g.object.values(h.Ub.Ho),f=0,g;g=c[f];f++)if(0>e.indexOf(g))throw Error(g+" is not a valid modifier key.");for(var k in h.Ub.Ho)-1<c.indexOf(h.Ub.Ho[k])&&(""!=d&&(d+="+"),d+=k)}""!=d&&a?d=d+"+"+a:a&&(d=a.toString());return d}new h.Ub;h.un=function(a,c,d,e){this.B=a;this.name=c;this.type=d||"";this.jD=e||h.g.Lf();h.h.Ga(new (h.h.get(h.h.Nk))(this))};h.un.prototype.pc=function(){return this.jD};h.un.XB=function(a,c){a=a.name.toLowerCase();c=c.name.toLowerCase();return a<c?-1:a==c?0:1};h.oa={};h.oa.Tu=h.kj;h.oa.Mv=function(a){var c=B(a,!1);a=Object.create(null);for(var d=0;d<c.length;d++){var e=ja(c[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.pc();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};h.oa.Xt={};
h.oa.tB=function(a){a=B(a,!1);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.fJ;!f&&e.PC&&(f=e.PC,h.oa.Xt[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),h.oa.Xt[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
h.oa.Zh=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");Oc(a,function(e){h.oa.lw(e.jJ())});c.push(d);a=h.oa.EC(a);return c=c.concat(a)};
h.oa.EC=function(a){a=a.ho("");var c=[];if(0<a.length){var d=a[a.length-1];if(h.Lb.variables_set){var e=h.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",h.Lb.math_change?8:24);e.appendChild(h.oa.Er(d));c.push(e)}h.Lb.math_change&&(e=h.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",h.Lb.variables_get?20:8),e.appendChild(h.oa.Er(d)),d=h.K.we('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(h.Lb.variables_get){a.sort(h.un.XB);d=0;for(var f;f=a[d];d++)e=h.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(h.oa.Er(f)),c.push(e)}}return c};h.oa.yv="ijkmnopqrstuvwxyzabcdefgh";h.oa.HC=function(a){return h.oa.Jw(h.oa.yv.charAt(0),a.Fr())};
h.oa.Jw=function(a,c){if(!c.length)return a;for(var d=h.oa.yv,e="",f=d.indexOf(a);;){for(var g=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){g=!0;break}if(!g)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
h.oa.lw=function(a,c,d){function e(g){h.oa.py(h.P.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=h.oa.LD(k,a);if(l){if(l.type==f)var m=h.P.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=h.P.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);h.alert(m,function(){e(k)})}else a.ge(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};h.oa.ge=h.oa.lw;
h.oa.qy=function(a,c){function d(e){var f=h.P.RENAME_VARIABLE_TITLE.replace("%1",c.name);h.oa.py(f,e,function(g){if(g){var k=h.oa.MD(g,c.type,a);k?(k=h.P.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),h.alert(k,function(){d(g)})):a.Ei(c.pc(),g)}})}d("")};h.oa.py=function(a,c,d){h.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==h.P.RENAME_VARIABLE||e==h.P.NEW_VARIABLE)&&(e=null);d(e)})};
h.oa.MD=function(a,c,d){d=d.Oa.$h();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};h.oa.LD=function(a,c){c=c.Oa.$h();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};h.oa.Er=function(a){var c=h.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.pc());c.setAttribute("variabletype",a.type);a=h.g.xml.createTextNode(a.name);c.appendChild(a);return c};
h.oa.hJ=function(a,c,d,e){var f=h.oa.Jg(a,c,d,e);f||(f=h.oa.gC(a,c,d,e));return f};h.oa.Jg=function(a,c,d,e){var f=a.Zj,g=null;if(c&&(g=a.Kg(c),!g&&f&&(g=f.Kg(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.Jg(d,e);!g&&f&&(g=f.Jg(d,e))}return g};h.oa.gC=function(a,c,d,e){var f=a.Zj;d||(d=h.oa.HC(a.Pf?a.Ka:a));return f?f.ge(d,e,c):a.ge(d,e,c)};
h.oa.Kw=function(a,c){a=a.$h();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};h.VERSION="uncompiled";h.Nl=null;h.selected=null;h.Fj=[];h.vj=null;h.Gn=null;h.Sq=null;h.JI=null;h.So=null;h.WJ=function(a){h.g.Sn.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize");return new h.g.kd(a.MB,a.LB)};h.IJ=function(a){ha(a)};
h.wm=function(a){for(;a.options.bd;)a=a.options.bd;var c=y(a),d=jc(a),e=c.parentNode;if(e){var f=e.offsetWidth;e=e.offsetHeight;d.width!=f&&(c.setAttribute("width",f+"px"),Mc(a,f,null));d.height!=e&&(c.setAttribute("height",e+"px"),Mc(a,null,e));a.resize()}};h.Os=function(a){var c=h.Nl;!c||h.g.uo(a)||c.ua&&!c.isVisible()||h.Ub.v.Os(c,a)};h.tw=function(){var a=h.selected;a.B.Pf||(h.h.ta(!0),h.ec(),a.I(!0,!0),h.h.ta(!1))};
h.Wq=function(a){if(a.Tj)a=null;else{var c=h.K.Cf(a,!0);h.K.mC(c);var d=a.Xa();c.setAttribute("x",a.L?-d.x:d.x);c.setAttribute("y",d.y);a={xml:c,source:a.B,fF:h.g.Gr(a,!0)}}a&&(h.vj=a.xml,h.Gn=a.source,h.Sq=a.fF)};h.Uo=function(){if(!h.vj)return!1;var a=h.Gn;a.Pf&&(a=a.Ka);return h.Sq&&db(a,h.Sq)?(h.h.ta(!0),a.Uo(h.vj),h.h.ta(!1),!0):!1};h.duplicate=function(a){var c=h.vj,d=h.Gn;h.Wq(a);a.B.Uo(h.vj);h.vj=c;h.Gn=d};h.zJ=function(a){h.g.uo(a)||a.preventDefault()};
h.ec=function(a){h.G.Ya();h.aa.Ya();h.C.jo();if(!a){a=h.Ig();if(a.xc&&a.xc.Te){var c=a.xc;c.Te.isVisible()&&(c.Te.Ya(),Tb(c,!1))}(a=a.Na)&&F(a)&&F(a).qj&&a.LI()}};h.Ig=function(){return h.Nl};h.alert=function(a,c){alert(a);c&&c()};h.confirm=function(a,c){c(confirm(a))};h.prompt=function(a,c,d){d(prompt(a,c))};h.wD=function(a){return function(){bc(this,a)}};
h.XI=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(h.Lb[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),h.Lb[e]={za:h.wD(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};h.uD=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};h.mJ=function(a){return h.g.sb.ox(a)};
h.PB=function(){h.mc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);h.mc("LOGIC_HUE",["Constants","Logic","HUE"],210);h.mc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);h.mc("LOOPS_HUE",["Constants","Loops","HUE"],120);h.mc("MATH_HUE",["Blocks","math","HUE"],void 0);h.mc("MATH_HUE",["Constants","Math","HUE"],230);h.mc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);h.mc("TEXTS_HUE",["Constants","Text","HUE"],160);h.mc("LISTS_HUE",["Blocks","lists","HUE"],void 0);h.mc("LISTS_HUE",["Constants","Lists","HUE"],
260);h.mc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);h.mc("COLOUR_HUE",["Constants","Colour","HUE"],20);h.mc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);h.mc("VARIABLES_HUE",["Constants","Variables","HUE"],330);h.mc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);h.mc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
h.mc=function(a,c,d){for(var e="Blockly",f=h,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};h.QJ=function(a){h.So=a};h.Qh=h.N.bind;h.kp=h.N.yb;h.FI=h.N.Ca;h.oF=h.lb.Wd.Yb;h.Im=h.lb.Wd.Pm;h.pF=h.lb.Wd.jd;h.Sb=h.X.Sb;h.fd=h.X.fd;h.Tb=h.X.Tb;h.hd=h.X.hd;h.OF=h.Ha.Ce;h.oI=h.g.V.Pa.Nh;h.lI=h.g.V.Pa.Si;h.mI=h.g.V.Pa.Yb;h.nI=h.g.V.Pa.jd;var Wc={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fo:"F\u00f8royskt",
fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",
pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",
yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},Xc="ace ar fa he mzn ps ur".split(" "),M=window.BlocklyGamesLang,Yc=window.BlocklyGamesLanguages,Zc=/\.html$/.test(window.location.pathname);function $c(a,c,d){var e=Number;a=(a=window.location.search.match(new RegExp("[?&]"+a+"=([^&]+)")))?decodeURIComponent(a[1].replace(/\+/g,"%20")):"NaN";e=e(a);return isNaN(e)?c:h.g.td.uj(c,e,d)}function ad(){return-1!=Xc.indexOf(M)}
var N=$c("level",1,10);
function bd(){document.title=document.getElementById("title").textContent;document.dir=ad()?"rtl":"ltr";document.head.parentElement.setAttribute("lang",M);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<Yc.length;d++){var e=Yc[d];c.push([Wc[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==M&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}for(d=1;10>=
d;d++)a=document.getElementById("level"+d),c=!!cd(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(dd,1)}function cd(a){var c=ed;try{var d=window.localStorage[c+a]}catch(e){}return d}function O(a){var c;(c=document.getElementById(a))?(c=c.textContent,c=c.replace(/\\n/g,"\n")):c=null;return null===c?"[Unknown message: "+a+"]":c}
function fd(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",c,!0)}
function dd(){if(!Zc){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};h.na={};h.na.jt=function(){h.Ea.v.register({Gc:function(){return h.P.UNDO},Db:function(a){return 0<a.B.Mi.length?"enabled":"disabled"},gb:function(a){fb(a.B,!1)},wd:h.Ea.Dc.Sc,id:"undoWorkspace",weight:1})};h.na.ht=function(){h.Ea.v.register({Gc:function(){return h.P.REDO},Db:function(a){return 0<a.B.dm.length?"enabled":"disabled"},gb:function(a){fb(a.B,!0)},wd:h.Ea.Dc.Sc,id:"redoWorkspace",weight:2})};
h.na.hE=function(){h.Ea.v.register({Gc:function(){return h.P.CLEAN_UP},Db:function(a){return a.B.rc()?1<a.B.tb(!1).length?"enabled":"disabled":"hidden"},gb:function(a){a=a.B;a.Zb(!1);h.h.ta(!0);for(var c=a.tb(!0),d=0,e=0,f;f=c[e];e++)if(f.rc()){var g=f.Xa();f.moveBy(-g.x,d-g.y);xc(f);d=f.Xa().y+z(f).height+a.ob.ea().Fk}h.h.ta(!1);a.Zb(!0)},wd:h.Ea.Dc.Sc,id:"cleanWorkspace",weight:3})};h.na.Jy=function(a,c){for(var d=0,e=0;e<c.length;e++)for(var f=c[e];f;)setTimeout(f.Gi.bind(f,a),d),f=u(f),d+=10};
h.na.iE=function(){h.Ea.v.register({Gc:function(){return h.P.COLLAPSE_ALL},Db:function(a){if(a.B.options.collapse){a=a.B.tb(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(!d.isCollapsed())return"enabled";d=u(d)}return"disabled"}return"hidden"},gb:function(a){h.na.Jy(!0,a.B.tb(!0))},wd:h.Ea.Dc.Sc,id:"collapseWorkspace",weight:4})};
h.na.tE=function(){h.Ea.v.register({Gc:function(){return h.P.EXPAND_ALL},Db:function(a){if(a.B.options.collapse){a=a.B.tb(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(d.isCollapsed())return"enabled";d=u(d)}return"disabled"}return"hidden"},gb:function(a){h.na.Jy(!1,a.B.tb(!0))},wd:h.Ea.Dc.Sc,id:"expandWorkspace",weight:5})};h.na.Jv=function(a,c){if(a.Zc())Array.prototype.push.apply(c,r(a,!1));else{a=ca(a,!1);for(var d=0;d<a.length;d++)h.na.Jv(a[d],c)}};
h.na.Kr=function(a){var c=[];a=a.tb(!0);for(var d=0;d<a.length;d++)h.na.Jv(a[d],c);return c};h.na.Rn=function(a,c){h.h.ta(c);var d=a.shift();d&&(d.B?(d.I(!1,!0),setTimeout(h.na.Rn,10,a,c)):h.na.Rn(a,c));h.h.ta(!1)};
h.na.pE=function(){h.Ea.v.register({Gc:function(a){if(a.B)return a=h.na.Kr(a.B).length,1==a?h.P.DELETE_BLOCK:h.P.DELETE_X_BLOCKS.replace("%1",String(a))},Db:function(a){if(a.B)return 0<h.na.Kr(a.B).length?"enabled":"disabled"},gb:function(a){if(a.B){zc(a.B);var c=h.na.Kr(a.B),d=h.g.Lf();2>c.length?h.na.Rn(c,d):h.confirm(h.P.DELETE_ALL_BLOCKS.replace("%1",c.length),function(e){e&&h.na.Rn(c,d)})}},wd:h.Ea.Dc.Sc,id:"workspaceDelete",weight:6})};
h.na.xE=function(){h.na.jt();h.na.ht();h.na.hE();h.na.iE();h.na.tE();h.na.pE()};h.na.rE=function(){h.Ea.v.register({Gc:function(){return h.P.DUPLICATE_BLOCK},Db:function(a){a=a.block;return!a.ad&&a.Zc()&&a.rc()?(eb(a.B)?db(a.B,h.g.Gr(a,!0)):1)?"enabled":"disabled":"hidden"},gb:function(a){a.block&&h.duplicate(a.block)},wd:h.Ea.Dc.Rb,id:"blockDuplicate",weight:1})};
h.na.kE=function(){h.Ea.v.register({Gc:function(a){return a.block.Hd?h.P.REMOVE_COMMENT:h.P.ADD_COMMENT},Db:function(a){a=a.block;return h.g.userAgent.Yd||a.ad||!a.B.options.WB||a.isCollapsed()||!a.Nd()?"hidden":"enabled"},gb:function(a){a=a.block;a.Hd?a.bk(null):a.bk("")},wd:h.Ea.Dc.Rb,id:"blockComment",weight:2})};
h.na.vE=function(){h.Ea.v.register({Gc:function(a){return ua(a.block)?h.P.EXTERNAL_INPUTS:h.P.INLINE_INPUTS},Db:function(a){a=a.block;if(!a.ad&&a.rc()&&!a.isCollapsed())for(var c=1;c<a.T.length;c++)if(a.T[c-1].type!=h.Ha.lc&&a.T[c].type!=h.Ha.lc)return"enabled";return"hidden"},gb:function(a){a.block.ue(!ua(a.block))},wd:h.Ea.Dc.Rb,id:"blockInline",weight:3})};
h.na.jE=function(){h.Ea.v.register({Gc:function(a){return a.block.isCollapsed()?h.P.EXPAND_BLOCK:h.P.COLLAPSE_BLOCK},Db:function(a){a=a.block;return!a.ad&&a.rc()?"enabled":"hidden"},gb:function(a){a.block.Gi(!a.block.isCollapsed())},wd:h.Ea.Dc.Rb,id:"blockCollapseExpand",weight:4})};
h.na.qE=function(){h.Ea.v.register({Gc:function(a){return a.block.isEnabled()?h.P.DISABLE_BLOCK:h.P.ENABLE_BLOCK},Db:function(a){a=a.block;return!a.ad&&a.B.options.disable&&a.Nd()?ac(a)?"disabled":"enabled":"hidden"},gb:function(a){a=a.block;var c=h.h.Wb();c||h.h.ta(!0);a.df(!a.isEnabled());c||h.h.ta(!1)},wd:h.Ea.Dc.Rb,id:"blockDisable",weight:5})};
h.na.gt=function(){h.Ea.v.register({Gc:function(a){var c=a.block;a=r(c,!1).length;(c=u(c))&&(a-=r(c,!1).length);return 1==a?h.P.DELETE_BLOCK:h.P.DELETE_X_BLOCKS.replace("%1",String(a))},Db:function(a){return!a.block.ad&&a.block.Zc()?"enabled":"hidden"},gb:function(a){h.h.ta(!0);a.block.I(!0,!0);h.h.ta(!1)},wd:h.Ea.Dc.Rb,id:"blockDelete",weight:6})};
h.na.uE=function(){h.Ea.v.register({Gc:function(){return h.P.HELP},Db:function(a){a=a.block;return("function"==typeof a.Xe?a.Xe():a.Xe)?"enabled":"hidden"},gb:function(a){a.block.showHelp()},wd:h.Ea.Dc.Rb,id:"blockHelp",weight:7})};h.na.gE=function(){h.na.rE();h.na.kE();h.na.vE();h.na.jE();h.na.qE();h.na.gt();h.na.uE()};h.na.nE=function(){h.na.xE();h.na.gE()};h.na.nE();h.ub={};h.ub.names={Mz:"escape",Bh:"delete",pz:"copy",vz:"cut",LA:"paste",iB:"undo",WA:"redo"};h.ub.sE=function(){var a={name:h.ub.names.Mz,Db:function(c){return!c.options.readOnly},gb:function(){h.ec();return!0}};h.Ub.v.register(a);H(h.g.ka.Lz,a.name)};h.ub.gt=function(){var a={name:h.ub.names.Bh,Db:function(c){return!c.options.readOnly&&h.selected&&h.selected.Zc()},gb:function(c,d){d.preventDefault();if(h.Ee.ki())return!1;h.tw();return!0}};h.Ub.v.register(a);H(h.g.ka.Bh,a.name);H(h.g.ka.hz,a.name)};
h.ub.lE=function(){var a={name:h.ub.names.pz,Db:function(d){return!d.options.readOnly&&!h.Ee.ki()&&h.selected&&h.selected.Zc()&&h.selected.rc()},gb:function(){h.ec();h.Wq(h.selected);return!0}};h.Ub.v.register(a);var c=K(h.g.ka.vp,[h.g.ka.zh]);H(c,a.name);c=K(h.g.ka.vp,[h.g.ka.Ri]);H(c,a.name);c=K(h.g.ka.vp,[h.g.ka.$i]);H(c,a.name)};
h.ub.mE=function(){var a={name:h.ub.names.vz,Db:function(d){return!d.options.readOnly&&!h.Ee.ki()&&h.selected&&h.selected.Zc()&&h.selected.rc()&&!h.selected.B.Pf},gb:function(){h.Wq(h.selected);h.tw();return!0}};h.Ub.v.register(a);var c=K(h.g.ka.wq,[h.g.ka.zh]);H(c,a.name);c=K(h.g.ka.wq,[h.g.ka.Ri]);H(c,a.name);c=K(h.g.ka.wq,[h.g.ka.$i]);H(c,a.name)};
h.ub.wE=function(){var a={name:h.ub.names.LA,Db:function(d){return!d.options.readOnly&&!h.Ee.ki()},gb:function(){return h.Uo()}};h.Ub.v.register(a);var c=K(h.g.ka.tq,[h.g.ka.zh]);H(c,a.name);c=K(h.g.ka.tq,[h.g.ka.Ri]);H(c,a.name);c=K(h.g.ka.tq,[h.g.ka.$i]);H(c,a.name)};
h.ub.jt=function(){var a={name:h.ub.names.iB,Db:function(d){return!d.options.readOnly&&!h.Ee.ki()},gb:function(d){h.ec();fb(d,!1);return!0}};h.Ub.v.register(a);var c=K(h.g.ka.nj,[h.g.ka.zh]);H(c,a.name);c=K(h.g.ka.nj,[h.g.ka.Ri]);H(c,a.name);c=K(h.g.ka.nj,[h.g.ka.$i]);H(c,a.name)};
h.ub.ht=function(){var a={name:h.ub.names.WA,Db:function(d){return!h.Ee.ki()&&!d.options.readOnly},gb:function(d){h.ec();fb(d,!0);return!0}};h.Ub.v.register(a);var c=K(h.g.ka.nj,[h.g.ka.mn,h.g.ka.zh]);H(c,a.name);c=K(h.g.ka.nj,[h.g.ka.mn,h.g.ka.Ri]);H(c,a.name);c=K(h.g.ka.nj,[h.g.ka.mn,h.g.ka.$i]);H(c,a.name);c=K(h.g.ka.nB,[h.g.ka.zh]);H(c,a.name)};h.ub.oE=function(){h.ub.sE();h.ub.gt();h.ub.lE();h.ub.mE();h.ub.wE();h.ub.jt();h.ub.ht()};h.ub.oE();h.g.u={};h.g.u.Ia=function(a,c){return" "+a+","+c+" "};h.g.u.curve=function(a,c){return" "+a+c.join("")};h.g.u.moveTo=function(a,c){return" M "+a+","+c+" "};h.g.u.moveBy=function(a,c){return" m "+a+","+c+" "};h.g.u.lineTo=function(a,c){return" l "+a+","+c+" "};h.g.u.line=function(a){return" l"+a.join("")};h.g.u.$=function(a,c){return" "+a+" "+c+" "};h.g.u.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};h.i.sf=function(){this.Fe=0;this.YA=3;this.Cd=5;this.Ru=8;this.Cc=10;this.rv=this.Cd;this.Mk=15;this.ij=5;this.rn=8;this.DA=15;this.Xp=4;this.AA=12;this.Fz=16;this.Ez=this.su=this.Mk;this.pb=8;this.dB=this.Ik=15;this.ov=0;this.qv=20;this.iz=4;this.gB=this.Cd;this.hB=this.Cc;this.kz=this.Cd;this.jz=this.Cc;this.Hm=!1;this.bB=15;this.cB=100;this.aB=15;this.Fk=24;this.Hz=14.5;this.Gz=this.Mk+11;this.Nz=2;this.Iz=this.Fk;this.nv=h.g.u.moveBy(0,0);this.oA=12;this.pA=6;this.Dh=11;this.hg="normal";this.gg=
"sans-serif";this.Dp=this.Ym=-1;this.Xm=4;this.uu=16;this.vk=5;this.Uz="#fff";this.Ep=!h.g.userAgent.Yd&&!h.g.userAgent.Ch;this.vu=this.uu;this.Wz=this.Vz=this.wu=!1;this.Yz=this.vk;this.wk=12;this.Xz="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.cm=String(Math.random()).substring(2);this.Yn="";this.yr=null;this.yw="";this.gr=null;this.pw="";this.bl=this.Yq=null;this.Tm="#cc0a0a";this.cn="#4286f4";this.Vm=100;this.Cv=5;this.Um=10;this.rz=2;this.uz=4;this.Lp="#000000";this.Zm=.2;this.mv={NA:1,aj:2}};b=h.i.sf.prototype;
b.za=function(){this.Zi=this.ws();this.aj=this.xs();this.fj=this.zs();this.bq=this.ys();var a=this.pb,c=h.g.u.arc("a","0 0,0",a,h.g.u.Ia(-a,a)),d=h.g.u.arc("a","0 0,0",a,h.g.u.Ia(a,a));this.$m={width:a,height:a,Ys:c,Vo:d};a=this.pb;c=h.g.u.moveBy(0,a)+h.g.u.arc("a","0 0,1",a,h.g.u.Ia(a,-a));d=h.g.u.arc("a","0 0,1",a,h.g.u.Ia(a,a));var e=h.g.u.arc("a","0 0,1",a,h.g.u.Ia(-a,-a)),f=h.g.u.arc("a","0 0,1",a,h.g.u.Ia(-a,a));this.Jk={Ot:c,cF:d,HB:f,Iq:e,CE:a}};
b.lm=function(a){this.yg={};var c=a.yg,d;for(d in c)this.yg[d]=gd(c[d]);this.gg=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.gg;this.hg=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.hg;this.Dh=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.Dh;c=h.g.j.CD(this.Dh+"pt",this.hg,this.gg);this.Ym=c.height;this.Dp=c.ce;this.Tm=Ya(a,"cursorColour")||this.Tm;this.cn=Ya(a,"markerColour")||this.cn;this.Lp=Ya(a,"insertionMarkerColour")||this.Lp;this.Zm=Number(Ya(a,
"insertionMarkerOpacity"))||this.Zm;this.Hm=null!=a.Ht?a.Ht:this.Hm};function Ac(a,c){var d="auto_"+c;a.yg[d]||(a.yg[d]=gd({colourPrimary:c}));return{style:a.yg[d],name:d}}function wc(a,c){return a.yg[c||""]||(c&&0==c.indexOf("auto_")?Ac(a,c.substring(5)).style:gd({colourPrimary:"#000000"}))}
function gd(a){var c={};a&&h.g.object.Xg(c,a);a=h.g.To(c.colourPrimary||"#000");c.Sh=a.Dl;c.colourSecondary?a=h.g.To(c.colourSecondary).Dl:(a=c.Sh,a=h.g.sb.Fq("#fff",a,.6)||a);c.In=a;c.colourTertiary?a=h.g.To(c.colourTertiary).Dl:(a=c.Sh,a=h.g.sb.Fq("#fff",a,.3)||a);c.wj=a;c.We=c.hat||"";return c}b.I=function(){this.yr&&h.g.j.removeNode(this.yr);this.gr&&h.g.j.removeNode(this.gr);this.Yq&&h.g.j.removeNode(this.Yq);this.bl=null};
b.ws=function(){var a=this.oA,c=this.pA,d=h.g.u.line([h.g.u.Ia(c,a/4),h.g.u.Ia(2*-c,a/2),h.g.u.Ia(c,a/4)]);return{height:a,width:c,path:d}};b.zs=function(){var a=this.bB,c=this.cB,d=h.g.u.curve("c",[h.g.u.Ia(30,-a),h.g.u.Ia(70,-a),h.g.u.Ia(c,0)]);return{height:a,width:c,path:d}};
b.ys=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,m=h.g.u.Ia(c,g*l);return h.g.u.curve("c",[h.g.u.Ia(0,g*(l+2.5)),h.g.u.Ia(-c,k*(l+.5)),h.g.u.Ia(-c,g*l)])+h.g.u.curve("s",[h.g.u.Ia(c,2.5*k),m])}var c=this.rn,d=this.Mk,e=a(!0),f=a(!1);return{type:this.mv.NA,width:c,height:d,Sd:f,Yl:e}};b.xs=function(){function a(k){return h.g.u.line([h.g.u.Ia(k*e,d),h.g.u.Ia(3*k,0),h.g.u.Ia(k*e,-d)])}var c=this.DA,d=this.Xp,e=(c-3)/2,f=a(1),g=a(-1);return{type:this.mv.aj,width:c,height:d,eh:f,Zx:g}};
function ta(a,c){switch(c.type){case h.X.Sb:case h.X.fd:return a.bq;case h.X.hd:case h.X.Tb:return a.aj;default:throw Error("Unknown connection type");}}
b.Ua=function(a,c,d){d=this.Hr(d);c="blockly-renderer-style-"+c;this.bl=document.getElementById(c);var e=d.join("\n");this.bl?this.bl.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.bl=d);a=h.g.j.J(h.g.D.ou,{},a);c=h.g.j.J(h.g.D.xu,{id:"blocklyEmbossFilter"+this.cm},a);h.g.j.J(h.g.D.Rz,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=h.g.j.J(h.g.D.Tz,{"in":"blur",surfaceScale:1,
specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);h.g.j.J(h.g.D.Sz,{x:-5E3,y:-1E4,z:2E4},d);h.g.j.J(h.g.D.Cp,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);h.g.j.J(h.g.D.Cp,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.Yn=c.id;this.yr=c;c=h.g.j.J(h.g.D.fv,{id:"blocklyDisabledPattern"+this.cm,patternUnits:"userSpaceOnUse",width:10,height:10},a);h.g.j.J(h.g.D.Mb,{width:10,height:10,fill:"#aaa"},c);h.g.j.J(h.g.D.Ge,
{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},c);this.yw=c.id;this.gr=c;h.i.Pc&&(a=h.g.j.J(h.g.D.xu,{id:"blocklyDebugFilter"+this.cm,height:"160%",width:"180%",y:"-30%",x:"-40%"},a),c=h.g.j.J(h.g.D.Oz,{result:"outBlur"},a),h.g.j.J(h.g.D.Qz,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c),h.g.j.J(h.g.D.Pz,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},a),h.g.j.J(h.g.D.Cp,{"in":"outColor",in2:"outBlur",operator:"in",result:"outGlow"},a),this.pw=a.id,this.Yq=a)};
b.Hr=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.hg+" "+this.Dh+"pt "+this.gg+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.Uz+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.gg+";","font-weight: "+this.hg+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.Zm+
";","stroke: none;","}"]};h.i.o={NONE:0,Ac:1,Au:2,Du:4,iq:8,au:16,Hu:32,tu:64,Bd:128,Fu:256,pv:512,oz:1024,aq:2048,Wp:4096,HA:8192,yp:16384,Pp:32768,Op:65536,gq:131072,fq:262144,Lu:524288,hq:1048576,oq:2097152,sp:4194304,Gu:8388608};h.i.o.GG=h.i.o.Pp|h.i.o.Op;h.i.o.YH=h.i.o.gq|h.i.o.fq;h.i.o.Js=16777216;h.i.o.vb=function(){Object.prototype.hasOwnProperty.call(h.i.o,void 0)||(h.i.o[void 0]=h.i.o.Js,h.i.o.Js<<=1);return h.i.o[void 0]};h.i.o.$e=function(a){return a.type&h.i.o.Ac};h.i.o.pi=function(a){return a.type&h.i.o.Au};
h.i.o.Rj=function(a){return a.type&h.i.o.Du};h.i.o.sd=function(a){return a.type&h.i.o.iq};h.i.o.rJ=function(a){return a.type&h.i.o.Hu};h.i.o.Qf=function(a){return a.type&h.i.o.Bd};h.i.o.Jl=function(a){return a.type&h.i.o.tu};h.i.o.Qg=function(a){return a.type&h.i.o.Fu};h.i.o.ri=function(a){return a.type&h.i.o.pv};h.i.o.Vj=function(a){return a.type&h.i.o.aq};h.i.o.Sg=function(a){return a.type&h.i.o.Wp};h.i.o.vD=function(a){return a.type&(h.i.o.aq|h.i.o.Wp)};h.i.o.Rg=function(a){return a.type&h.i.o.Op};
h.i.o.vx=function(a){return a.type&h.i.o.fq};h.i.o.Kl=function(a){return a.type&h.i.o.Pp};h.i.o.sJ=function(a){return a.type&h.i.o.gq};h.i.o.qJ=function(a){return a.type&h.i.o.yp};h.i.o.tx=function(a){return a.type&h.i.o.Lu};h.i.o.uJ=function(a){return a.type&h.i.o.hq};h.i.o.pD=function(a){return a.type&h.i.o.au};h.i.o.vo=function(a){return a.type&h.i.o.oq};h.i.o.no=function(a){return a.type&h.i.o.sp};h.i.o.xx=function(a){return a.type&(h.i.o.oq|h.i.o.sp)};h.i.o.qD=function(a){return a.type&h.i.o.Gu};h.i.mg=function(a){this.height=this.width=0;this.type=h.i.o.NONE;this.Ag=this.sa=0;this.s=a;this.Qd=this.s.Ik};h.i.xa=function(a,c){h.i.xa.A.constructor.call(this,a);this.nc=c;this.shape=ta(this.s,c);this.oi=!!this.shape.isDynamic;this.type|=h.i.o.oz};h.g.object.W(h.i.xa,h.i.mg);h.i.Zp=function(a,c){h.i.Zp.A.constructor.call(this,a,c);this.type|=h.i.o.HA;this.height=this.oi?0:this.shape.height;this.Ud=this.width=this.oi?0:this.shape.width;this.od=this.s.ij;this.Xk=0};h.g.object.W(h.i.Zp,h.i.xa);
h.i.cq=function(a,c){h.i.cq.A.constructor.call(this,a,c);this.type|=h.i.o.aq;this.height=this.shape.height;this.width=this.shape.width};h.g.object.W(h.i.cq,h.i.xa);h.i.Yp=function(a,c){h.i.Yp.A.constructor.call(this,a,c);this.type|=h.i.o.Wp;this.height=this.shape.height;this.width=this.shape.width};h.g.object.W(h.i.Yp,h.i.xa);h.i.Dk=function(a,c){h.i.Dk.A.constructor.call(this,a,c.connection);this.type|=h.i.o.Bd;this.input=c;this.align=c.align;(this.Bg=c.connection&&c.connection.va()?c.connection.va():null)?(a=z(this.Bg),this.Wk=a.width,this.Ln=a.height):this.Ln=this.Wk=0;this.od=this.Xk=0};h.g.object.W(h.i.Dk,h.i.xa);
h.i.jg=function(a,c){h.i.jg.A.constructor.call(this,a,c);this.type|=h.i.o.Fu;this.Bg?(this.width=this.Wk,this.height=this.Ln):(this.height=this.s.Gz,this.width=this.s.Hz);this.xj=this.oi?this.shape.height(this.height):this.shape.height;this.Pe=this.oi?this.shape.width(this.height):this.shape.width;this.Bg||(this.width+=this.Pe*(this.oi?2:1));this.od=this.oi?this.shape.od(this.xj):this.s.ij;this.Xk=this.oi?this.shape.Xk(this.Pe):0};h.g.object.W(h.i.jg,h.i.Dk);
h.i.tg=function(a,c){h.i.tg.A.constructor.call(this,a,c);this.type|=h.i.o.pv;this.height=this.Bg?this.Ln+this.s.ov:this.s.Iz;this.width=this.s.dB+this.shape.width};h.g.object.W(h.i.tg,h.i.Dk);h.i.Wm=function(a,c){h.i.Wm.A.constructor.call(this,a,c);this.type|=h.i.o.tu;this.height=this.Bg?this.Ln-this.s.ij-this.s.Cd:this.shape.height;this.width=this.shape.width+this.s.Nz;this.od=this.s.ij;this.xj=this.shape.height;this.Pe=this.shape.width};h.g.object.W(h.i.Wm,h.i.Dk);h.i.Mp=function(a,c){h.i.Mp.A.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=h.i.o.Du;a=c.dJ();this.height=a.height;this.width=a.width};h.g.object.W(h.i.Mp,h.i.mg);h.i.Np=function(a){h.i.Np.A.constructor.call(this,a);this.type|=h.i.o.Lu;this.height=this.s.Zi.height;this.width=this.s.Zi.width};h.g.object.W(h.i.Np,h.i.mg);
h.i.Ad=function(a,c){h.i.Ad.A.constructor.call(this,a);this.Gj=c;this.Nd=c.tk;this.ol=c.Ow();this.type|=h.i.o.Ac;a=this.Gj.Mf();this.height=a.height;this.width=a.width};h.g.object.W(h.i.Ad,h.i.mg);h.i.Jp=function(a){h.i.Jp.A.constructor.call(this,a);this.type|=h.i.o.Au;this.height=this.s.fj.height;this.width=this.s.fj.width;this.pj=this.height};h.g.object.W(h.i.Jp,h.i.mg);
h.i.hj=function(a,c){h.i.hj.A.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.o.gq:h.i.o.Pp)|h.i.o.yp;this.width=this.height=this.s.Fe};h.g.object.W(h.i.hj,h.i.mg);h.i.ln=function(a,c){h.i.ln.A.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.o.fq:h.i.o.Op)|h.i.o.yp;this.width=this.s.pb;this.height=this.s.pb/2};h.g.object.W(h.i.ln,h.i.mg);h.i.tf=function(a,c){h.i.tf.A.constructor.call(this,a);this.type=this.type|h.i.o.iq|h.i.o.Hu;this.width=c;this.height=this.s.aB};h.g.object.W(h.i.tf,h.i.mg);h.i.Kh=function(a){this.type=h.i.o.hq;this.elements=[];this.sa=this.Kb=this.zd=this.minWidth=this.minHeight=this.width=this.height=0;this.ex=this.Nj=this.Wr=this.Qb=this.Mg=!1;this.s=a;this.Qd=this.s.Ik;this.align=null};h.i.Kh.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function P(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.i.o.Qf(d))return d;return null}h.i.Kh.prototype.gp=function(){return!0};h.i.Kh.prototype.jl=function(){return!0};
h.i.Ph=function(a){h.i.Ph.A.constructor.call(this,a);this.type|=h.i.o.oq;this.pj=this.Df=0;this.fD=!1;this.connection=null};h.g.object.W(h.i.Ph,h.i.Kh);h.i.Ph.prototype.Xr=function(a){var c=(a.We?"cap"===a.We:this.s.Hm)&&!a.S&&!a.Y,d=a.Y&&a.Y.va();return!!a.S||c||(d?u(d)==a:!1)};
h.i.Ph.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.o.sd(f)||(h.i.o.pi(f)?d=Math.max(d,f.pj):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.Df=this.pj=d;this.zd=this.width};h.i.Ph.prototype.gp=function(){return!1};h.i.Ph.prototype.jl=function(){return!1};h.i.yh=function(a){h.i.yh.A.constructor.call(this,a);this.type|=h.i.o.sp;this.gx=!1;this.connection=null;this.ce=this.dl=0};
h.g.object.W(h.i.yh,h.i.Kh);h.i.yh.prototype.Xr=function(a){return!!a.S||!!u(a)};h.i.yh.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.o.sd(f)||(h.i.o.Sg(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.dl=d;this.zd=this.width};h.i.yh.prototype.gp=function(){return!1};h.i.yh.prototype.jl=function(){return!1};
h.i.qn=function(a,c,d){h.i.qn.A.constructor.call(this,a);this.type=this.type|h.i.o.iq|h.i.o.au;this.width=d;this.height=c;this.Iw=!1;this.zd=0;this.elements=[new h.i.tf(this.s,d)]};h.g.object.W(h.i.qn,h.i.Kh);h.i.qn.prototype.measure=function(){};h.i.Yi=function(a){h.i.Yi.A.constructor.call(this,a);this.type|=h.i.o.Gu;this.cw=0};h.g.object.W(h.i.Yi,h.i.Kh);
h.i.Yi.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,h.i.o.Qf(d)&&(h.i.o.ri(d)?a+=d.Wk:h.i.o.Jl(d)&&0!=d.Wk&&(a+=d.Wk-d.Pe)),h.i.o.sd(d)||(this.height=Math.max(this.height,d.height));this.cw=a;this.zd=this.width+a};h.i.Yi.prototype.jl=function(){return!this.Mg&&!this.Qb};h.i.$d=function(a,c){this.Fa=c;this.ob=a;this.s=this.ob.ea();this.S=c.S?new h.i.Zp(this.s,c.S):null;this.Sj=ua(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.rd=c.rd();this.L=c.L;this.mh=this.width=this.rh=this.height=0;this.rows=[];this.qx=[];this.kx=[];this.Jb=new h.i.Ph(this.s);this.rb=new h.i.yh(this.s);this.fp=this.Ud=0};b=h.i.$d.prototype;
b.measure=function(){var a=!!this.Fa.Y,c=(this.Fa.We?"cap"===this.Fa.We:this.s.Hm)&&!this.S&&!a;this.Jb.Xr(this.Fa)?this.Jb.elements.push(new h.i.hj(this.s)):this.Jb.elements.push(new h.i.ln(this.s));c?(a=new h.i.Jp(this.s),this.Jb.elements.push(a),this.Jb.Df=a.pj):a&&(this.Jb.fD=!0,this.Jb.connection=new h.i.cq(this.s,this.Fa.Y),this.Jb.elements.push(this.Jb.connection));this.Fa.T.length&&this.Fa.T[0].type==h.Ha.lc&&!this.Fa.isCollapsed()?this.Jb.minHeight=this.s.hB:this.Jb.minHeight=this.s.gB;this.Jb.elements.push(new h.i.hj(this.s,
"right"));this.rows.push(this.Jb);a=new h.i.Yi(this.s);this.qx.push(a);var d=va(this.Fa);if(d.length){c=0;for(var e;e=d[c];c++){var f=new h.i.Mp(this.s,e);this.isCollapsed&&e.NI?this.kx.push(f):a.elements.push(f)}}e=null;for(c=0;d=this.Fa.T[c];c++)if(d.isVisible()){!e||d.type!=h.Ha.lc&&e.type!=h.Ha.lc&&(d.type!=h.Ha.Je&&d.type!=h.Ha.Ce||this.Sj)||(this.rows.push(a),a=new h.i.Yi(this.s),this.qx.push(a));for(e=0;f=d.eb[e];e++)a.elements.push(new h.i.Ad(this.s,f,d));this.Lv(d,a);e=d}this.isCollapsed&&
(a.ex=!0,a.elements.push(new h.i.Np(this.s)));(a.elements.length||a.Nj)&&this.rows.push(a);this.bt();this.rows.push(this.rb);this.Kv();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)if(this.rows.push(a[c]),c!=a.length-1){d=this.rows;e=d.push;f=a[c];var g=a[c+1],k=new h.i.qn(this.s,this.Xw(f,g),this.width-this.Ud);f.Qb&&(k.Iw=!0);g.Qb&&(k.AJ=!0);e.call(d,k)}for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Qb&&(a=Math.max(a,f.width-P(f).width)),d=Math.max(d,f.zd);this.mh=a;this.width=
c;for(e=0;f=this.rows[e];e++)f.Qb&&(f.mh=this.mh);this.rh=Math.max(c,d);this.S&&(this.Ud=this.S.width,this.width+=this.S.width,this.rh+=this.S.width);this.zq();this.Ew()};
b.bt=function(){this.rb.gx=!!this.Fa.Z;this.rb.minHeight=this.Fa.T.length&&this.Fa.T[this.Fa.T.length-1].type==h.Ha.lc?this.s.jz:this.s.kz;this.rb.Xr(this.Fa)?this.rb.elements.push(new h.i.hj(this.s)):this.rb.elements.push(new h.i.ln(this.s));this.rb.gx&&(this.rb.connection=new h.i.Yp(this.s,this.Fa.Z),this.rb.elements.push(this.rb.connection));this.rb.elements.push(new h.i.hj(this.s,"right"))};
b.Lv=function(a,c){this.Sj&&a.type==h.Ha.Je?(c.elements.push(new h.i.jg(this.s,a)),c.Wr=!0):a.type==h.Ha.lc?(c.elements.push(new h.i.tg(this.s,a)),c.Qb=!0):a.type==h.Ha.Je?(c.elements.push(new h.i.Wm(this.s,a)),c.Mg=!0):a.type==h.Ha.Ce&&(c.minHeight=Math.max(c.minHeight,a.ga()&&a.ga().Qa?this.s.Ez:this.s.su),c.Nj=!0);null==c.align&&(c.align=a.align)};
b.Kv=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.gp()&&c.elements.push(new h.i.tf(this.s,this.bi(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new h.i.tf(this.s,this.bi(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.jl()&&c.elements.push(new h.i.tf(this.s,this.bi(d[d.length-1],null)))}}};
b.bi=function(a,c){if(!a&&c&&h.i.o.ri(c))return this.s.qv;if(a&&h.i.o.Qf(a)&&!c){if(h.i.o.Jl(a))return this.s.Fe;if(h.i.o.Qg(a))return this.s.Cc;if(h.i.o.ri(a))return this.s.Fe}return a&&h.i.o.Kl(a)&&c&&(h.i.o.Vj(c)||h.i.o.Sg(c))?c.Qd:a&&h.i.o.Rg(a)&&c&&(h.i.o.Vj(c)||h.i.o.Sg(c))?c.Qd-this.s.pb:this.s.Cd};b.zq=function(){for(var a=0,c;c=this.rows[a];a++)if(c.Qb)hd(this,c);else{var d=this.xl(c)-c.width;0<d&&id(c,d);h.i.o.xx(c)&&(c.zd=c.width)}};b.xl=function(){return this.width-this.Ud};
function id(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(h.i.o.sd(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(h.i.o.sd(f)){e=f;break a}e=null}if(a.Mg||a.Qb)a.zd+=c;a.align==h.lb.Wd.Yb?e.width+=c:a.align==h.lb.Wd.Pm?(d.width+=c/2,e.width+=c/2):a.align==h.lb.Wd.jd?d.width+=c:e.width+=c;a.width+=c}
function hd(a,c){var d=P(c),e=c.width-d.width,f=a.mh;e=f-e;0<e&&id(c,e);e=c.width;f=a.xl(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.zd=Math.max(c.width,a.mh+c.cw)}b.Xw=function(){return this.s.Cd};b.Nw=function(a,c){return h.i.o.sd(c)?a.Kb+c.height/2:h.i.o.no(a)?(a=a.Kb+a.height-a.dl,h.i.o.Sg(c)?a+c.height/2:a-c.height/2):h.i.o.vo(a)?h.i.o.pi(c)?a.Df-c.height/2:a.Df+c.height/2:a.Kb+a.height/2};
function jd(a,c){for(var d=c.sa,e=0,f;f=c.elements[e];e++)h.i.o.sd(f)&&(f.height=c.height),f.sa=d,f.Ag=a.Nw(c,f),d+=f.width}b.Ew=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.Kb=c,e.sa=this.Ud,c+=e.height,a=Math.max(a,e.zd),jd(this,e);this.S&&this.Fa.Z&&this.Fa.Z.isConnected()&&(a=Math.max(a,z(this.Fa.Z.va()).width));this.rh=a+this.Ud;this.height=c;this.fp=this.Jb.Df;this.rb.ce=c-this.rb.dl};h.i.Pc=function(a){this.je=[];this.jf=null;this.s=a};h.i.Pc.Ne={EE:!0,wC:!0,rows:!0,xC:!0,fw:!0,FB:!0,bw:!0,Ja:!0};
function kd(a,c,d){if(h.i.Pc.Ne.xC){var e=c.sa;d&&(e=-(e+c.width));d=c.Ag-c.height/2;a.je.push(h.g.j.J(h.g.D.Mb,{"class":"rowRenderingRect blockRenderDebug",x:e,y:d,width:c.width,height:c.height,stroke:"black",fill:"none","stroke-width":"1px"},a.jf));h.i.o.$e(c)&&c.Gj instanceof h.ed&&a.je.push(h.g.j.J(h.g.D.Mb,{"class":"rowRenderingRect blockRenderDebug",x:e,y:d+a.s.Dp,width:c.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},a.jf))}h.i.o.Qf(c)&&h.i.Pc.Ne.fw&&ld(a,c.nc)}
function ld(a,c){if(h.i.Pc.Ne.fw){if(c.type==h.X.Sb){var d=4;var e="magenta";var f="none"}else c.type==h.X.fd?(d=2,f=e="magenta"):c.type==h.X.Tb?(d=4,e="goldenrod",f="none"):c.type==h.X.hd&&(d=2,f=e="goldenrod");a.je.push(h.g.j.J(h.g.D.fu,{"class":"blockRenderDebug",cx:c.Uf.x,cy:c.Uf.y,r:d,fill:f,stroke:e},a.jf))}}
function md(a,c,d){for(var e=0,f;f=a.je[e];e++)h.g.j.removeNode(f);a.je=[];a.jf=c.ra();a.fE="#"+Math.floor(16777215*Math.random()).toString(16);f=e=0;for(var g;g=d.rows[f];f++){if(h.i.o.pD(g)){var k=e;if(h.i.Pc.Ne.EE){var l=Math.abs(g.height),m=0>g.height;m&&(k-=l);a.je.push(h.g.j.J(h.g.D.Mb,{"class":"rowSpacerRect blockRenderDebug",x:d.L?-(g.sa+g.width):g.sa,y:k,width:g.width,height:l,stroke:m?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},a.jf))}}else{m=a;l=g;k=d.L;for(var n=
0,p=l.elements.length;n<p;n++){var q=l.elements[n];if(q)if(h.i.o.sd(q)){if(h.i.Pc.Ne.wC){var t=Math.abs(q.width),I=0>q.width,L=I?q.sa-t:q.sa;k&&(L=-(L+t));m.je.push(h.g.j.J(h.g.D.Mb,{"class":"elemSpacerRect blockRenderDebug",x:L,y:q.Ag-q.height/2,width:t,height:q.height,stroke:"pink",fill:I?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},m.jf))}}else kd(m,q,k);else console.warn("A row has an undefined or null element.",l,q)}h.i.Pc.Ne.rows&&(m.je.push(h.g.j.J(h.g.D.Mb,{"class":"elemRenderingRect blockRenderDebug",
x:k?-(l.sa+l.width):l.sa,y:l.Kb,width:l.width,height:l.height,stroke:"red",fill:"none","stroke-width":"1px"},m.jf)),h.i.o.xx(l)||h.i.Pc.Ne.bw&&m.je.push(h.g.j.J(h.g.D.Mb,{"class":"connectedBlockWidth blockRenderDebug",x:k?-(l.sa+l.zd):l.sa,y:l.Kb,width:l.zd,height:l.height,stroke:m.fE,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},m.jf)))}e+=g.height}c.Y&&ld(a,c.Y);c.Z&&ld(a,c.Z);c.S&&ld(a,c.S);d.DE&&kd(a,d.DE,d.L);h.i.Pc.Ne.FB&&(e=d.L?-d.width:0,a.je.push(h.g.j.J(h.g.D.Mb,{"class":"blockBoundingBox blockRenderDebug",
x:e,y:0,width:d.width,height:d.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},a.jf)),h.i.Pc.Ne.bw&&(e=d.L?-d.rh:0,a.je.push(h.g.j.J(h.g.D.Mb,{"class":"blockRenderDebug",x:e,y:0,width:d.rh,height:d.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},a.jf))));nd(a,c.wb.Eb)}function nd(a,c){h.i.Pc.Ne.Ja&&(c.setAttribute("filter","url(#"+a.s.pw+")"),setTimeout(function(){c.setAttribute("filter","")},100))};h.i.zc=function(a,c){this.Fa=a;this.pa=c;a.Xa();this.mo=this.La="";this.s=c.ob.ea()};b=h.i.zc.prototype;b.draw=function(){od(this);pd(this);qd(this);this.Fa.wb.At(this.La+"\n"+this.mo);this.pa.L&&this.Fa.wb.Dr();h.i.Em&&md(this.Fa.st,this.Fa,this.pa);rd(this)};function rd(a){a.Fa.height=a.pa.height;a.Fa.width=a.pa.rh}function od(a){for(var c=0,d;d=a.pa.kx[c];c++)d.icon.iD.setAttribute("display","none")}
function pd(a){a.wr();for(var c=1;c<a.pa.rows.length-1;c++){var d=a.pa.rows[c];d.ex?a.il(d):d.Qb?a.vr(d):d.Mg?a.xr(d):a.Cw(d)}a.pr();a.rr()}
b.wr=function(){var a=this.pa.Jb,c=a.elements,d=this.pa.Jb;if(d.connection){var e=d.sa+d.Qd;G(d.connection.nc,this.pa.L?-e:e,0)}this.La+=h.g.u.moveBy(a.sa,this.pa.fp);for(d=0;e=c[d];d++)h.i.o.Rg(e)?this.La+=this.s.Jk.Ot:h.i.o.vx(e)?this.La+=this.s.Jk.cF:h.i.o.Vj(e)?this.La+=e.shape.eh:h.i.o.pi(e)?this.La+=this.s.fj.path:h.i.o.sd(e)&&(this.La+=h.g.u.$("h",e.width));this.La+=h.g.u.$("v",a.height)};b.il=function(a){this.La+=this.s.Zi.path+h.g.u.$("v",a.height-this.s.Zi.height)};
b.xr=function(a){var c=P(a);this.iy(a);var d="function"==typeof c.shape.Sd?c.shape.Sd(c.height):c.shape.Sd;this.La+=h.g.u.$("H",c.sa+c.width)+d+h.g.u.$("v",a.height-c.xj)};b.vr=function(a){var c=P(a);this.La+=h.g.u.$("H",c.sa+c.Qd+c.shape.width)+(c.shape.Zx+h.g.u.$("h",-(c.Qd-this.s.$m.width))+this.s.$m.Ys)+h.g.u.$("v",a.height-2*this.s.$m.height)+this.s.$m.Vo+h.g.u.$("H",a.sa+a.width);this.ly(a)};b.Cw=function(a){this.La+=h.g.u.$("V",a.Kb+a.height)};
b.pr=function(){var a=this.pa.rb,c=a.elements;this.ky();for(var d=0,e="",f=c.length-1,g;g=c[f];f--)h.i.o.Sg(g)?e+=g.shape.Zx:h.i.o.Kl(g)?e+=h.g.u.$("H",a.sa):h.i.o.Rg(g)?e+=this.s.Jk.Iq:h.i.o.vx(g)?(e+=this.s.Jk.HB,d=this.s.Jk.CE):h.i.o.sd(g)&&(e+=h.g.u.$("h",-1*g.width));this.La+=h.g.u.$("V",a.ce-d);this.La+=e};
b.rr=function(){var a=this.pa.S;if(this.pa.S){var c=this.pa.Ud+this.pa.S.Xk;G(this.Fa.S,this.pa.L?-c:c,this.pa.S.od)}a&&(c=a.od+a.height,a="function"==typeof a.shape.Yl?a.shape.Yl(a.height):a.shape.Yl,this.La+=h.g.u.$("V",c)+a);this.La+="z"};
function qd(a){for(var c=0,d;d=a.pa.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(h.i.o.Qg(f))a.qr(f);else if(h.i.o.Rj(f)||h.i.o.$e(f)){var g=a;if(h.i.o.$e(f))var k=f.Gj.ra();else h.i.o.Rj(f)&&(k=f.icon.iD);var l=f.Ag-f.height/2,m=f.sa,n="";g.pa.L&&(m=-(m+f.width),f.ol&&(m+=f.width,n="scale(-1 1)"));h.i.o.Rj(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),f.icon.YB()):k.setAttribute("transform","translate("+m+","+l+")"+n);g.pa.rd&&k.setAttribute("display",
"none")}}b.qr=function(a){var c=a.width,d=a.height,e=a.od,f=a.xj+e;this.mo+=h.g.u.moveTo(a.sa+a.Pe,a.Ag-d/2)+h.g.u.$("v",e)+a.shape.Sd+h.g.u.$("v",d-f)+h.g.u.$("h",c-a.Pe)+h.g.u.$("v",-d)+"z";this.jy(a)};b.jy=function(a){var c=a.Ag-a.height/2;if(a.nc){var d=a.sa+a.Pe+a.Xk;this.pa.L&&(d*=-1);G(a.nc,d,c+a.od)}};b.ly=function(a){var c=P(a);if(c.nc){var d=a.sa+a.mh+c.Qd;this.pa.L&&(d*=-1);G(c.nc,d,a.Kb)}};b.iy=function(a){var c=P(a);if(c.nc){var d=a.sa+a.width;this.pa.L&&(d*=-1);G(c.nc,d,a.Kb)}};
b.ky=function(){var a=this.pa.rb;if(a.connection){var c=a.connection,d=c.sa;G(c.nc,this.pa.L?-d:d,a.ce)}};h.h.kg=function(a,c,d,e){var f=a?a.B.id:void 0;e&&e.vb()==h.F.types.Sc&&(f=e.Da.id);h.h.kg.A.constructor.call(this,f);this.fb=a?a.id:null;this.Rx=d;this.Nx=e;this.Ze=c};h.g.object.W(h.h.kg,h.h.ae);h.h.kg.prototype.type=h.h.Sp;h.h.kg.prototype.qa=function(){var a=h.h.kg.A.qa.call(this);a.isCursor=this.Ze;a.blockId=this.fb;a.oldNode=this.Rx;a.newNode=this.Nx;return a};h.h.kg.prototype.ba=function(a){h.h.kg.A.ba.call(this,a);this.Ze=a.isCursor;this.fb=a.blockId;this.Rx=a.oldNode;this.Nx=a.newNode};
h.v.register(h.v.R.Fb,h.h.Sp,h.h.kg);h.i.lg=function(a,c,d){this.m=a;this.Bs=d;this.Xl=null;this.s=c;this.zj=null;a=this.Ze()?this.s.Tm:this.s.cn;this.Gd=d.sb||a};h.i.lg.sz="blocklyCursor";h.i.lg.wA="blocklyMarker";h.i.lg.eA=.75;b=h.i.lg.prototype;b.ra=function(){return this.O};b.zl=function(){return this.Bs};b.Ze=function(){return"cursor"==this.Bs.type};
b.Ua=function(){var a=this.Ze()?h.i.lg.sz:h.i.lg.wA;this.O=h.g.j.J(h.g.D.Qc,{"class":a},null);this.Tf=h.g.j.J(h.g.D.Qc,{width:this.s.Vm,height:this.s.Cv},this.O);this.Wg=h.g.j.J(h.g.D.Mb,{width:this.s.Vm,height:this.s.Cv,style:"display: none"},this.Tf);this.xi=h.g.j.J(h.g.D.Mb,{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.Tf);this.wi=h.g.j.J(h.g.D.Ge,{transform:"",style:"display: none"},this.Tf);this.Sf=h.g.j.J(h.g.D.Ge,{transform:"",style:"display: none",fill:"none","stroke-width":this.s.uz},
this.Tf);this.Ze()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.Gd+";transparent;transparent;",repeatCount:"indefinite"},h.g.j.J(h.g.D.pp,a,this.Wg),h.g.j.J(h.g.D.pp,a,this.wi),a.attributeName="stroke",h.g.j.J(h.g.D.pp,a,this.Sf));return this.O};function sd(a,c){a.Ze()?(a.Xl&&a.Xl.Wf(null),c.Wf(a.ra())):(a.Xl&&a.Xl.kh(null),c.kh(a.ra()));a.Xl=c}
b.draw=function(a,c){if(c){this.s=this.m.ob.ea();var d=this.Ze()?this.s.Tm:this.s.cn;this.Gd=this.Bs.sb||d;this.Wg.setAttribute("fill",this.Gd);this.xi.setAttribute("stroke",this.Gd);this.wi.setAttribute("fill",this.Gd);this.Sf.setAttribute("stroke",this.Gd);this.Ze()&&(d=this.Gd+";transparent;transparent;",this.Wg.firstChild.setAttribute("values",d),this.wi.firstChild.setAttribute("values",d),this.Sf.firstChild.setAttribute("values",d));d=c.Da.type;if(c.vb()==h.F.types.Rb)td(this,c);else if(c.vb()==
h.F.types.Jh)td(this,c);else if(d==h.X.Sb){var e=c.Da;d=e.ga();var f=e.Uf.x,g=e.Uf.y;e=h.g.u.moveTo(0,0)+ta(this.s,e).Sd;this.wi.setAttribute("d",e);this.wi.setAttribute("transform","translate("+f+","+g+")"+(this.m.L?" scale(-1 1)":""));this.zj=this.wi;sd(this,d);ud(this)}else if(d==h.X.Tb)g=c.Da,d=g.ga(),f=0,g=g.Uf.y,e=z(d).width,this.m.L&&(f=-e),vd(this,f,g,e),sd(this,d),ud(this);else if(c.vb()==h.F.types.qg)td(this,c);else if(c.vb()==h.F.types.Ac)d=c.Da,f=d.Mf().width,g=d.Mf().height,wd(this,0,
0,f,g),sd(this,d),ud(this);else if(c.vb()==h.F.types.Sc)f=c.$y,d=f.x,f=f.y,this.m.L&&(d-=this.s.Vm),vd(this,d,f,this.s.Vm),sd(this,this.m),ud(this);else if(c.vb()==h.F.types.Mh){d=c.Da;g=z(d);f=g.width+this.s.Um;g=g.height+this.s.Um;var k=e=-this.s.Um/2,l=-this.s.Um/2;this.m.L&&(k=-(f+e));wd(this,k,l,f,g);sd(this,d);ud(this)}d=c.ga();a=new (h.h.get(h.h.Sp))(d,this.Ze(),a,c);h.h.Ga(a);a=this.zj.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.Ya()};
function td(a,c){c=c.ga();var d=c.width,e=c.height,f=e*h.i.lg.eA,g=a.s.rz;if(c.Y){var k=ta(a.s,c.Y);e=k;d=h.g.u.moveBy(-g,f)+h.g.u.$("V",-g)+h.g.u.$("H",a.s.Ik)+e.eh+h.g.u.$("H",d+2*g)+h.g.u.$("V",f);a.Sf.setAttribute("d",d)}else c.S?(f=k=ta(a.s,c.S),d=h.g.u.moveBy(d,0)+h.g.u.$("h",-(d-f.width))+h.g.u.$("v",a.s.ij)+f.Sd+h.g.u.$("V",e)+h.g.u.$("H",d),a.Sf.setAttribute("d",d)):(d=h.g.u.moveBy(-g,f)+h.g.u.$("V",-g)+h.g.u.$("H",d+2*g)+h.g.u.$("V",f),a.Sf.setAttribute("d",d));a.m.L&&a.ql(a.Sf);a.zj=a.Sf;
sd(a,c);ud(a)}function ud(a){a.Ya();a.zj.style.display=""}function vd(a,c,d,e){a.Wg.setAttribute("x",c);a.Wg.setAttribute("y",d);a.Wg.setAttribute("width",e);a.zj=a.Wg}function wd(a,c,d,e,f){a.xi.setAttribute("x",c);a.xi.setAttribute("y",d);a.xi.setAttribute("width",e);a.xi.setAttribute("height",f);a.zj=a.xi}b.ql=function(a){a.setAttribute("transform","scale(-1 1)")};b.Ya=function(){this.Wg.style.display="none";this.xi.style.display="none";this.wi.style.display="none";this.Sf.style.display="none"};
b.I=function(){this.O&&h.g.j.removeNode(this.O)};h.i.uf=function(a,c,d){this.lb=d;this.hf=a;this.Eb=h.g.j.J(h.g.D.Ge,{"class":"blocklyPath"},this.hf);this.style=c;this.As=this.cl=null};b=h.i.uf.prototype;b.At=function(a){this.Eb.setAttribute("d",a)};b.Dr=function(){this.Eb.setAttribute("transform","scale(-1 1)")};b.Wf=function(a){a?(this.hf.appendChild(a),this.cl=a):this.cl=null};b.kh=function(a){a?(this.cl?this.hf.insertBefore(a,this.cl):this.hf.appendChild(a),this.As=a):this.As=null};
b.dc=function(a){this.Eb.setAttribute("stroke",this.style.wj);this.Eb.setAttribute("fill",this.style.Sh);this.Oy(a.Qa);this.Rt(!a.isEnabled()||ac(a))};b.Ii=function(a){this.style=a};function sa(a,c,d){d?h.g.j.Nb(a.hf,c):h.g.j.cd(a.hf,c)}b.My=function(a){a?this.Eb.setAttribute("filter","url(#"+this.lb.Yn+")"):this.Eb.setAttribute("filter","none")};b.Oy=function(a){a&&(this.Eb.setAttribute("stroke","none"),this.Eb.setAttribute("fill",this.style.In))};
b.Rt=function(a){sa(this,"blocklyDisabled",a);a&&this.Eb.setAttribute("fill","url(#"+this.lb.yw+")")};h.AG=function(){};h.i.vf=function(a){this.name=a;this.Vs=this.s=null};b=h.i.vf.prototype;b.ke=function(){return this.name+"-renderer"};b.za=function(a,c){this.s=this.vs();c&&(this.Vs=c,h.g.object.Xg(this.s,c));this.s.lm(a);this.s.za()};b.Ua=function(a,c){this.s.Ua(a,this.name+"-"+c.name,"."+this.ke()+"."+c.ke())};b.ft=function(a,c){var d=this.ea();d.I();this.s=this.vs();this.Vs&&h.g.object.Xg(this.s,this.Vs);this.s.cm=d.cm;this.s.lm(c);this.s.za();this.Ua(a,c)};b.I=function(){this.s&&this.s.I()};b.vs=function(){return new h.i.sf};
b.Ex=function(a){return new h.i.$d(this,a)};b.Cx=function(a,c){return new h.i.zc(a,c)};b.Dx=function(a,c){return new h.i.uf(a,c,this.s)};b.ea=function(){return this.s};b.Ja=function(a){if(h.i.Em&&!a.st){if(!h.i.Pc)throw Error("Missing require for Blockly.blockRendering.Debug");var c=new h.i.Pc(this.ea());a.st=c}c=this.Ex(a);c.measure();this.Cx(a,c).draw()};h.ca={};h.ca.sf=function(){h.ca.sf.A.constructor.call(this);this.Ep=!1;this.$b=1;this.xA=30;this.ov=-this.Xp/2};h.g.object.W(h.ca.sf,h.i.sf);h.ca.sf.prototype.Hr=function(a){return h.ca.sf.A.Hr.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.Zm+";","stroke: none;","}"])};h.ca.Cu=function(a){this.pa=a;this.Gl=this.la="";this.ac=this.pa.L;a=a.ob;this.s=a.ea();this.pd=a.pd;this.Xc=this.pd.OFFSET;this.Us=this.pd.IA;this.Qj=this.pd.nA;this.bm=this.pd.bq;this.PD=this.pd.aj;this.TE=this.pd.fj;this.yx=this.pd.Zi};h.ca.Cu.prototype.il=function(a){this.pa.L&&(this.la+=this.yx.eh+h.g.u.$("v",a.height-this.yx.height-this.Xc))};
function xd(a,c){var d=c.sa+c.width-a.Xc;c.Iw&&(a.la+=h.g.u.$("H",d));a.ac&&(a.la+=h.g.u.$("H",d),c.height>a.Xc&&(a.la+=h.g.u.$("V",c.Kb+c.height-a.Xc)))};h.ca.jg=function(a,c){h.ca.jg.A.constructor.call(this,a,c);this.Bg&&(this.width+=this.s.$b,this.height+=this.s.$b)};h.g.object.W(h.ca.jg,h.i.jg);h.ca.tg=function(a,c){h.ca.tg.A.constructor.call(this,a,c);this.Bg&&(this.height+=this.s.$b)};h.g.object.W(h.ca.tg,h.i.tg);h.ca.$d=function(a,c){h.ca.$d.A.constructor.call(this,a,c)};h.g.object.W(h.ca.$d,h.i.$d);b=h.ca.$d.prototype;b.bt=function(){h.ca.$d.A.bt.call(this);this.Fa.T.length&&this.Fa.T[this.Fa.T.length-1].type==h.Ha.lc||(this.rb.minHeight=this.s.Cd-this.s.$b)};
b.Lv=function(a,c){this.Sj&&a.type==h.Ha.Je?(c.elements.push(new h.ca.jg(this.s,a)),c.Wr=!0):a.type==h.Ha.lc?(c.elements.push(new h.ca.tg(this.s,a)),c.Qb=!0):a.type==h.Ha.Je?(c.elements.push(new h.i.Wm(this.s,a)),c.Mg=!0):a.type==h.Ha.Ce&&(c.minHeight=Math.max(c.minHeight,this.s.su),c.Nj=!0);this.Sj||null!=c.align||(c.align=a.align)};
b.Kv=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.Mg&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.gp()&&d.elements.push(new h.i.tf(this.s,this.bi(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var g=this.bi(e[f],e[f+1]);d.elements.push(new h.i.tf(this.s,g))}d.elements.push(e[e.length-1]);d.jl()&&(g=this.bi(e[e.length-1],null),a&&d.Nj&&(g+=this.s.rn),d.elements.push(new h.i.tf(this.s,g)))}}};
b.bi=function(a,c){if(!a)return c&&h.i.o.$e(c)&&c.Nd?this.s.Cd:c&&h.i.o.Qg(c)?this.s.Ru:c&&h.i.o.ri(c)?this.s.qv:this.s.Cc;if(!h.i.o.Qf(a)&&(!c||h.i.o.ri(c)))return h.i.o.$e(a)&&a.Nd?this.s.Cd:h.i.o.Rj(a)?2*this.s.Cc+1:h.i.o.pi(a)?this.s.Fe:h.i.o.vD(a)?this.s.Cc:h.i.o.Rg(a)?this.s.AA:h.i.o.tx(a)?this.s.Fe:this.s.Cc;if(h.i.o.Qf(a)&&!c){if(h.i.o.Jl(a))return this.s.Fe;if(h.i.o.Qg(a))return this.s.Cc;if(h.i.o.ri(a))return this.s.Fe}if(!h.i.o.Qf(a)&&c&&h.i.o.Qf(c)){if(h.i.o.$e(a)&&a.Nd){if(h.i.o.Qg(c)||
h.i.o.Jl(c))return this.s.YA}else{if(h.i.o.Qg(c)||h.i.o.Jl(c))return this.s.Ru;if(h.i.o.ri(c))return this.s.Cc}return this.s.Cc-1}if(h.i.o.Rj(a)&&c&&!h.i.o.Qf(c))return this.s.Cc;if(h.i.o.Qg(a)&&c&&h.i.o.$e(c))return c.Nd?this.s.Cd:this.s.Cc;if(h.i.o.Kl(a)&&c){if(h.i.o.pi(c))return this.s.Fe;if(h.i.o.Vj(c))return c.Qd;if(h.i.o.Sg(c))return a=(this.L?1:-1)*this.s.$b/2,c.Qd+a}if(h.i.o.Rg(a)&&c){if(h.i.o.Vj(c))return c.Qd-this.s.pb;if(h.i.o.Sg(c))return a=(this.L?1:-1)*this.s.$b/2,c.Qd-this.s.pb+a}return h.i.o.$e(a)&&
c&&h.i.o.$e(c)&&a.Nd==c.Nd||c&&h.i.o.tx(c)?this.s.Cc:this.s.Cd};b.Xw=function(a,c){return h.i.o.vo(a)&&h.i.o.no(c)?this.s.Fz:h.i.o.vo(a)||h.i.o.no(c)?this.s.Fe:a.Mg&&c.Mg?this.s.Cc:!a.Qb&&c.Qb?this.s.iz:a.Qb&&c.Qb||!a.Qb&&c.Nj||a.Nj?this.s.Cc:this.s.Cd};
b.Nw=function(a,c){if(h.i.o.sd(c))return a.Kb+c.height/2;if(h.i.o.no(a))return a=a.Kb+a.height-a.dl,h.i.o.Sg(c)?a+c.height/2:a-c.height/2;if(h.i.o.vo(a))return h.i.o.pi(c)?a.Df-c.height/2:a.Df+c.height/2;var d=a.Kb;h.i.o.$e(c)||h.i.o.Rj(c)?(d+=c.height/2,(a.Wr||a.Qb)&&c.height+this.s.rv<=a.height&&(d+=this.s.rv)):d=h.i.o.Qg(c)?d+c.height/2:d+a.height/2;return d};
b.zq=function(){if(this.Sj){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.Is=a,h.i.o.qD(e)&&(e.Qb&&hd(this,e),c&&c.Qb&&e.width<c.width?e.Is=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.Qb?a=this.xl(e):h.i.o.sd(e)?e.width=Math.max(a,e.Is):(a=Math.max(a,e.Is)-e.width,0<a&&id(e,a),a=e.width)}else h.ca.$d.A.zq.call(this)};b.xl=function(a){return this.Sj&&a.Qb?this.mh+this.s.xA+this.Ud:h.ca.$d.A.xl.call(this,a)};
b.Ew=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.Kb=c;e.sa=this.Ud;c+=e.height;a=Math.max(a,e.zd);var f=c-this.Jb.pj;e==this.rb&&f<this.s.Fk&&(f=this.s.Fk-f,this.rb.height+=f,c+=f);jd(this,e)}this.S&&this.Fa.Z&&this.Fa.Z.isConnected()&&(a=Math.max(a,z(this.Fa.Z.va()).width-this.s.$b));this.rb.ce=c-this.rb.dl;this.rh=a+this.Ud+this.s.$b;this.width+=this.s.$b;this.height=c+this.s.$b;this.fp=this.Jb.Df};h.ca.zc=function(a,c){h.ca.zc.A.constructor.call(this,a,c);this.Ye=new h.ca.Cu(c)};h.g.object.W(h.ca.zc,h.i.zc);b=h.ca.zc.prototype;b.draw=function(){od(this);pd(this);qd(this);var a=this.Fa.wb;a.At(this.La+"\n"+this.mo);var c=this.Ye;a.Ji.setAttribute("d",c.la+"\n"+c.Gl);this.pa.L&&a.Dr();h.i.Em&&md(this.Fa.st,this.Fa,this.pa);rd(this)};
b.wr=function(){var a=this.Ye,c=this.pa.Jb;a.la+=h.g.u.moveBy(c.sa,a.pa.fp);for(var d=0,e;e=c.elements[d];d++)h.i.o.Kl(e)?a.la+=a.pd.nv:h.i.o.Rg(e)?a.la+=a.Us.Ot(a.ac):h.i.o.Vj(e)?a.la+=a.PD.eh:h.i.o.pi(e)?a.la+=a.TE.path(a.ac):h.i.o.sd(e)&&0!=e.width&&(a.la+=h.g.u.$("H",e.sa+e.width-a.Xc));a.la+=h.g.u.$("H",c.sa+c.width-a.Xc);xd(this.Ye,this.pa.Jb);h.ca.zc.A.wr.call(this)};b.il=function(a){this.Ye.il(a);h.ca.zc.A.il.call(this,a)};
b.xr=function(a){var c=this.Ye,d=P(a);if(c.ac){var e=a.height-d.xj;c.la+=h.g.u.moveTo(d.sa+d.width-c.Xc,a.Kb)+c.bm.Sd(c.ac)+h.g.u.$("v",e)}else c.la+=h.g.u.moveTo(d.sa+d.width,a.Kb)+c.bm.Sd(c.ac);h.ca.zc.A.xr.call(this,a)};
b.vr=function(a){var c=this.Ye,d=P(a);if(c.ac){var e=a.height-2*c.Qj.height;c.la+=h.g.u.moveTo(d.sa,a.Kb)+c.Qj.Ys(c.ac)+h.g.u.$("v",e)+c.Qj.Vo(c.ac)+h.g.u.lineTo(a.width-d.sa-c.Qj.width,0)}else c.la+=h.g.u.moveTo(d.sa,a.Kb+a.height)+c.Qj.Vo(c.ac)+h.g.u.lineTo(a.width-d.sa-c.Qj.width,0);h.ca.zc.A.vr.call(this,a)};b.Cw=function(a){xd(this.Ye,a);this.La+=h.g.u.$("H",a.sa+a.width)+h.g.u.$("V",a.Kb+a.height)};
b.pr=function(){var a=this.Ye,c=this.pa.rb;if(a.ac)a.la+=h.g.u.$("V",c.ce-a.Xc);else{var d=a.pa.rb.elements[0];h.i.o.Kl(d)?a.la+=h.g.u.moveTo(c.sa+a.Xc,c.ce-a.Xc):h.i.o.Rg(d)&&(a.la+=h.g.u.moveTo(c.sa,c.ce),a.la+=a.Us.Iq())}h.ca.zc.A.pr.call(this)};
b.rr=function(){var a=this.Ye,c=a.pa.S;c&&(c=c.od+c.height,a.ac?a.la+=h.g.u.moveTo(a.pa.Ud,c):(a.la+=h.g.u.moveTo(a.pa.Ud+a.Xc,a.pa.rb.ce-a.Xc),a.la+=h.g.u.$("V",c)),a.la+=a.bm.Yl(a.ac));a.ac||(c=a.pa.Jb,a.la=h.i.o.Rg(c.elements[0])?a.la+h.g.u.$("V",a.Us.height):a.la+h.g.u.$("V",c.Df+a.Xc));h.ca.zc.A.rr.call(this)};
b.qr=function(a){var c=this.Ye,d=c.Xc,e=a.sa+a.Pe,f=a.Ag-a.height/2,g=a.width-a.Pe,k=f+d;if(c.ac){f=a.od-d;var l=a.height-(a.od+a.xj)+d;c.Gl+=h.g.u.moveTo(e-d,k)+h.g.u.$("v",f)+c.bm.Sd(c.ac)+h.g.u.$("v",l)+h.g.u.$("h",g)}else c.Gl+=h.g.u.moveTo(a.sa+a.width+d,k)+h.g.u.$("v",a.height)+h.g.u.$("h",-g)+h.g.u.moveTo(e,f+a.od)+c.bm.Sd(c.ac);h.ca.zc.A.qr.call(this,a)};b.jy=function(a){var c=a.Ag-a.height/2;if(a.nc){var d=a.sa+a.Pe+this.s.$b;this.pa.L&&(d*=-1);G(a.nc,d,c+a.od+this.s.$b)}};
b.ly=function(a){var c=P(a);if(c.nc){var d=a.sa+a.mh+c.Qd;d=this.pa.L?-1*d:d+this.s.$b;G(c.nc,d,a.Kb+this.s.$b)}};b.iy=function(a){var c=P(a);if(c.nc){var d=a.sa+a.width+this.s.$b;this.pa.L&&(d*=-1);G(c.nc,d,a.Kb)}};b.ky=function(){var a=this.pa.rb;if(a.connection){var c=a.connection,d=c.sa;G(c.nc,(this.pa.L?-d:d)+this.s.$b/2,a.ce+this.s.$b)}};h.ca.Bu=function(a){this.yj=a;this.OFFSET=.5;this.nv=h.g.u.moveBy(this.OFFSET,this.OFFSET)};b=h.ca.Bu.prototype;b.za=function(){this.nA=yd(this);this.IA=zd(this);this.bq=this.ys();this.aj=this.xs();this.Zi=this.ws();this.fj=this.zs()};
function yd(a){var c=a.yj.pb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c+a)-a,e=h.g.u.moveBy(d,d)+h.g.u.arc("a","0 0,0",c,h.g.u.Ia(-d-a,c-d)),f=h.g.u.arc("a","0 0,0",c+a,h.g.u.Ia(c+a,c+a)),g=h.g.u.moveBy(d,-d)+h.g.u.arc("a","0 0,0",c+a,h.g.u.Ia(c-d,d+a));return{width:c+a,height:c,Ys:function(k){return k?e:""},Vo:function(k){return k?f:g}}}
function zd(a){var c=a.yj.pb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c-a)+a,e=h.g.u.moveBy(d,d)+h.g.u.arc("a","0 0,1",c-a,h.g.u.Ia(c-d,-d+a)),f=h.g.u.moveBy(a,c)+h.g.u.arc("a","0 0,1",c-a,h.g.u.Ia(c,-c+a)),g=-d,k=h.g.u.moveBy(d,g)+h.g.u.arc("a","0 0,1",c-a,h.g.u.Ia(-d+a,-g-c));return{height:c,Ot:function(l){return l?e:f},Iq:function(){return k}}}
b.ys=function(){var a=this.yj.rn,c=this.yj.Mk,d=h.g.u.moveBy(-2,-c+3.4)+h.g.u.lineTo(-.45*a,-2.1),e=h.g.u.$("v",2.5)+h.g.u.moveBy(.97*-a,2.5)+h.g.u.curve("q",[h.g.u.Ia(.05*-a,10),h.g.u.Ia(.3*a,9.5)])+h.g.u.moveBy(.67*a,-1.9)+h.g.u.$("v",2.5),f=h.g.u.$("v",-1.5)+h.g.u.moveBy(-.92*a,-.5)+h.g.u.curve("q",[h.g.u.Ia(-.19*a,-5.5),h.g.u.Ia(0,-11)])+h.g.u.moveBy(.92*a,1),g=h.g.u.moveBy(-5,c-.7)+h.g.u.lineTo(.46*a,-2.1);return{width:a,height:c,Yl:function(k){return k?d:f},Sd:function(k){return k?e:g}}};
b.xs=function(){return{eh:h.g.u.$("h",this.OFFSET)+this.yj.aj.eh}};b.ws=function(){return{eh:h.g.u.lineTo(5.1,2.6)+h.g.u.moveBy(-10.2,6.8)+h.g.u.lineTo(5.1,2.6),height:12,width:10.2}};b.zs=function(){var a=this.yj.fj.height,c=h.g.u.moveBy(25,-8.7)+h.g.u.curve("c",[h.g.u.Ia(29.7,-6.2),h.g.u.Ia(57.2,-.5),h.g.u.Ia(75,8.7)]),d=h.g.u.curve("c",[h.g.u.Ia(17.8,-9.2),h.g.u.Ia(45.3,-14.9),h.g.u.Ia(75,-8.7)])+h.g.u.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};h.ca.uf=function(a,c,d){this.lb=d;this.hf=a;this.vm=h.g.j.J(h.g.D.Ge,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.hf);this.Eb=h.g.j.J(h.g.D.Ge,{"class":"blocklyPath"},this.hf);this.Ji=h.g.j.J(h.g.D.Ge,{"class":"blocklyPathLight"},this.hf);this.Tq="#000000";this.style=c};h.g.object.W(h.ca.uf,h.i.uf);b=h.ca.uf.prototype;b.At=function(a){this.Eb.setAttribute("d",a);this.vm.setAttribute("d",a)};
b.Dr=function(){this.Eb.setAttribute("transform","scale(-1 1)");this.Ji.setAttribute("transform","scale(-1 1)");this.vm.setAttribute("transform","translate(1,1) scale(-1 1)")};b.dc=function(a){this.Ji.style.display="";this.vm.style.display="";this.Ji.setAttribute("stroke",this.style.wj);this.vm.setAttribute("fill",this.Tq);h.ca.uf.A.dc.call(this,a);this.Eb.setAttribute("stroke","none")};b.Ii=function(a){this.style=a;this.Tq=h.g.sb.Fq("#000",this.style.Sh,.2)||this.Tq};
b.My=function(a){a?(this.Eb.setAttribute("filter","url(#"+this.lb.Yn+")"),this.Ji.style.display="none"):(this.Eb.setAttribute("filter","none"),this.Ji.style.display="inline")};b.Oy=function(a){a&&(this.Ji.style.display="none",this.vm.setAttribute("fill",this.style.In),this.Eb.setAttribute("stroke","none"),this.Eb.setAttribute("fill",this.style.In))};b.Rt=function(a){h.ca.uf.A.Rt.call(this,a);a&&this.Eb.setAttribute("stroke","none")};h.ca.vf=function(a){h.ca.vf.A.constructor.call(this,a);this.pd=null};h.g.object.W(h.ca.vf,h.i.vf);b=h.ca.vf.prototype;b.za=function(a,c){h.ca.vf.A.za.call(this,a,c);this.pd=new h.ca.Bu(this.ea());this.pd.za()};b.ft=function(a,c){h.ca.vf.A.ft.call(this,a,c);this.pd.za()};b.vs=function(){return new h.ca.sf};b.Ex=function(a){return new h.ca.$d(this,a)};b.Cx=function(a,c){return new h.ca.zc(a,c)};b.Dx=function(a,c){return new h.ca.uf(a,c,this.ea())};h.i.register("geras",h.ca.vf);h.P.ADD_COMMENT="Add Comment";h.P.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";h.P.CLEAN_UP="Clean up Blocks";h.P.COLLAPSE_ALL="Collapse Blocks";h.P.COLLAPSE_BLOCK="Collapse Block";h.P.DELETE_ALL_BLOCKS="Delete all %1 blocks?";h.P.DELETE_BLOCK="Delete Block";h.P.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";h.P.DELETE_X_BLOCKS="Delete %1 Blocks";h.P.DISABLE_BLOCK="Disable Block";
h.P.DUPLICATE_BLOCK="Duplicate";h.P.DUPLICATE_COMMENT="Duplicate Comment";h.P.ENABLE_BLOCK="Enable Block";h.P.EXPAND_ALL="Expand Blocks";h.P.EXPAND_BLOCK="Expand Block";h.P.EXTERNAL_INPUTS="External Inputs";h.P.HELP="Help";h.P.INLINE_INPUTS="Inline Inputs";h.P.NEW_VARIABLE="Create variable...";h.P.NEW_VARIABLE_TITLE="New variable name:";h.P.PROCEDURES_DEFNORETURN_PROCEDURE="do something";h.P.REDO="Redo";h.P.REMOVE_COMMENT="Remove Comment";h.P.RENAME_VARIABLE="Rename variable...";
h.P.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";h.P.UNDO="Undo";h.P.UNNAMED_KEY="unnamed";h.P.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";h.P.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";h.P.WORKSPACE_ARIA_LABEL="Blockly Workspace";h.P.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";h.P.PROCEDURES_DEFRETURN_PROCEDURE=h.P.PROCEDURES_DEFNORETURN_PROCEDURE;var BlocklyStorage={},Ad=null,Bd=null,Cd=null;function Dd(){var a=Ad();Ed("xml="+encodeURIComponent(a),Fd)}var Gd={};
function Ed(a,c){Gd["/storage"]&&Gd["/storage"].abort();Gd["/storage"]=new XMLHttpRequest;Gd["/storage"].onload=function(){200===this.status?c&&c.call(this):Hd(O("Games_httpRequestError")+"\nXHR status: "+this.status);Gd["/storage"]=null};Gd["/storage"].open("POST","/storage");Gd["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");Gd["/storage"].send(a)}
function Fd(){window.location.hash=this.responseText.trim();Hd(O("Games_linkAlert").replace("%1",window.location.href));Cd=Ad()}function Id(){var a=this.responseText.trim();a.length?Bd(a):Hd(O("Games_hashError").replace("%1",window.location.hash));Cd=Ad()}function Hd(a){if("object"===typeof Q){var c=document.getElementById("linkButton");Q.WE(c,a)}else alert(a)};var w=null,Jd="",Kd="";function Ld(){bd();var a=document.getElementById("linkButton");a&&(Zc?a.style.display="none":(Ad=Md,Bd=Nd,fd(a,Dd)));(a=document.getElementById("languageMenu"))&&a.addEventListener("change",Od,!0)}
function Pd(){var a='<xml><block movable="'+(1!=N)+'" type="go_east" x="70" y="70"></block></xml>';if(!Zc&&1<window.location.hash.length)Ed("key="+encodeURIComponent(window.location.hash.substring(1)),Id);else{var c=null;try{c=window.sessionStorage.ts}catch(e){}c&&delete window.sessionStorage.ts;var d=cd(N);(a=c||d||a)&&Nd(a)}}function Nd(a){a=h.K.we(a);w.clear();h.K.Xh(a,w);a=w;a.Mi.length=0;a.dm.length=0;h.h.VB()}
function Md(){var a=h.K.Wy(!0);if(1==w.tb(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return h.K.Jd(a)}function Qd(){"object"==typeof BlocklyStorage&&null!==Cd&&Cd!=Md()&&(window.location.hash="",Cd=null)}function Rd(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;w=h.Og("blockly",a);C(w,Qd)}function Sd(){window.location=(Zc?"index.html":"./")+"?lang="+M}
function Od(){window.sessionStorage&&(window.sessionStorage.ts=Md());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function Td(){10>N?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+M+"&level="+(N+1):Sd()}function Ud(a){if(a){var c=a.match(/^block_id_([^']+)$/);c&&(a=c[1])}Nc(a,void 0)}function Vd(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function Wd(a){if("click"==a.type&&"touchend"==Xd&&Yd+2E3>Date.now()||Xd==a.type&&Yd+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;Xd=a.type;Yd=Date.now();return!1}
var Xd=null,Yd=0;function Zd(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}function $d(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)};var Q={mi:!1,vw:null,Tn:null,nm:function(a,c,d,e,f,g){function k(){Q.mi&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);Q.mi&&Q.Md(!1);h.Ig()&&h.ec(!0);Q.mi=!0;Q.vw=c;Q.Tn=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),Q.$q=h.Qh(e,"mousedown",null,Q.nC));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&c?(Q.Do(c,!1,.2),Q.Do(l,!0,.8),setTimeout(k,175)):k()},ww:0,xw:0,nC:function(a){Q.er();if(!h.g.Ll(a)){var c=document.getElementById("dialog");Q.ww=c.offsetLeft-a.clientX;Q.xw=c.offsetTop-a.clientY;Q.dr=h.Qh(document,"mouseup",null,Q.er);Q.cr=h.Qh(document,"mousemove",null,Q.oC);a.stopPropagation()}},oC:function(a){var c=document.getElementById("dialog"),
d=Q.ww+a.clientX;a=Q.xw+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},er:function(){Q.dr&&(h.kp(Q.dr),Q.dr=null);Q.cr&&(h.kp(Q.cr),Q.cr=null)},Md:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(Q.mi){Q.er();Q.$q&&(h.kp(Q.$q),Q.$q=null);Q.mi=!1;Q.Tn&&Q.Tn();Q.Tn=null;var d=!1===a?
null:Q.vw;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(Q.Do(a,!1,.8),Q.Do(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},Do:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=
g.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),g=Q.Lw(a);c?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},Lw:function(a){var c=h.g.style.ci(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},WE:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");Q.nm(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},Q.Fy);Q.Cy()},Hv:function(){if(!cd(N))if(Q.mi||w.$c())setTimeout(Q.Hv,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",Q.Md,!0);c.addEventListener("touchend",Q.Md,!0);c=document.getElementById("abortOk");c.addEventListener("click",Sd,!0);c.addEventListener("touchend",Sd,
!0);Q.nm(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",Q.Gv,!0)});document.body.addEventListener("keydown",Q.Gv,!0)}},$B:function(){var a=document.getElementById("dialogDone");if(w){var c=document.getElementById("dialogLinesText");c.textContent="";var d=Kd;d=Vd(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");
f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?O("Games_linesOfCode1"):O("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d=10>N?O("Games_nextLevel").replace("%1",String(N+1)):O("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",Q.Md,!0);c.addEventListener("touchend",Q.Md,!0);c=document.getElementById("doneOk");c.addEventListener("click",Td,!0);c.addEventListener("touchend",
Td,!0);Q.nm(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",Q.aw,!0)});document.body.addEventListener("keydown",Q.aw,!0);document.getElementById("dialogDoneText").textContent=d},uw:function(a){!Q.mi||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(Q.Md(!0),a.stopPropagation(),a.preventDefault())},Cy:function(){document.body.addEventListener("keydown",Q.uw,!0)},Fy:function(){document.body.removeEventListener("keydown",Q.uw,!0)},aw:function(a){if(13==
a.keyCode||27==a.keyCode||32==a.keyCode)Q.Md(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Td()},Gv:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)Q.Md(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Sd()}};window.BlocklyDialogs=Q;Q.hideDialog=Q.Md;h.Generator=function(a){this.Vl=a};h.Generator.Tu="generated_function";b=h.Generator.prototype;b.Eu=null;b.nn=null;b.on=null;b.lA="  ";b.nz=60;b.jn=[];b.js=null;function ae(a,c){return c+a.replace(/(?!\n$)\n/g,"\n"+c)}
function be(a,c){!1===a.js&&console.warn("Generator init was not called before blockToCode was called.");if(!c)return"";if(!c.isEnabled())return be(a,u(c));if(c.rd())return be(a,ca(c,!1)[0]);var d=a[c.type];if("function"!=typeof d)throw Error('Language "'+a.Vl+'" does not know how to generate  code for block type "'+c.type+'".');d=d.call(c,c);if(Array.isArray(d)){if(!c.S)throw TypeError("Expecting string from statement block: "+c.type);return[a.wt(c,d[0],void 0),d[1]]}if("string"==typeof d)return a.nn&&
!c.Jt&&(d=ce(a.nn,c)+d),a.on&&!c.Jt&&(d+=ce(a.on,c)),a.wt(c,d,void 0);if(null===d)return"";throw SyntaxError("Invalid code generated: "+d);}
function de(a,c,d){var e=h.H;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=fc(a,c);if(!f)return"";c=be(e,f);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+f.type);a=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var g=Math.floor(d),k=Math.floor(c);if(g<=k&&(g!=k||0!=g&&99!=g))for(f=!0,g=0;g<e.jn.length;g++)if(e.jn[g][0]==d&&e.jn[g][1]==c){f=!1;break}f&&(a=
"("+a+")");return a}function ee(a,c){var d=h.H;a=fc(a,c);c=be(d,a);if("string"!=typeof c)throw TypeError("Expecting code from statement block: "+(a&&a.type));c&&(c=ae(c,d.lA));return c}function ce(a,c){c=c.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+c+"'")}b.eq="";function fe(a,c){a.eq+=c+","}b.za=function(){};b.wt=function(a,c){return c};b.finish=function(a){return a};b.xy=function(a){return a};h.H=new h.Generator("JavaScript");fe(h.H,"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(h.g.global).join(","));h.H.oH=0;h.H.GH=1.1;h.H.hn=1.2;h.H.gn=2;h.H.DH=3;h.H.xH=3;h.H.rH=4.1;h.H.JH=4.2;h.H.cv=4.3;h.H.Zu=4.4;
h.H.IH=4.5;h.H.KH=4.6;h.H.yH=4.7;h.H.pH=4.8;h.H.BH=5;h.H.av=5.1;h.H.zH=5.2;h.H.FH=5.3;h.H.bv=6.1;h.H.fn=6.2;h.H.tH=7;h.H.HH=8;h.H.CH=8;h.H.EH=8;h.H.AH=9;h.H.qH=10;h.H.uH=11;h.H.sH=12;h.H.Yu=13;h.H.$u=14;h.H.wH=15;h.H.nH=16;h.H.LH=17;h.H.vH=18;h.H.GA=99;h.H.jn=[[h.H.gn,h.H.hn],[h.H.gn,h.H.gn],[h.H.hn,h.H.hn],[h.H.hn,h.H.gn],[h.H.Zu,h.H.Zu],[h.H.av,h.H.av],[h.H.fn,h.H.fn],[h.H.Yu,h.H.Yu],[h.H.$u,h.H.$u]];h.H.js=!1;
h.H.za=function(a){h.H.Qn=Object.create(null);h.H.FC=Object.create(null);h.H.Gm?h.H.Gm.reset():h.H.Gm=new h.Dd(h.H.eq);h.H.Gm.Ct(a.Oa);for(var c=[],d=h.oa.tB(a),e=0;e<d.length;e++)c.push(Vc(d[e],h.Dd.Bp));a=h.oa.Mv(a);for(e=0;e<a.length;e++)c.push(Vc(a[e].pc(),h.kj));c.length&&(h.H.Qn.variables="var "+c.join(", ")+";");this.js=!0};h.H.finish=function(a){var c=[],d;for(d in h.H.Qn)c.push(h.H.Qn[d]);delete h.H.Qn;delete h.H.FC;h.H.Gm.reset();return c.join("\n\n")+"\n\n\n"+a};
h.H.xy=function(a){return a+";\n"};h.H.eE=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};h.H.xJ=function(a){return a.split(/\n/g).map(h.H.eE).join(" + '\\n' +\n")};
h.H.wt=function(a,c,d){var e="";if(!a.S||!a.S.Aa){var f=a.fe.text;f&&(f=h.g.Ra.Xy(f,h.H.nz-3),e+=ae(f+"\n","// "));for(var g=0;g<a.T.length;g++)if(a.T[g].type==h.Ha.Je){var k=a.T[g].connection.va();if(k){f=[];k=r(k,!0);for(var l=0;l<k.length;l++){var m=k[l].fe.text;m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=ae(f,"// "))}}}a=a.Z&&a.Z.va();d=d?"":be(h.H,a);return e+c+d};
h.H.cJ=function(a,c,d,e,f){d=d||0;f=f||h.H.GA;a.B.options.Ro&&d--;var g=a.B.options.Ro?"1":"0";a=0<d?de(a,c,h.H.fn)||g:0>d?de(a,c,h.H.bv)||g:e?de(a,c,h.H.cv)||g:de(a,c,f)||g;if(h.uD(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=h.H.fn}else 0>d&&(a=a+" - "+-d,k=h.H.bv);e&&(a=d?"-("+a+")":"-"+a,k=h.H.cv);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};h.Bc=function(a,c,d,e,f,g,k){if(!a)throw Error("Src value of an image field is required");a=h.g.dd(a);d=Number(h.g.dd(d));c=Number(h.g.dd(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.ql=!1;this.yn="";h.Bc.A.constructor.call(this,a,null,k);k||(this.ql=!!g,this.yn=h.g.dd(e)||"");this.vc=new h.g.kd(c,d+h.Bc.oB);this.kD=d;this.Ff=null;"function"==
typeof f&&(this.Ff=f);this.Ic=null};h.g.object.W(h.Bc,h.Ad);h.Bc.prototype.zp="";h.Bc.ba=function(a){return new h.Bc(a.src,a.width,a.height,void 0,void 0,void 0,a)};h.Bc.oB=1;b=h.Bc.prototype;b.tk=!1;b.Pg=!1;b.Vk=function(a){h.Bc.A.Vk.call(this,a);this.ql=!!a.flipRtl;this.yn=h.g.dd(a.alt)||""};b.lo=function(){this.Ic=h.g.j.J(h.g.D.Ak,{height:this.kD+"px",width:this.vc.width+"px",alt:this.yn},this.Wc);this.Ic.setAttributeNS(h.g.j.ld,"xlink:href",this.kf);this.Ff&&(this.Ic.style.cursor="pointer")};
b.Py=function(){};b.Wn=function(a){return"string"!=typeof a?null:a};b.hl=function(a){this.kf=a;this.Ic&&this.Ic.setAttributeNS(h.g.j.ld,"xlink:href",String(this.kf))};b.Ow=function(){return this.ql};b.ep=function(){this.Ff&&this.Ff(this)};b.Rr=function(){return this.yn};h.Fg.register("field_image",h.Bc);var ge={},R,he,ie,S,T,U,je;
h.Lb.go_east={za:function(){D(D(Zb(E(this),h.Im),new h.Hp("E"),"go-east-text"),new h.Bc("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANgAAADpCAMAAABx2AnXAAAAwFBMVEUUJzX///8REiQTIzIAGizc3uCqsLMAESUAABwAAAAAABoODyIAAB0AFScAFykAFCcAABcADCKXnaEABR8AABSHjpMAHS2UlJr19/dcZW0AAAwJIDA4RVDx8/MUJzZhanJUXmdvb3h7e4IfIC9+hYu9wcSNlJk9SVNveH5MV2Cdo6cXGClKSlScnKDV1dkpKjhWV18fMj/JzM3l5ugoN0NDUFxpc3l1foM6PEc0M0BZWmVnaHGqq66GiJJNUFk/QU+m9w3kAAAHbUlEQVR4nO2dDXuaOhiGLWLlww8QBCc9WkDbKSjWtmcoUv//vzpBXadVFEgHbzi5d9Xqirvy7H3yEGJIKxUKhUKhUCgUCoVCoVAoFArl/4fWkhUZ0dSMopvyjbCNl+HT/XI+n487Px+4ZtHt+R6qdXm07N190qt1XpQSlK1pTI9UHRg/yEW3C5OqPPrnTFbEvaYNim4cBhq7vCgL8fpeL7p12WGfX+N0IX4Ra0dtct67julyRbcwG9rDdV1IWaPoNmZCu+bDgzKl6EZmQB7f1EVkzdifCXSRqKx1+fxFvBtbT8l0kVazAZewYHeEpb72b2JdZNVMSRKJnzwRo2ygJXciUTUzJql0kaNM+5VSGClubHfSCiOkZvJ9amFkpH6iceJXSHBjJmEkuDGLFe9IcGOG8NjxBH1ErCW7ZrmgDHjNUp+gP+lyoGflBuztaYG4msF2Y7pB8Kky0G7UhpmFAXejkG54f1ozyG5ku9mFwXZj0smcGGVw3cimmRw4VwZ3dDXACMY72G5MMMVNpjLj7daHEteVwXUj+4wTIJBrVl5ltz8iI1UZ+4BXsxL3M7Bnapa6MUZZed0oFC0gFurGOGVgr88GmG7sQK5ZSd04wFTWAetG3GzsAM7GZzw3AlaG6Ua4Z2oNL/XhZiNu6sPNRuzUh+tGzDEIXDfS2YJYZZBTH8+NgPtZWccgA2w3pp4HqWpNWW6xfx35JVc3atzLsDOe1/IAa1o/lRsHLeHnEssheZJcGat1iVEVkdSN3BDPG/mTqGbVRralT4WSQJkxmBfdyizcnC0wBrWi25iNWzVrElmviOvKsq2ZhMG1bGyPim4dDvHXZ9WXotuGR6wbGwQbcUeMG42HohuGzfSiGzMuSgbFRTcOsC4fgHAhQVLd5QWX6Vk/K4MTI766cdAmdDB1xtm4kahrsGsMtWNZ1bei2/NtzNsnZ7HnotvzfbxVj4Vlvp8BHhOjpMLejZJa8TQUCR/aHzE+2admYJRhRBXRezjdD6pO7KzAF4atUyvWp0W36Hv48XXDJOOx6CZ9C8PzjaBapE0AX+KCrkoz402ikDjz4d6MxA+DL9Urig/SSxajC5mR7F72GLuBnEZ0MF7uX3vkxNsRwSPWhzs4Yic+4n24RyVU2Y/2dV3IjUSOrK778KCMwPnFa7nxh5ZB2ocTjzd9uKfKvRMlLYkPDxjy2xMxl2e3c+Okai1FeR9N73NggzcFndSHx3Vjm/W/D48XVunqlSMKpi6oGwzLqfdPOyGDD/MBUxdYH8pZN0A66ALrQzxd1Ic5o2D6EKiuAfUhWbpK6kOahzG6oP5OFKWkOU99eFkX9WG+YOZ8WX04gaoL14dNoNsBUR9eZAI2D7HuV+j9AKurpOP5svoQT1cP7HijibFX8B3gcRTm7SVgz8sVFueDhx7Y3MBcGgNXF97qVbg+xLq7pAc25xEsxuozsHmIYDGGUoB9WKk0Yn8xKNm6qpk37ACc8xHZFxtDzo0KRhcDrqvSzrY6C+649zcZz2LgdWXcwOC9dftfLpgswuD7EFHPYEXYOX+gmX6h8TsB9cpw53jvEX7/ikh9LyERPoyQ092nQEAeHqhvUsjqTYjRle6GXWJ8GCEln8ohx4cRiXORJB/ukJOtnCZivHFCwl4G/TrlAkqCiUXifLhDuTnvQcp44yutW8lIoA93GNpVZT2ycv4YQ7tyXfb6zBbdvuxUldjrl7Gh3X4/YOS3ixHyOhSqt98MGkMankmrjVpkl2uPVn/oHA1DXjeTFrGp8QWj3eCef3Wm085o0hbqxu13EITBtprtJlsuURQKhUKhUCgUCoVCoVAoFCyqJaXClBQqjDTKLkw8fDFH3xlGUBjxzyv0TBT+vATOXpjoi4zoOfvnK+fwM2mxUD3/txTHFUVvvSJF2V4YFwSC1JVUiZFUPnQUVRUEld8gzBmv8rwo8PxqzvN+uAUrTPx82HGomB2qtmXpIW/ppqWvdN1yZx+1D543X9f6fO5t53N3vEXfc66YIqLegPqDGD1y0RPx98P+7xGOiHqIIjoMOjY66FgYo+pOYJqSaQY8Hza6DG+ai/52WbNM3VvywWbs897rXBDEfHUJo77FOZJn+5ytiJbp2owj2YFvi44tRn8cMQgDN1xb1jp03NFqthqthWNhwnodLvQgsLaCGiqzvhSErtLnGzVLd+95f7zsq0iYnbcPRdcKZpvADHTLHIWmqS9C9BhubCdcWKEZTnV/YYaqGcz0heWaJj8LZuaJMFHZWHYoep4u2uvAXDP6+oObmd3ltubNzbGl31v+0q31cxbGqPer2cIM1iM9mC3Wo+mHHnbX4cz39Y/QslCXCexItKuH6L+gO3PNrjVTj4UxnGlzXtcSvK7ZD/ggtL2VstAtSV27DT1Q+8iSJm/6uZfME8St6oorlNu27fdXttffeorveStn5Tie53Irz/vw0XNfkGxni44QT4QxHOqLkrD7EhhOijqookoig7qVijqkoIroB/lH4klMHGLk60uUHbuDmP2RzKmwskGFkUZphf0HfWf286DDURUAAAAASUVORK5CYII=",15,
15,{alt:"*",ol:"FALSE"}));this.ue(!1);this.ve(!0,null);this.ef(!0,null);this.Lc(160);this.Mc("");this.Xe=""}};h.H.go_east=function(a){return"go_east('block_id_"+a.id+"');\n"};
h.Lb.go_south={za:function(){D(D(Zb(E(this),h.Im),new h.Hp("S"),"go-south-text"),new h.Bc("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANgAAADpCAMAAABx2AnXAAAAwFBMVEUAAAD///8REiQHBw7Kysr5+fn8/PwPECNMTExXV1f39/dHR0dSUlI+Pj4MDSEAABdqamoAABpmZmZhYWGAgIAAABOoqKjT09Ovr6+UlJrIyMhdXV3x8fFEREQ5OTkAABgYGBiMjIxBQUx7e4KCgosjIyO5ubmPj4/f399ycnKenp6TlJkpKjhtbnYAAB8dHSxQUFlaWmR6eno0M0BiY2sZGiypqa83OUZCRFGbnaRxcnp9foY3OEMkJTSzs7lnZ28sJ+7yAAAHzElEQVR4nO2dDXeaPBiGgVbZ2jWWtkhxtlahrZtQZH6jvvz/f/Wi8bMiJCGQ4Mm1c5xTsc/V3AkBXJQkgUAgELDg/fX29vWddRWU+V03mvKaplH/zboaWrzVN1JbmvU31jXRoC7HUGddVWbum3FeUavds64sG7HNdQGN1jjvJcsN1tWRYyR5ybLBuj5SPpK9ZPmDdYVkfKZ5yfIn6xpJeEn3kuUX1lUS0EUR67KuEp8HFC9ZfmBdJzZIDVbCJvuJ5iXLP1lXiskzqtgz60oxQUxi6bKINNZDyjXi/0EX+8O6ViwSZvXfKdcsP3WauKdcE8bE45VjynX0co0uds26ViyEmBDjBCEmxDhBiAkxThBiQowThJgQ4wQhJsQ4QYgJMU4QYkKME4SYEOMEISbEOEGICTFOEGJCjBOEmBDjBCEmxDhBiAkxThBiQowThJgQ4wQhJsQ4QYgJMU4QYkKME4SYEOMEISbEOKFEYo/t54ZhNJ7bSOs50BZ72P70x2wW3/lnVA9KMZ5SN6Aq9nS49k7V+EfDaMVbvXJSTT1lETd6Yu+n/1e88veNhtdT7JJZleTlbqiJfd7EbdNMz0wqZ5dg6iY1GiWx97M/PevST7dnVjhbUUlYY4SO2M/TPrCjeZvFK+md5aQFb6iIPSZul/R7TeOumvjWsnx28KUhluwVjY93pF5vCTnccG7NPQpi96lbNt8IxVCqO5PG7GIoyz8RTlqekOqKT2NmsbQcQshG/eSBY0dsGrOKpedwTYXE6y9qZXFmGcUQlyGT5b8EYogNJsemMZsYWg5XEDQZWg+DnLZZJjHEHK7B72UYpcWYZRHD8cKfWiHsww75nsYMYug5XIG9L/uN9fYnbUYuhtVeEbjrRLcx3/+bGbEYrpfcxhRDXm1vx1EaScXwcrgCd7U/jBWzthy2GaEY8v5rD+56XViD4oZ7os0PxLBzKOPPF0nEDmbERGIE7VWQ2N6MRIzIC1sMf/BYs00jgRhJDmX8waNN9mO2ZvhihF7YcyrcHfSOBzIxshzK+DtozCnVAfckYqTtRXB6gGz0WHGPL0bsRXB2AOew5RsPuGLEOSQ6OYB+oHnCHzwxjCVqv0NybgD51EAMjzhrmOLPD/eQnBrI0mRVjKGnmXZWNgGikzlZellREF50IR8YC4L0Ki/5vqwYiE9xp1+UYAr5RYnUy0hMyXIZCeOLBoon41cb/GBd/zl+ZPPiNY3Zcrgx43AEqVL5ig0O05g5h5BfnKWx8ouOF29ppJNDCFdppJRDCD9ppJdDCC9ppJlDCCdppJrDjRkHbVbNwYuHOQiN+UYcv1iLUR439twyTWM10wf5kmGZxrxyCGGYxtxyCGGVxjxzCGEzB6E934g1Y9Bm1QK8ojQWL5Z7DiFFp7GIHG7MCk1jMTmEYHzpYnYK/drGH4WlsZLLvPc8RfWz4vrXloLGxoLGw0OKSGPROYTkn8bicwjJPY0Mcrgxy7XNKsy88k0jqxxCcjx3xWTc2POS0+yqyvxrovNJI9scQnJJI+McQuh/tiDL5wFoQnsOwma+EQfds9/5nMcmg2YaeckhhF4a+ckhhJYZb1600shXDiG3ses44HHDcN57nuxp5C+HkKxp5DGHkGxp5DOHkCxp5DWHEPKjGPbHKcm8ELZZhXOvKI1E/eyG6xxCSNLIew4hd9hprHA7zh+Dm8Yy5BCCdwU+/+vm9HjFSGPllXW1OKDPQXieb8SBmsYy5RDyimRWLVUOIShpLFsOIenXYlheT8lCWhrLmEPIS2Iab0oxj4onKY1lzSHk/J66XPvlU86lscw5hMSP+uUc54+JO4opy3FKMncnbXZzEV6nabyEHEKO03gZOYS8HrTZTcnH+WP2abycHELuNusWNC8ohxs+u81mN3lpcoFAIBDkxtWFIikXihArG5cuBlRFUTcPgd2TmqaA/b+ie6oGlJIAxcACKKrjwfuDrWLN93VnsVUZ9YG69AdlMYNiWjjUamZNryktXWqPgK63gC6NI4KZpEsSAJI0MCRpYk+LFlMRXqHuXqjuXg7FVM/UvbnVs6W5GczNgWla01m/25ckt+mbhuF0DGPa6BjOdFKomApUsCoc3kYdQ40qjx5cPbR+XFWApmiqNor+UjSgRT1n47bpY7qphG5QC9xQkuyvniIFgX/VMbpzt+dcS8NxYyI5TSPartgGa9lXc82rOd5CW2rACqaeMqotw4UHRkvgRX9GIAxd33b9WX+uuGFgTqx561BMG/q2bw5Da6rpNpjptdDua1fSV3fe639Ii49rXXe6xrLoHIKp5c7GQ3fYswPbdt2eb0a39thT7P7cdu2ZOen/F9iavXTHVse1ZoodhNqhmArGlmcCxzGBNxy6vmL6fW3m9hqdrmMEDav3YXWup129YDFV/28w84Pot26GM9+3x33T/vTtWWdi9m3bGvR64WgWzELb8mzLNtum5fqmfiimaK6nOW0LOL1AD6XQ9pwB6PfmLd2ffplDXY8i6UpBp/AmczTQ0adgACaqt5zog6Vz1XG0hbMcjBYjZbnsRM9fTXUHaB39a6lO9A446mORWdQPW1H3rEVdUdFqIHpe01vRDVB1Leq4+qqXFj/WR4MBiG7AasRQ17erXSuA96PnwOolq6FlvZtdv1Y5Frs0hFjZuFix/wFtUcKJ9MtjTQAAAABJRU5ErkJggg==",15,
15,{alt:"*",ol:"FALSE"}));this.ue(!1);this.ve(!0,null);this.ef(!0,null);this.Lc(160);this.Mc("");this.Xe=""}};h.H.go_south=function(a){return"go_south('block_id_"+a.id+"');\n"};
h.Lb.go_west={za:function(){D(D(Zb(E(this),h.Im),new h.Hp("W"),"go-west-text"),new h.Bc("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANgAAADpCAMAAABx2AnXAAAAwFBMVEUUJzX///8REiQTIzIAGizc3uCqsLMAESUAABsODyIAAAAAAB0AFigAFCcAABoAABgADSOYnaJXYWkAHS2SmJ0AABSHjZNcZm0ABiCNjZX19/dTXWZMV2AHCR+UlJo3RU+5vcGdo6dCTlfIy85zfIIyQExocHft7/Cmq6/k5ueCgorV1dkpKjhBQUxtbnZlZm5TU14AAA4fIC8eMT59hYq/xMcjNkJud340M0BKSlQ3OUZ5eYFNUFkhIzFpaXReXmg0VOvFAAAHPElEQVR4nO2di1biMBCGSQHpBShdqFLWlJsK9AooK9DFvv9bbbjoinJpG5ZOuvnOURCOOv+Zf6YhTdpcjsPhcDgcDofD4XA4HA6Hw8k0+XqlRmjWyvW0Q7kg+bLYftU6tm33O427Z6WQdkCXIa88a8UW+qBlv5RKaQd1AUrtDvpKq5svpx0XJfX68JusNYOXWtqhUVHqjQ7qIvQLDLeR2sMxWeuktZltIsrtCV2k0u4ZVXZGF1H2yKQbm+d0ITRiUdjZfK2ZsdcbI+lC6JW1MouoCw0YO1BH1YVQgyll0XWhgZh2sDGIoQuhJ3Y6YyxdqNNMO96oxNOFBqxkLKYuhO7ZUBZbF3pgQlh8XUirpB10BBLoQjcMDKuURnxdqANfWJJ8sSAsmS50A33KqpnEhwQN+GgxYb7IJxfY7T6xLuAH6ET9cAPsIVVyXbAHwcl9CPtjC0W+0EBNO/rjiBS60C3cZi9S+BAN4M5S0fgQ8vQblQ9RR0k7/mPQ9EPIU9x0uuCelKCrr0E7m7paPaiNg6rPoxbYE5q0PoSqi67PA/ahSaMLgc1X0nmAXb7A6qLz4aAHtc9T1hfYfFEev8DqqlL6EKou7kO2dGXVh3S6Wlkdz4P1oajR6II77qX0Idj6ovThI1hdlD6E2jdox71Q80U53siqD8HqohxvgO3zKvfhoXz9qhX+OeVas1zPx9SlUulCg+I1sGeNp2cl1iGFzofXpNV/VaOfR6Tz4bVp3dYjFjSlD6/P6CnSOTe6Pp8OQ+V8F2HLh+/YuXNNhDkf7ijmTueMnX74Ffvkclw2fbjl1EKmKsO6EHo5ekBjtb52tJ6PlBnLPtxwZAmJ0k07MGrah1LGuA83HFrPTzd/CIRBJn245tsSzyz4cM1XLzYzogsV94cf9ae0A7oUrf2EVey0A7oYvz43/PyvtMO5HL09J96nHc7l2NuDke+lHc7l2N9c8px2OJdjf1BVmqUdz8V43uuK+Xbr/K8wweDLKLh8l3ZEF8L+upWwlBFl3W97JDOi7Of3SbhMKBsdmusu/Ug7LHq0g7t12c9Z68hsMPPKDieMfTeOjs8FV5jO2YGWmAk3Nk7u82fXjTdnTv5VGFXW0U/rYtWNWoQLabDoxqdIFwhhzo2dqMsG2Or6s16EM+vvbmRGmX372IyzNofSjcXhzb9n2H3pNZvlmKupKN34JJf+OZVKIe4SsTWUbnyCe8mOyk8qZQ9wr9BE6cbsKnsFrIy78X9T9prZ3gi5zujGINl14wN34/XhXf+Ysuy6MbPKuBtTgPJ4BtmNdMtcALux/INqbQF3YwpwNx5TBjhnmXVjmbuROWWUbryDe8lZyt4I9pIRxI0/adxYhLqnPUfrxgbgO2XQ9ca0oz9FhcaNQ8g3XqDp+i3AVUbXG1+AK0ucsz7Yq1ZvqCR244H9a6BI7sZT69QgkLjrwy6yXPLe+H0VOTQSzjfCvzdSrpxoJxMLdz9NNCJmIGNrZfGFgb+b1YYEbmTk3qfx3Qj5Vjufid0be+f/JgxiunHEQu/YUo41Ih6yIyzeJ0/Y91X7Qgw3FgHfzeoA0d3ISk98J2rXtxmqsC0RP8UwVWFbIrlRg3vG5TgR3NhnUVcENxbZGCV+p9w7mTM79tVUwVBoj47r6rCrK5er1zvHdDWaDOsiqHcHk9Z/ZO4A9pV6+aX4Tdadyna6thQK98NPabMbjzX2DsuHqZeqlfsXrdttPLRFJe5mKODUC+VKJf71sjkcDofD4XA4HA6Hw+FwOP8Z+YySEzIKF8YaWRcm7b6ET4+CgLEg4b8/kbfw3zeBsxUmLYkEZ7p9Pn9/Tw3HurP8ULbA0iqcs6JsK0zx/apqqLoqqLpsTLGuq1iXhwRPk3VZxliW57YsLw0Xn/mDUNhlbGroUyswLTkwA8ucm2aw0H4Xf8vy2yA0bdtxbXsxc8nj8roZw5JE/qG0RpBEUhfSrh6k9xfJa5ig4G3lCFXpszBBNwXP81TP82XZUgxB9oLxxO0XLc90+rI/nC1lZ2RX8ZVrTA0ED0uiM1+tNZpvc2kqqU44FfBKIIVDXp0vuq5vLg3feCPRL7oTa4w/CxPD0AhN/y1wsW40tYnuWws8kZViYC468rLTn0yIsNW1fahaY7+rBb4VWtb6u7Ygj6Fh6gtrbFlmYFjjRWDI5mLo+ZbrWVPNCfaFSXgYTA3sOKY0DUMvFMxwrGie0XeLju3NArMTuP1FcXJlYZI0E8yxOX7zLSNYeSaRYxiupU3DYGwY2soPAuxr5pi8PTY8k+Rm3A3Uz8IE0ZuKzm2AHSOY+LJvTJ05/m1aqh4uFDPUJ8SSnuy51+6J0go7c9EV5yvSs+eOsJoL+oI8k5YrZ+UI09VSdLE7dlxxNderK2euvpvq4wAtkkJUq5uvqqCo68LEukqKEUu6IghVXap+FOY1lQnrQIRdo9g84I/nwq594M3Dpsl8/GLWRx7ZgwtjjT8LDezXZFI9owAAAABJRU5ErkJggg==",15,
15,{alt:"*",ol:"FALSE"}));this.ue(!1);this.ve(!0,null);this.ef(!0,null);this.Lc(160);this.Mc("");this.Xe=""}};h.H.go_west=function(a){return"go_west('block_id_"+a.id+"');\n"};h.Lb.go_north={za:function(){D(D(Zb(E(this),h.Im),new h.Hp("N"),"go-north-text"),new h.Bc("https://toppng.com/uploads/preview/curved-white-arrow-png-white-up-arrow-icon-115628934127okaaohywg.png",15,15,{alt:"*",ol:"FALSE"}));this.ue(!1);this.ve(!0,null);this.ef(!0,null);this.Lc(160);this.Mc("");this.Xe=""}};
h.H.go_north=function(a){return"go_north('block_id_"+a.id+"');\n"};h.Lb.maze_moveForward={za:function(){bc(this,{message0:O("go_east"),previousStatement:null,nextStatement:null,colour:160,tooltip:O("Maze_moveForwardTooltip")})}};h.H.maze_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};
h.Lb.maze_turn={za:function(){var a=[[O("go_north"),"turnLeft"],[O("go_south"),"turnRight"]];a[0][0]+=" \u21ba";a[1][0]+=" \u21bb";this.Lc(290);D(E(this),new h.Wa(a),"DIR");this.ve(!0);this.ef(!0);this.Mc(O("Maze_turnTooltip"))}};h.H.maze_turn=function(a){return $a(a,"DIR")+"('block_id_"+a.id+"');\n"};
h.Lb.maze_if={za:function(){var a=[[O("Maze_pathAhead"),"isPathForward"],[O("Maze_pathLeft"),"isPathLeft"],[O("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.Lc(210);D(E(this),new h.Wa(a),"DIR");D(this.Bf(h.Ha.lc,"DO"),O("Maze_doCode"));this.Mc(O("Maze_ifTooltip"));this.ve(!0);this.ef(!0)}};h.H.maze_if=function(a){var c=$a(a,"DIR")+"('block_id_"+a.id+"')";a=ee(a,"DO");return"if ("+c+") {\n"+a+"}\n"};
h.Lb.maze_ifElse={za:function(){var a=[[O("Maze_pathAhead"),"isPathForward"],[O("Maze_pathLeft"),"isPathLeft"],[O("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.Lc(210);D(E(this),new h.Wa(a),"DIR");D(this.Bf(h.Ha.lc,"DO"),O("Maze_doCode"));D(this.Bf(h.Ha.lc,"ELSE"),O("Maze_elseCode"));this.Mc(O("Maze_ifelseTooltip"));this.ve(!0);this.ef(!0)}};
h.H.maze_ifElse=function(a){var c=$a(a,"DIR")+"('block_id_"+a.id+"')",d=ee(a,"DO");a=ee(a,"ELSE");return"if ("+c+") {\n"+d+"} else {\n"+a+"}\n"};h.Lb.maze_forever={za:function(){this.Lc(120);D(D(E(this),O("Maze_repeatUntil")),new h.Bc(V.Co,12,16));D(this.Bf(h.Ha.lc,"DO"),O("Maze_doCode"));this.ve(!0);this.Mc(O("Maze_whileTooltip"))}};h.H.maze_forever=function(a){var c=ee(a,"DO");h.H.Eu&&(c=h.H.Eu.replace(/%1/g,"'block_id_"+a.id+"'")+c);return"while (notDone()) {\n"+c+"}\n"};var ke=ke||{};function le(a,c){function d(){}d.prototype=c.prototype;a.A=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.EI=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}}if(!me){var me,ne="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(ne=navigator.userAgent);var oe=0==ne.indexOf("Opera");me={wJ:{qG:"ScriptEngine"in window},mH:oe,Yd:!oe&&-1!=ne.indexOf("MSIE"),Av:!oe&&-1!=ne.indexOf("WebKit")}}if(!qe)var qe={};
if(!re)var re={};if(!se)var se={};if(!te)var te={};if(!ue)var ue={};if(!ve)var ve={};var we=ke.wz?{JJ:!0}:{},xe=ke.wz?{KJ:!0}:{};function ye(){throw Error("Do not instantiate directly");}ye.prototype.gw=null;ye.prototype.toString=function(){return this.content};function ze(a){if(null!=a)switch(a.gw){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Ae(){ye.call(this)}le(Ae,ye);Ae.prototype.hw=we;
function W(a){return null!=a&&a.hw===we?a:Be(String(String(a)).replace(Ce,De),ze(a))}var Be=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.gw=e);return f}}(Ae),Ee={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};
function De(a){return Ee[a]}var Ce=/[\x00\x22\x26\x27\x3c\x3e]/g;function Fe(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function Ge(){var a="skin="+W(He),c='<table width="100%"><tr><td><h1><span id="title">'+((Zc?'<a href="index.html?lang='+W(M)+'">':'<a href="./?lang='+W(M)+'">')+"Blockly Games</a> : "+W("Maze")+"</span>");if(N){a=""+(a?W(a):"");for(var d=" &nbsp; ",e=1;11>e;e++){var f="?lang="+W(M)+"&level="+W(e)+(a?"&"+W(a):"");d+=" "+(e==N?'<span class="level_number level_done" id="level'+W(e)+'">'+W(e)+"</span>":10==e?'<a class="level_number" id="level'+W(e)+'" href="'+W(f)+'">'+W(e)+"</a>":'<a class="level_dot" id="level'+
W(e)+'" href="'+W(f)+'"></a>')}a=d}else a="";return'<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="go_east">E </span><span id="go_west">W </span><span id="go_north">N </span><span id="go_south">S </span><span id="Maze_doCode">do</span><span id="Maze_elseCode">else</span><span id="Maze_helpIfElse">If-else blocks will do one thing or the other.</span><span id="Maze_pathAhead">if path ahead</span><span id="Maze_pathLeft">if path to the left</span><span id="Maze_pathRight">if path to the right</span><span id="Maze_repeatUntil">repeat until</span><span id="Maze_moveForwardTooltip">Moves the player forward one space.</span><span id="Maze_turnTooltip">Turns the player left or right by 90 degrees.</span><span id="Maze_ifTooltip">If there is a path in the specified direction, then do some actions.</span><span id="Maze_ifelseTooltip">If there is a path in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.</span><span id="Maze_whileTooltip">Repeat the enclosed actions until finish point is reached.</span><span id="Maze_capacity0">You have %0 blocks left.</span><span id="Maze_capacity1">You have %1 block left.</span><span id="Maze_capacity2">You have %2 blocks left.</span></div>'+
(c+a+'</h1></td><td id="header_cta" class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button>&nbsp;'+('<button id="pegmanButton"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>'.hw===xe?"zSoyz":'<button id="pegmanButton"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>')+'</td></tr></table><div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgMaze" width="400px" height="400px"><g id="look"><path d="M 0,-15 a 15 15 0 0 1 15 15" /><path d="M 0,-35 a 35 35 0 0 1 35 35" /><path d="M 0,-55 a 55 55 0 0 1 55 55" /></g></svg><div id="capacityBubble"><div id="capacity"></div></div></div><table width="400"><tr><td style="width: 190px; text-align: center; vertical-align: top;"><td><button id="runButton" class="primary" title="Makes the player do what the blocks say."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Put the player back at the start of the maze."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><xml id="toolbox" xmlns="https://developers.google.com/blockly/xml"><block type="go_east">E </block><block type="go_west">W </block><block type="go_south">S </block><block type="go_north">N </block>')+
((2<N?'<block type="maze_forever"></block>'+(6==N?'<block type="maze_if"><field name="DIR">isPathLeft</field></block>':6<N?'<block type="maze_if"></block>'+(8<N?'<block type="maze_ifElse"></block>':""):""):"")+'</xml><div id="blockly"></div><div id="pegmanMenu"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel">Cancel</button><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>')+
(Fe()+"</div>")+(1==N?'<div id="dialogHelpStack" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Stack a couple of \'move forward\' blocks together to help me reach the goal.</td><td valign="top"><img src="maze/help_stack.png" class="mirrorImg" height=63 width=136></td></tr></table></div><div id="dialogHelpOneTopBlock" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>On this level, you need to stack together all of the blocks in the white workspace.<div id="sampleOneTopBlock" class="readonly"></div></td></tr></table></div><div id="dialogHelpRun" class="dialogHiddenContent"><table><tr><td>Run your program to see what happens.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="maze/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':
2==N?'<div id="dialogHelpReset" class="dialogHiddenContent"><table><tr><td>Your program didn\'t solve the maze. Press \'Reset\' and try again.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="maze/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':3==N||4==N?(3==N?'<div id="dialogHelpRepeat" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>Reach the end of this path using only two blocks. Use \'repeat\' to run a block more than once.</td><td><img src="common/help.png"></td></tr></table></div>':
"")+'<div id="dialogHelpCapacity" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>You have used up all the blocks for this level. To create a new block, you first need to delete an existing block.</td></tr></table></div><div id="dialogHelpRepeatMany" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>You can fit more than one block inside a \'repeat\' block.</td><td><img src="common/help.png"></td></tr></table></div>':5==N?
'<div id="dialogHelpSkins" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td width="95%">Choose your favourite player from this menu.</td><td><img src="maze/help_up.png"></td></tr></table></div>':6==N?'<div id="dialogHelpIf" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>An \'if\' block will do something only if the condition is true. Try turning left if there is a path to the left.</td><td><img src="common/help.png"></td></tr></table></div>':
7==N?'<div id="dialogHelpMenu" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td id="helpMenuText">Click on %1 in the \'if\' block to change its condition.</td><td><img src="common/help.png"></td></tr></table></div>':9==N?'<div id="dialogHelpIfElse" class="dialogHiddenContent"><table><tr><td><img src="maze/help_down.png"></td><td>If-else blocks will do one thing or the other.</td><td><img src="common/help.png"></td></tr></table></div>':10==N?'<div id="dialogHelpWallFollow" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Can you solve this complicated maze? Try following the left-hand wall. Advanced programmers only!'+
Fe()+"</td></tr></table></div>":"")};var ed="maze";Td=function(){10>N?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+M+"&level="+(N+1)+"&skin="+He:Sd()};
var Ie=[void 0,Infinity,Infinity,2,5,5,5,5,10,7,10][N],Je=[{ck:"maze/pegman.png",Kt:"maze/tiles_pegman.png",Co:"maze/marker.png",background:!1,us:"#000",Ut:["maze/win.mp3","maze/win.ogg"],Xq:["maze/fail_pegman.mp3","maze/fail_pegman.ogg"],Nn:1},{ck:"maze/astro.png",Kt:"maze/tiles_astro.png",Co:"maze/marker.png",background:"maze/bg_astro.jpg",us:"#fff",Ut:["maze/win.mp3","maze/win.ogg"],Xq:["maze/fail_astro.mp3","maze/fail_astro.ogg"],Nn:2},{ck:"maze/panda.png",Kt:"maze/tiles_panda.png",Co:"maze/marker.png",
background:"maze/bg_panda.jpg",us:"#000",Ut:["maze/win.mp3","maze/win.ogg"],Xq:["maze/fail_panda.mp3","maze/fail_panda.ogg"],Nn:3}],He=$c("skin",0,Je.length),V=Je[He],X=[void 0,[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,2,1,3,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,3,0,0,0],[0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,
0,0,0,0],[0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,3,1,0],[0,0,0,0,1,1,0,0],[0,0,0,1,1,0,0,0],[0,0,1,1,0,0,0,0],[0,2,1,0,0,0,0,0],[1,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,3,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,2,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,1,0,0,0,1,0,0],[0,1,1,3,0,1,0,0],[0,0,0,0,0,1,0,0],[0,2,1,1,1,1,0,0],
[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,1,1,0],[0,1,1,3,0,1,0,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,0,0,0],[0,1,0,0,1,1,0,0],[0,1,1,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,2,1,1,0,3,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,0,1,0,0,0,0,0],[3,1,1,1,1,1,1,0],[0,1,0,1,0,1,1,0],[1,1,1,1,1,0,1,0],[0,1,0,1,0,2,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,0,3,0,1,0],[0,1,1,
0,1,1,1,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,1,0,0,1,0],[0,2,1,1,1,0,1,0],[0,0,0,0,0,0,0,0]]][N],Ke=X.length,Le=X[0].length,Me=50*Le,Ne=50*Ke,Oe=0,Y=[],Pe={10010:[4,0],10001:[3,3],11E3:[0,1],10100:[0,2],11010:[4,1],10101:[3,2],10110:[0,0],10011:[2,0],11001:[4,2],11100:[2,3],11110:[1,1],10111:[1,0],11011:[2,1],11101:[1,2],11111:[2,2],null0:[4,3],null1:[3,0],null2:[3,1],null3:[0,3],null4:[1,3]};
function Qe(){function a(m,n){return 0>m||m>=Le||0>n||n>=Ke?"0":0==X[n][m]?"0":"1"}var c=document.getElementById("svgMaze"),d=50*Math.max(Ke,Le);c.setAttribute("viewBox","0 0 "+d+" "+d);h.g.j.J("rect",{height:Ne,width:Me,fill:"#F1EEE7","stroke-width":1,stroke:"#CCB"},c);if(V.background){var e=h.g.j.J("image",{height:Ne,width:Me,x:0,y:0},c);e.setAttributeNS(h.g.j.ld,"xlink:href",V.background)}for(var f=d=0;f<Ke;f++)for(var g=0;g<Le;g++){var k=a(g,f)+a(g,f-1)+a(g+1,f)+a(g,f+1)+a(g-1,f);Pe[k]||(k="00000"==
k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));e=Pe[k][0];k=Pe[k][1];var l=h.g.j.J("clipPath",{id:"tileClipPath"+d},c);h.g.j.J("rect",{height:50,width:50,x:50*g,y:50*f},l);e=h.g.j.J("image",{height:200,width:250,"clip-path":"url(#tileClipPath"+d+")",x:50*(g-e),y:50*(f-k)},c);e.setAttributeNS(h.g.j.ld,"xlink:href",V.Kt);d++}h.g.j.J("image",{id:"finish",height:34,width:20},c).setAttributeNS(h.g.j.ld,"xlink:href",V.Co);d=h.g.j.J("clipPath",{id:"pegmanClipPath"},c);h.g.j.J("rect",{id:"clipRect",
height:52,width:49},d);h.g.j.J("image",{id:"pegman",height:52,width:1029,"clip-path":"url(#pegmanClipPath)"},c).setAttributeNS(h.g.j.ld,"xlink:href",V.ck)}
function Re(a){if(!(a&&a.ls||w.$c()||1==Oe||cd(N))){a=ad();var c=h.K.Jd(h.K.Wy()),d=w.ma.m.tb(!0),e=null,f=null,g=null;if(1==N)2>B(w).length?(e=document.getElementById("dialogHelpStack"),g={width:"370px",top:"130px"},g[a?"right":"left"]="215px",f=d[0].ra()):(d=w.tb(!0),1<d.length?(e='<xml>;<block type="go_east" x="10" y="10">;<next>;<block type="go_east"></block>;</next>;</block>;</xml>'.split(";"),f=document.getElementById("sampleOneTopBlock"),f.firstChild||(f=h.Og(f,{rtl:ad(),readOnly:!0}),"string"!=
typeof e&&(e=e.join("")),h.K.Xh(h.K.we(e),f)),e=document.getElementById("dialogHelpOneTopBlock"),g={width:"360px",top:"120px"},g[a?"right":"left"]="225px",f=d[0].ra()):0==Oe&&(e=document.getElementById("dialogHelpRun"),g={width:"360px",top:"410px"},g[a?"right":"left"]="400px",f=document.getElementById("runButton")));else if(2==N)0!=Oe&&"none"==document.getElementById("runButton").style.display&&(e=document.getElementById("dialogHelpReset"),g={width:"360px",top:"410px"},g[a?"right":"left"]="400px",
f=document.getElementById("resetButton"));else if(3==N)-1==c.indexOf("maze_forever")&&(0==cb(w)?(e=document.getElementById("dialogHelpCapacity"),g={width:"430px",top:"310px"},g[a?"right":"left"]="50px",f=document.getElementById("capacityBubble")):(e=document.getElementById("dialogHelpRepeat"),g={width:"360px",top:"360px"},g[a?"right":"left"]="425px",f=d[3].ra()));else if(4==N)if(0==cb(w)&&(-1==c.indexOf("maze_forever")||1<w.tb(!1).length))e=document.getElementById("dialogHelpCapacity"),g={width:"430px",
top:"310px"},g[a?"right":"left"]="50px",f=document.getElementById("capacityBubble");else{c=!0;for(var k=B(w),l=0;l<k.length;l++){var m=k[l];if("maze_forever"==m.type){for(var n=0;m;)m=ca(m),m=m.length?m[0]:null,n++;if(2<n){c=!1;break}}}c&&(e=document.getElementById("dialogHelpRepeatMany"),g={width:"360px",top:"360px"},g[a?"right":"left"]="425px",f=d[3].ra())}else if(5==N)0!=He||Se.sB||(e=document.getElementById("dialogHelpSkins"),g={width:"360px",top:"60px"},g[a?"left":"right"]="20px",f=document.getElementById("pegmanButton"));
else if(6==N)-1==c.indexOf("maze_if")&&(e=document.getElementById("dialogHelpIf"),g={width:"360px",top:"430px"},g[a?"right":"left"]="425px",f=d[4].ra());else if(7==N){if(!Re.nD){k=document.createElement("span");k.className="helpMenuFake";l=[O("Maze_pathAhead"),O("Maze_pathLeft"),O("Maze_pathRight")];n=h.g.Ra.Yv(l);m=h.g.Ra.Zv(l);k.textContent=(m?l[0].slice(n,-m):l[0].substring(n))+" "+h.Wa.Km;n=document.getElementById("helpMenuText");l=n.textContent;n.textContent="";m=l.split(/%\d/);for(l=0;l<m.length;l++)n.appendChild(document.createTextNode(m[l])),
l!=m.length-1&&n.appendChild(k.cloneNode(!0));Re.nD=!0}-1==c.indexOf("isPathRight")&&(e=document.getElementById("dialogHelpMenu"),g={width:"360px",top:"430px"},g[a?"right":"left"]="425px",f=d[4].ra())}else 9==N&&-1==c.indexOf("maze_ifElse")&&(e=document.getElementById("dialogHelpIfElse"),g={width:"360px",top:"305px"},g[a?"right":"left"]="425px",f=d[5].ra());e?e.parentNode!=document.getElementById("dialog")&&Q.nm(e,f,!0,!1,g,null):Q.Md(!1)}}
function Se(a){var c=document.getElementById("pegmanMenu");"block"==c.style.display?Te(a):Wd(a)||(a=document.getElementById("pegmanButton"),a.classList.add("buttonHover"),c.style.top=a.offsetTop+a.offsetHeight+"px",c.style.left=a.offsetLeft+"px",c.style.display="block",ge.Zs=h.Qh(document.body,"mousedown",null,Te),(c=document.getElementById("dialogHelpSkins"))&&"dialogHiddenContent"!=c.className&&Q.Md(!1),Se.sB=!0)}
function Te(a){Wd(a)||(document.getElementById("pegmanMenu").style.display="none",document.getElementById("pegmanButton").classList.remove("buttonHover"),ge.Zs&&(h.kp(ge.Zs),delete ge.Zs))}
function Ue(a){for(var c=0;c<Y.length;c++)clearTimeout(Y[c]);Y=[];S=he.x;T=he.y;a?(U=2,Ve(!1),Y.push(setTimeout(function(){R=100;We([S,T,4*U-4]);U++},5*R))):(U=1,Z(S,T,4*U));c=document.getElementById("finish");c.setAttribute("x",50*(ie.x+.5)-c.getAttribute("width")/2);c.setAttribute("y",50*(ie.y+.6)-c.getAttribute("height"));c=document.getElementById("look");c.style.display="none";c.parentNode.appendChild(c);a=c.getElementsByTagName("path");c=0;for(var d;d=a[c];c++)d.setAttribute("stroke",V.us)}
function Xe(a){if(!Wd(a))if(Q.Md(!1),1==N&&1<w.tb(!1).length&&1!=Oe&&!cd(N))Re();else{a=document.getElementById("runButton");var c=document.getElementById("resetButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px");a.style.display="none";c.style.display="inline";Ue(!1);Ye()}}function Ze(a){Wd(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",Nc(null),Ue(!1),Re())}
function $e(a,c){var d=function(e){af(0,e)};a.setProperty(c,"go_east",a.createNativeFunction(d));d=function(e){af(2,e)};a.setProperty(c,"go_west",a.createNativeFunction(d));d=function(e){bf(0,e)};a.setProperty(c,"go_north",a.createNativeFunction(d));d=function(e){bf(1,e)};a.setProperty(c,"go_south",a.createNativeFunction(d));d=function(e){return cf(0,e)};a.setProperty(c,"isPathForward",a.createNativeFunction(d));d=function(e){return cf(1,e)};a.setProperty(c,"isPathRight",a.createNativeFunction(d));
d=function(e){return cf(2,e)};a.setProperty(c,"isPathBackward",a.createNativeFunction(d));d=function(e){return cf(3,e)};a.setProperty(c,"isPathLeft",a.createNativeFunction(d));a.setProperty(c,"notDone",a.createNativeFunction(function(){return S!=ie.x||T!=ie.y}))}
function Ye(){if("Interpreter"in window){je=[];h.selected&&pb(h.selected);var a=h.H;var c=w;c||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),c=h.Ig());var d=[];a.za(c);c=c.tb(!0);for(var e=0,f;f=c[e];e++){var g=be(a,f);Array.isArray(g)&&(g=g[0]);g&&(f.S&&(g=a.xy(g),a.nn&&!f.Jt&&(g=ce(a.nn,f)+g),a.on&&!f.Jt&&(g+=ce(a.on,f))),d.push(g))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");Kd=a=d=d.replace(/[ \t]+\n/g,"\n");Jd=Md();Oe=0;a=new Interpreter(a,
$e);try{for(d=1E4;a.step();)if(0==d--)throw Infinity;Oe=S!=ie.x||T!=ie.y?-1:1}catch(k){Infinity===k?Oe=2:!1===k?Oe=-2:(Oe=-2,alert(k))}1==Oe?(R=100,je.push(["finish",null])):R=150;Ue(!1);Y.push(setTimeout(df,100))}else setTimeout(Ye,250)}
function df(){var a=je.shift();if(a){Ud(a[1]);switch(a[0]){case "north":We([S,T-1,4*U]);T--;break;case "east":We([S+1,T,4*U]);S++;break;case "south":We([S,T+1,4*U]);T++;break;case "west":We([S-1,T,4*U]);S--;break;case "look_north":ef(0);break;case "look_east":ef(1);break;case "look_south":ef(2);break;case "look_west":ef(3);break;case "fail_forward":ff(!0);break;case "fail_backward":ff(!1);break;case "left":We([S,T,4*U-4]);U=gf(U-1);break;case "right":We([S,T,4*U+4]);U=gf(U+1);break;case "finish":Ve(!0),
window.localStorage&&(window.localStorage[ed+N]=Jd),setTimeout(Q.$B,1E3)}Y.push(setTimeout(df,5*R))}else Ud(null),Re()}function hf(a){if("dialogHiddenContent"!=document.getElementById("dialogDone").className){var c=document.getElementById("pegSpin"),d=Q.Lw(c),e=a.clientX-(d.x+d.width/2-window.pageXOffset);a=h.g.td.$E(Math.atan((a.clientY-(d.y+d.height/2-window.pageYOffset))/e));e=Math.round((0<e?a+90:a+270)/360*16);16==e&&(e=15);c.style.backgroundPosition=49*-e+"px 0px"}}
function We(a){var c=[S,T,4*U],d=[(a[0]-c[0])/4,(a[1]-c[1])/4,(a[2]-c[2])/4];Z(c[0]+d[0],c[1]+d[1],jf(c[2]+d[2]));Y.push(setTimeout(function(){Z(c[0]+2*d[0],c[1]+2*d[1],jf(c[2]+2*d[2]))},R));Y.push(setTimeout(function(){Z(c[0]+3*d[0],c[1]+3*d[1],jf(c[2]+3*d[2]))},2*R));Y.push(setTimeout(function(){Z(a[0],a[1],jf(a[2]))},3*R))}
function ff(a){var c=0,d=0;switch(U){case 0:d=-1;break;case 1:c=1;break;case 2:d=1;break;case 3:c=-1}a||(c=-c,d=-d);if(1==V.Nn){c/=4;d/=4;var e=jf(4*U);Z(S+c,T+d,e);w.Uc.play("fail",.5);Y.push(setTimeout(function(){Z(S,T,e)},R));Y.push(setTimeout(function(){Z(S+c,T+d,e);w.Uc.play("fail",.5)},2*R));Y.push(setTimeout(function(){Z(S,T,e)},3*R))}else{var f=10*(Math.random()-.5),g=(Math.random()-.5)/2;c+=(Math.random()-.5)/4;d+=(Math.random()-.5)/4;c/=8;d/=8;var k=0;3==V.Nn&&(k=.01);Y.push(setTimeout(function(){w.Uc.play("fail",
.5)},2*R));a=function(m){return function(){Z(S+c*m,T+d*m,jf(4*U+g*m),f*m);d+=k}};for(var l=1;100>l;l++)Y.push(setTimeout(a(l),R*l/2))}}function Ve(a){var c=jf(4*U);Z(S,T,16);a&&w.Uc.play("win",.5);R=150;Y.push(setTimeout(function(){Z(S,T,18)},R));Y.push(setTimeout(function(){Z(S,T,16)},2*R));Y.push(setTimeout(function(){Z(S,T,c)},3*R))}
function Z(a,c,d,e){var f=document.getElementById("pegman");f.setAttribute("x",50*a-49*d+1);f.setAttribute("y",50*(c+.5)-26-8);e?f.setAttribute("transform","rotate("+e+", "+(50*a+25)+", "+(50*c+25)+")"):f.setAttribute("transform","rotate(0, 0, 0)");c=document.getElementById("clipRect");c.setAttribute("x",50*a+1);c.setAttribute("y",f.getAttribute("y"))}
function ef(a){var c=S,d=T;switch(a){case 0:c+=.5;break;case 1:c+=1;d+=.5;break;case 2:c+=.5;d+=1;break;case 3:d+=.5}c*=50;d*=50;var e=90*a-45;a=document.getElementById("look");a.setAttribute("transform","translate("+c+", "+d+") rotate("+e+" 0 0) scale(.4)");c=a.getElementsByTagName("path");a.style.display="inline";for(d=0;a=c[d];d++)kf(a,R*d)}function kf(a,c){Y.push(setTimeout(function(){a.style.display="inline";setTimeout(function(){a.style.display="none"},2*R)},c))}
function gf(a){a=Math.round(a)%4;0>a&&(a+=4);return a}function jf(a){a=Math.round(a)%16;0>a&&(a+=16);return a}function af(a,c){if(!cf(a,null))throw je.push(["fail_"+(a?"backward":"forward"),c]),!1;switch(gf(U+a)){case 0:T--;var d="north";break;case 1:S++;d="east";break;case 2:T++;d="south";break;case 3:S--,d="west"}je.push([d,c])}function bf(a,c){a?(U++,je.push(["right",c])):(U--,je.push(["left",c]));U=gf(U)}
function cf(a,c){switch(gf(U+a)){case 0:var d=X[T-1]&&X[T-1][S];var e="look_north";break;case 1:d=X[T][S+1];e="look_east";break;case 2:d=X[T+1]&&X[T+1][S];e="look_south";break;case 3:d=X[T][S-1],e="look_west"}c&&je.push([e,c]);return 0!==d&&void 0!==d}
window.addEventListener("load",function(){function a(){l.style.top=Math.max(10,m.offsetTop-window.pageYOffset)+"px";l.style.left=k?"10px":"420px";l.style.width=window.innerWidth-440+"px"}function c(n){return function(){window.sessionStorage&&(window.sessionStorage.ts=Md());location=location.protocol+"//"+location.host+location.pathname+"?lang="+M+"&level="+N+"&skin="+n}}document.body.innerHTML=Ge();Ld();document.querySelector("#pegmanButton>img").style.backgroundImage="url("+V.ck+")";for(var d=document.getElementById("pegmanMenu"),
e=0;e<Je.length;e++)if(e!=He){var f=document.createElement("div"),g=document.createElement("img");g.src="common/1x1.gif";g.style.backgroundImage="url("+Je[e].ck+")";f.appendChild(g);d.appendChild(f);h.Qh(f,"mousedown",null,c(e))}h.Qh(window,"resize",null,Te);d=document.getElementById("pegmanButton");h.Qh(d,"mousedown",null,Se);d=document.getElementById("pegmanButtonArrow");e=document.createTextNode(h.Wa.Km);d.appendChild(e);var k=ad(),l=document.getElementById("blockly"),m=document.getElementById("visualization");
window.addEventListener("scroll",function(){a(null);h.wm(w)});window.addEventListener("resize",a);a(null);Rd({maxBlocks:Ie,rtl:k,trashcan:!0,zoom:{startScale:1+(1-N/10)/3}});w.Uc.load(V.Ut,"win");w.Uc.load(V.Xq,"fail");fe(h.H,"go_east,go_west,go_south,go_north,isPathForward,isPathRight,isPathBackward,isPathLeft");Qe();Pd();for(d=0;d<Ke;d++)for(e=0;e<Le;e++)2==X[d][e]?he={x:e,y:d}:3==X[d][e]&&(ie={x:e,y:d});Ue(!0);C(w,function(){var n=cb(w),p=document.getElementById("capacity");if(Infinity==n)p.style.display=
"none";else{p.style.display="inline";p.innerHTML="";n=Number(n);var q=document.createElement("span");q.className="capacityNumber";q.appendChild(document.createTextNode(n));n=(0==n?O("Maze_capacity0"):1==n?O("Maze_capacity1"):O("Maze_capacity2")).split(/%\d/);for(var t=0;t<n.length;t++)p.appendChild(document.createTextNode(n[t])),t!=n.length-1&&p.appendChild(q.cloneNode(!0))}});document.body.addEventListener("mousemove",hf,!0);fd("runButton",Xe);fd("resetButton",Ze);1==N&&(h.kc*=2,h.ku=h.kc);10==N?
cd(N)||(d=document.getElementById("dialogHelpWallFollow"),Q.nm(d,null,!1,!0,{width:"30%",left:"35%",top:"12em"},Q.Fy),Q.Cy(),setTimeout(Q.Hv,3E5)):setTimeout(function(){C(w,Re);Re()},5E3);d=document.getElementById("dialogDoneButtons");e=document.createElement("img");e.id="pegSpin";e.src="common/1x1.gif";e.style.backgroundImage="url("+V.ck+")";d.parentNode.insertBefore(e,d);Zd();$d()});

