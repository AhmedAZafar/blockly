// Automatically generated file.  Do not edit!

'use strict';var b,h={g:{}};h.g.jc={};h.g.jc.gi=function(a){return a*Math.PI/180};h.g.jc.dD=function(a){return 180*a/Math.PI};h.g.jc.gk=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};
h.T={Jb:1,Rc:2,Kb:3,Sc:4};
h.bb={};h.et=40;h.qt=125;h.Bx=5;h.$x=10;h.ac=28;h.Gs=h.ac;h.px=8;h.lo=250;h.mo=10;h.mx=30;h.wy=750;h.$y=100;h.Cx=!0;h.iy=.45;h.jy=.65;h.OF={width:96,height:124,url:"sprites.png"};h.bb.Dd={Id:-1,Wl:0,Ze:1};h.TD=0;h.UD=1;h.RD=1;h.SD=2;h.Ei=[];h.Ei[h.T.Jb]=h.T.Rc;h.Ei[h.T.Rc]=h.T.Jb;h.Ei[h.T.Kb]=h.T.Sc;h.Ei[h.T.Sc]=h.T.Kb;h.Ls=null;h.to=1;h.Ms=2;h.It="VARIABLE";h.mz="VARIABLE_DYNAMIC";h.st="PROCEDURE";h.DF="RENAME_VARIABLE_ID";h.PD="DELETE_VARIABLE_ID";h.bb.Yl="_TEMP_COLLAPSED_INPUT";h.bb.Xl="_TEMP_COLLAPSED_FIELD";h.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
h.M={};h.g.global.Blockly||(h.g.global.Blockly={});h.g.global.Blockly.Msg||(h.g.global.Blockly.Msg=h.M);h.g.hb={};h.g.hb.parse=function(a){a=String(a).toLowerCase().trim();var c=h.g.hb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?h.g.hb.Rr(a,c,d):null};
h.g.hb.Rr=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};h.g.hb.ov=function(a){a=h.g.hb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
h.g.hb.uv=function(a){var c=h.iy,d=255*h.jy,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=m;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=c,g=a}}return h.g.hb.Rr(Math.floor(e),Math.floor(f),Math.floor(g))};
h.g.hb.qp=function(a,c,d){a=h.g.hb.parse(a);if(!a)return null;c=h.g.hb.parse(c);if(!c)return null;a=h.g.hb.ov(a);c=h.g.hb.ov(c);return h.g.hb.Rr(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};h.g.hb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};h.g.R=function(a,c){this.x=a;this.y=c};h.g.R.nf=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};h.g.R.Wp=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};h.g.R.FB=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};h.g.R.Pm=function(a,c){return new h.g.R(a.x-c.x,a.y-c.y)};h.g.R.sum=function(a,c){return new h.g.R(a.x+c.x,a.y+c.y)};h.g.R.prototype.scale=function(a){this.x*=a;this.y*=a;return this};h.g.R.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};h.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};h.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};h.g.Pa={};h.g.Pa.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};h.g.Pa.Yr=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};h.g.Pa.Zz=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Pa.Yr(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
h.g.Pa.$z=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Pa.Yr(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};h.g.Pa.pD=function(a){var c=h.G.uy;a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=h.g.Pa.qD(a[d],c);return a.join("\n")};
h.g.Pa.qD=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=h.g.Pa.Ww(d,a,c);e=h.g.Pa.rs(d,a,c);a=h.g.Pa.rD(d,a);f++}while(e>g);return k};
h.g.Pa.rs=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
h.g.Pa.Ww=function(a,c,d){for(var e=h.g.Pa.rs(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=h.g.Pa.rs(a,k,d);l>e&&(e=l,f=k)}return f?h.g.Pa.Ww(a,f,d):c};h.g.Pa.rD=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};h.g.Uc=function(a,c){this.width=a;this.height=c};h.g.Uc.nf=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};h.g.style={};h.g.style.qf=function(a){if("none"!=h.g.style.dv(a,"display"))return h.g.style.bv(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new h.g.Uc(g,a)};h.g.style.bv=function(a){return new h.g.Uc(a.offsetWidth,a.offsetHeight)};h.g.style.dv=function(a,c){return h.g.style.getComputedStyle(a,c)||h.g.style.OA(a,c)||a.style&&a.style[c]};
h.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};h.g.style.OA=function(a,c){return a.currentStyle?a.currentStyle[c]:null};h.g.style.Bh=function(a){var c=new h.g.R(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new h.g.R(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
h.g.style.aB=function(){var a=document.body,c=document.documentElement;return new h.g.R(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};h.g.style.GH=function(a,c){a.style.display=c?"":"none"};h.g.style.mH=function(a){return"rtl"==h.g.style.dv(a,"direction")};
h.g.style.LA=function(a){var c=h.g.style.getComputedStyle(a,"borderLeftWidth"),d=h.g.style.getComputedStyle(a,"borderRightWidth"),e=h.g.style.getComputedStyle(a,"borderTopWidth");a=h.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};h.g.style.KC=function(a,c){a=h.g.style.QA(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
h.g.style.QA=function(a,c){var d=h.g.style.Bh(a),e=h.g.style.Bh(c),f=h.g.style.LA(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=h.g.style.bv(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new h.g.R(f,k)};h.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}h.g.userAgent.raw=a;var d=h.g.userAgent.raw.toUpperCase();h.g.userAgent.Gd=c("Trident")||c("MSIE");h.g.userAgent.bh=c("Edge");h.g.userAgent.sy=c("JavaFX");h.g.userAgent.GD=(c("Chrome")||c("CriOS"))&&!h.g.userAgent.bh;h.g.userAgent.Mt=c("WebKit")&&!h.g.userAgent.bh;h.g.userAgent.ay=c("Gecko")&&!h.g.userAgent.Mt&&!h.g.userAgent.Gd&&!h.g.userAgent.bh;h.g.userAgent.Ql=c("Android");h.g.userAgent.Oj=c("iPad");h.g.userAgent.bt=c("iPod");h.g.userAgent.at=
c("iPhone")&&!h.g.userAgent.Oj&&!h.g.userAgent.bt;h.g.userAgent.xy=c("Macintosh");h.g.userAgent.fz=h.g.userAgent.Oj||h.g.userAgent.Ql&&!c("Mobile")||c("Silk");h.g.userAgent.VE=!h.g.userAgent.fz&&(h.g.userAgent.bt||h.g.userAgent.at||h.g.userAgent.Ql||c("IEMobile"))})(h.g.global.navigator&&h.g.global.navigator.userAgent||"");
h.g.SB=function(a){a.preventDefault();a.stopPropagation()};h.g.nn=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.oH};
h.g.Rd=function(a){var c=new h.g.R(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(h.g.Rd.nz))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(h.g.Rd.oz))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
h.g.tq=function(a){for(var c=0,d=0;a;){var e=h.g.Rd(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new h.g.R(c,d)};h.g.Rd.nz=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;h.g.Rd.oz=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;h.g.Qk=function(a){return a.ctrlKey&&h.g.userAgent.xy?!0:2==a.button};
h.g.al=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};h.g.YA=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*h.et,y:a.deltaY*h.et};case 2:return{x:a.deltaX*h.qt,y:a.deltaY*h.qt}}};h.g.eD=function(a){return h.g.js(a,!0)};h.g.Lc=function(a){if("string"!=typeof a)return a;a=h.g.js(a,!1);return a.length?String(a[0]):""};
h.g.fu=function(a){for(var c=h.M,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+d[e]+" in "+a)};
h.g.js=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=h.g.Pa.startsWith(l,"BKY_")?
l.substring(4):null)&&l in h.M?(f=h.M[l],"string"==typeof f?Array.prototype.push.apply(d,h.g.js(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};h.g.pf=function(){for(var a=h.g.pf.Dw.length,c=[],d=0;20>d;d++)c[d]=h.g.pf.Dw.charAt(Math.random()*a);return c.join("")};
h.g.pf.Dw="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
h.g.Kh=function(){if(void 0!==h.g.Kh.yp)return h.g.Kh.yp;if(!h.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=h.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
h.g.Kh.yp="none"!==c;return h.g.Kh.yp};h.g.zw=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};h.g.$A=function(){var a=h.g.style.aB();return new h.g.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};
h.g.ck=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};h.g.TA=function(){var a=document.documentElement,c=window;return h.g.userAgent.Gd&&c.pageYOffset!=a.scrollTop?new h.g.R(a.scrollLeft,a.scrollTop):new h.g.R(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};h.g.Su=function(a){var c=Object.create(null),d=p(a,!0);if(a=u(a))a=d.indexOf(a),d.splice(a,d.length-a);a=0;for(var e;e=d[a];a++)c[e.type]?c[e.type]++:c[e.type]=1;return c};
h.g.DH=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new h.g.R(d-e.left,c-e.top);c=h.g.tq(a.xb);return h.g.R.Pm(d,c).scale(1/a.scale)};h.g.Gn=function(a){var c="string"==typeof a?h.g.Lc(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{nB:d,Ik:h.g.hb.uv(d)};if(d=h.g.hb.parse(c))return{nB:null,Ik:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};h.Touch={};h.Touch.Et="ontouchstart"in h.g.global||!!(h.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!h.g.global.navigator||!h.g.global.navigator.maxTouchPoints&&!h.g.global.navigator.msMaxTouchPoints);h.Touch.Jl=null;h.Touch.le={};
h.g.global.PointerEvent?h.Touch.le={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:h.Touch.Et&&(h.Touch.le={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});h.sn=0;
h.EB=function(a,c){h.zg();a.changedTouches&&1!=a.changedTouches.length||(h.sn=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&ba(c,a)},h.wy))};h.zg=function(){h.sn&&(clearTimeout(h.sn),h.sn=0)};h.Touch.Dm=function(){h.Touch.Jl=null};h.Touch.Zr=function(a){return!h.Touch.xB(a)||h.Touch.Vz(a)};
h.Touch.$m=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};h.Touch.Vz=function(a){var c=h.Touch.$m(a);return void 0!==h.Touch.Jl&&null!==h.Touch.Jl?h.Touch.Jl==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(h.Touch.Jl=c,!0):!1};
h.Touch.NC=function(a){if(h.g.Pa.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};h.Touch.xB=function(a){return h.g.Pa.startsWith(a.type,"touch")||h.g.Pa.startsWith(a.type,"mouse")||h.g.Pa.startsWith(a.type,"pointer")};h.Touch.pn=function(a){return h.g.Pa.startsWith(a.type,"touch")||h.g.Pa.startsWith(a.type,"pointer")};
h.Touch.VC=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};h.S={};h.S.Ma=function(a,c,d,e,f,g){function k(t){var G=!f;t=h.Touch.VC(t);for(var N=0,T;T=t[N];N++)if(!G||h.Touch.Zr(T))h.Touch.NC(T),d?e.call(d,T):e(T),l=!0}var l=!1,m=[];if(h.g.global.PointerEvent&&c in h.Touch.le)for(var n=0,r;r=h.Touch.le[c][n];n++)a.addEventListener(r,k,!1),m.push([a,r,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in h.Touch.le){var q=function(t){k(t);var G=!g;l&&G&&t.preventDefault()};for(n=0;r=h.Touch.le[c][n];n++)a.addEventListener(r,q,!1),m.push([a,r,q])}return m};
h.S.bind=function(a,c,d,e){function f(n){d?e.call(d,n):e(n)}var g=[];if(h.g.global.PointerEvent&&c in h.Touch.le)for(var k=0,l;l=h.Touch.le[c][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(c,f,!1),g.push([a,c,f]),c in h.Touch.le){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var r=n.changedTouches[0];n.clientX=r.clientX;n.clientY=r.clientY}f(n);n.preventDefault()};for(k=0;l=h.Touch.le[c][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
h.S.ub=function(a){for(;a.length;){var c=a.pop(),d=c[2];c[0].removeEventListener(c[1],d,!1)}return d};
h.v={};h.v.Bj={};h.v.cm="default";h.v.N=function(a){this.gr=a};h.v.N.prototype.toString=function(){return this.gr};h.v.N.Hs=new h.v.N("connectionChecker");h.v.N.Ij=new h.v.N("cursor");h.v.N.Ab=new h.v.N("event");h.v.N.qc=new h.v.N("field");h.v.N.RENDERER=new h.v.N("renderer");h.v.N.gz=new h.v.N("toolbox");h.v.N.$o=new h.v.N("theme");h.v.N.XF=new h.v.N("toolboxItem");h.v.N.Zx=new h.v.N("flyoutsVerticalToolbox");h.v.N.Yx=new h.v.N("flyoutsHorizontalToolbox");h.v.N.jt=new h.v.N("metricsManager");
h.v.register=function(a,c,d,e){if(!(a instanceof h.v.N)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof c||""==c.trim())throw Error('Invalid name "'+c+'". The name must be a non-empty string.');c=c.toLowerCase();if(!d)throw Error("Can not register a null value");var f=h.v.Bj[a];f||(f=h.v.Bj[a]={});h.v.mD(a,d);if(!e&&f[c])throw Error('Name "'+c+'" with type "'+
a+'" already registered.');f[c]=d};h.v.mD=function(a,c){switch(a){case String(h.v.N.qc):if("function"!=typeof c.aa)throw Error('Type "'+a+'" must have a fromJson function');}};h.v.unregister=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=h.v.Bj[a];d&&d[c]?delete h.v.Bj[a][c]:console.warn("Unable to unregister ["+c+"]["+a+"] from the registry.")};
h.v.Wu=function(a,c,d){a=String(a).toLowerCase();c=c.toLowerCase();var e=h.v.Bj[a];if(!e||!e[c]){c="Unable to find ["+c+"]["+a+"] in the registry.";if(d)throw Error(c+" You must require or register a "+a+" plugin.");console.warn(c);return null}return e[c]};h.v.aH=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();return(a=h.v.Bj[a])?!!a[c]:!1};h.v.nq=function(a,c,d){return h.v.Wu(a,c,d)};h.v.wq=function(a,c){return h.v.Wu(a,c,void 0)};
h.v.bj=function(a,c,d){c=c.plugins[a.toString()]||h.v.cm;return"function"==typeof c?c:h.v.nq(a,c,d)};h.h={};h.h.hv="";h.h.Ga=!0;h.h.Sp=0;h.h.Hj="create";h.h.ri=h.h.Hj;h.h.ah="delete";h.h.zs=h.h.ah;h.h.ui="change";h.h.Ug=h.h.ui;h.h.Tj="move";h.h.Vg=h.h.Tj;h.h.qm="var_create";h.h.rm="var_delete";h.h.gp="var_rename";h.h.ep="ui";h.h.Sl="drag";h.h.Gi="selected";h.h.Fj="click";h.h.Jo="marker_move";h.h.Bs="bubble_open";h.h.ZF="trashcan_open";h.h.YF="toolbox_item_select";h.h.ap="theme_change";h.h.sm="viewport_change";h.h.Zl="comment_create";h.h.Fs="comment_delete";h.h.Es="comment_change";h.h.Gj="comment_move";
h.h.xo="finished_loading";h.h.lx=[h.h.ri,h.h.Vg,h.h.Zl,h.h.Gj];h.h.Mj=[];h.h.Ha=function(a){h.h.isEnabled()&&(h.h.Mj.length||setTimeout(h.h.FA,0),h.h.Mj.push(a))};h.h.FA=function(){for(var a=h.h.filter(h.h.Mj,!0),c=h.h.Mj.length=0,d;d=a[c];c++)if(d.Ob){var e=h.fb.Ck(d.Ob);if(e){var f=d;if(f.Ga)for(e.ki.push(f),e.ml.length=0;e.ki.length>e.gt&&0<=e.gt;)e.ki.shift();for(var g=0;d=e.wf[g];g++)d(f)}}};
h.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.pj()){var k=[g.Dv?h.h.ep:g.type,g.Xa,g.Ob].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==h.h.Tj&&l.index==f-1)m.Vh=g.Vh,m.Uh=g.Uh,m.Cg=g.Cg,l.index=f;else if(g.type==h.h.ui&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type!=h.h.Fj||m.type!=h.h.Bs)e[k]={event:g,index:f},d.push(g)}a=d.filter(function(n){return!n.pj()});c||a.reverse();
for(f=1;g=a[f];f++)g.type==h.h.ui&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};h.h.Xz=function(){for(var a=0,c;c=h.h.Mj[a];a++)c.Ga=!1};h.h.disable=function(){h.h.Sp++};h.h.enable=function(){h.h.Sp--};h.h.isEnabled=function(){return 0==h.h.Sp};h.h.Nb=function(){return h.h.hv};h.h.sa=function(a){h.h.hv="boolean"==typeof a?a?h.g.pf():"":a};h.h.Tu=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};
h.h.aa=function(a){var c=h.h.get(a.type);if(!c)throw Error("Unknown event type.");c=new c;c.aa(a);c.Ob=(void 0).id;return c};h.h.get=function(a){return h.v.nq(h.v.N.Ab,a)};h.h.MG=function(a){if((a.type==h.h.Tj||a.type==h.h.Hj)&&a.Ob){var c=h.fb.Ck(a.Ob),d=c.Gc(a.Xa);if(d){a=h.h.Ga;try{h.h.Ga=!1;var e=d.getParent();if(e&&e.isEnabled()){var f=p(d,!1);c=0;for(var g;g=f[c];c++)g.Cf(!0)}else if((d.O||d.V)&&!c.ad()){do d.Cf(!1),d=u(d);while(d)}}finally{h.h.Ga=a}}}};
h.h.Abstract=function(){this.$c=null;this.Ob=void 0;this.group=h.h.Nb();this.Ga=h.h.Ga};b=h.h.Abstract.prototype;b.Dv=!1;b.qa=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};b.aa=function(a){this.$c=!1;this.group=a.group};b.pj=function(){return!1};b.run=function(){};function v(a){if(a.Ob)var c=h.fb.Ck(a.Ob);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};h.g.object={};h.g.object.U=function(a,c){a.u=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};h.g.object.Bg=function(a,c){for(var d in c)a[d]=c[d]};h.g.object.Wi=function(a,c){for(var d in c)a[d]=null!=c[d]&&"object"===typeof c[d]?h.g.object.Wi(a[d]||Object.create(null),c[d]):c[d];return a};h.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};h.g.xml={};h.g.xml.Ey="https://developers.google.com/blockly/xml";h.g.xml.document=function(){return document};h.g.xml.createElement=function(a){return h.g.xml.document().createElementNS(h.g.xml.Ey,a)};h.g.xml.createTextNode=function(a){return h.g.xml.document().createTextNode(a)};h.g.xml.bD=function(a){return(new DOMParser).parseFromString(a,"text/xml")};h.g.xml.we=function(a){return(new XMLSerializer).serializeToString(a)};h.Ia={oe:h.T.Jb,Tc:h.T.Kb,ge:5};h.g.F=function(a){this.aD=a};h.g.F.prototype.toString=function(){return this.aD};h.g.F.ho=new h.g.F("animate");h.g.F.Ds=new h.g.F("circle");h.g.F.HD=new h.g.F("clipPath");h.g.F.Ks=new h.g.F("defs");h.g.F.uo=new h.g.F("feComposite");h.g.F.Nx=new h.g.F("feComponentTransfer");h.g.F.Ox=new h.g.F("feFlood");h.g.F.Px=new h.g.F("feFuncA");h.g.F.Qx=new h.g.F("feGaussianBlur");h.g.F.Rx=new h.g.F("fePointLight");h.g.F.Sx=new h.g.F("feSpecularLighting");h.g.F.Ss=new h.g.F("filter");h.g.F.rE=new h.g.F("foreignObject");
h.g.F.Qc=new h.g.F("g");h.g.F.Bo=new h.g.F("image");h.g.F.Rj=new h.g.F("line");h.g.F.Xe=new h.g.F("path");h.g.F.rt=new h.g.F("pattern");h.g.F.Ny=new h.g.F("polygon");h.g.F.Sb=new h.g.F("rect");h.g.F.Yj=new h.g.F("svg");h.g.F.Dt=new h.g.F("text");h.g.F.Ft=new h.g.F("tspan");h.g.j={};h.g.j.om="http://www.w3.org/2000/svg";h.g.j.zo="http://www.w3.org/1999/xhtml";h.g.j.nh="http://www.w3.org/1999/xlink";h.g.j.Wf={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};h.g.j.Ld=null;h.g.j.vp=0;h.g.j.Am=null;h.g.j.L=function(a,c,d){a=document.createElementNS(h.g.j.om,String(a));for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
h.g.j.Bb=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};h.g.j.xH=function(a,c){c=c.split(" ");for(var d=0;d<c.length;d++)h.g.j.Kc(a,c[d])};h.g.j.Kc=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};
h.g.j.Cq=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};h.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};h.g.j.Lk=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};h.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&h.g.j.Wf.DOCUMENT_POSITION_CONTAINED_BY)};
h.g.j.Nn=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};h.g.j.Al=function(){h.g.j.vp++;h.g.j.Ld||(h.g.j.Ld={})};h.g.j.Bl=function(){h.g.j.vp--;h.g.j.vp||(h.g.j.Ld=null)};h.g.j.$G=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(h.g.j.Ld&&(d=h.g.j.Ld[c]))return d;try{d=h.g.userAgent.Gd||h.g.userAgent.bh?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}h.g.j.Ld&&(h.g.j.Ld[c]=d);return d};
h.g.j.rq=function(a,c,d,e){return h.g.j.UA(a,c+"pt",d,e)};h.g.j.UA=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(h.g.j.Ld&&(g=h.g.j.Ld[a]))return g;h.g.j.Am||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),h.g.j.Am=g.getContext("2d"));h.g.j.Am.font=d+" "+c+" "+e;g=h.g.j.Am.measureText(f).width;h.g.j.Ld&&(h.g.j.Ld[a]=g);return g};
h.g.j.IB=function(a,c,d){var e=document.createElement("span");e.style.font=c+" "+a+" "+d;e.textContent="Hg";a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(e);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.Kd=a.offsetTop-e.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(c)}return d};h.I={};h.I.oD=function(){var a=w,c=h.g.xml.createElement("xml"),d=h.I.nD(h.oa.yz(a));d.hasChildNodes()&&c.appendChild(d);var e=[].concat(a.Zn);1<e.length&&(a.Je.offset=Math.sin(h.g.jc.gi(h.fb.ut)),a.K&&(a.Je.offset*=-1),e.sort(a.Je));d=0;for(var f;f=e[d];d++)c.appendChild(f.Iw(!0));a=a.Vb(!0);for(d=0;e=a[d];d++)c.appendChild(h.I.sp(e,!0));return c};
h.I.nD=function(a){for(var c=h.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=h.g.xml.createElement("variable");f.appendChild(h.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.xc();c.appendChild(f)}return c};h.I.sp=function(a,c){if(a.wd()&&(a=x(a,!1)[0],!a))return new DocumentFragment;var d;a.A.K&&(d=a.A.cn());c=h.I.fg(a,c);var e=a.$a();c.setAttribute("x",Math.round(a.A.K?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
h.I.DA=function(a){var c=!1;a.name&&(a.vt?c=!0:a.Jj&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=h.g.xml.createElement("field"),c.setAttribute("name",a.name||""),c.textContent=a.getValue(),c):null};h.I.wz=function(a,c){for(var d=0,e;e=a.P[d];d++)for(var f=0,g;g=e.Ua[f];f++)(g=h.I.DA(g))&&c.appendChild(g)};
h.I.fg=function(a,c){if(a.wd())return(a=x(a,!1)[0])?h.I.fg(a):new DocumentFragment;var d=h.g.xml.createElement(a.Ja?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.kc){var e=a.kc();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}h.I.wz(a,d);if(e=a.jf.text){var f=a.jf.size,g=a.jf.jw,k=h.g.xml.createElement("comment");k.appendChild(h.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&
(e=h.g.xml.createElement("data"),e.appendChild(h.g.xml.createTextNode(a.data)),d.appendChild(e));for(e=0;f=a.P[e];e++){var l;g=!0;if(f.type!=h.Ia.ge){var m=f.connection.va();f.type==h.Ia.oe?l=h.g.xml.createElement("value"):f.type==h.Ia.Tc&&(l=h.g.xml.createElement("statement"));k=f.connection.ej();!k||m&&m.Ja||l.appendChild(h.I.ju(k,c));m&&(k=h.I.fg(m,c),k.nodeType==h.g.j.Wf.ELEMENT_NODE&&(l.appendChild(k),g=!1));l.setAttribute("name",f.name);g||d.appendChild(l)}}void 0!=a.tf&&a.tf!=a.tB&&d.setAttribute("inline",
a.tf);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.Ic()||a.Ja||d.setAttribute("deletable",!1);a.hc()||a.Ja||d.setAttribute("movable",!1);a.vd()||d.setAttribute("editable",!1);if(e=u(a))k=h.I.fg(e,c),k.nodeType==h.g.j.Wf.ELEMENT_NODE&&(l=h.g.xml.createElement("next"),l.appendChild(k),d.appendChild(l));k=a.X&&a.X.ej();!k||e&&e.Ja||l.appendChild(h.I.ju(k,c));return d};
h.I.ju=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==h.g.j.Wf.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&h.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==h.g.j.Wf.TEXT_NODE&&""==e.data.trim()&&h.g.j.removeNode(e))}return a};h.I.we=function(a){return h.g.xml.we(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};
h.I.NG=function(a){a=h.I.we(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};h.I.Ne=function(a){var c=h.g.xml.bD(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};
h.I.yG=function(a,c){c.Nc(!1);c.clear();a=h.I.mg(a,c);c.Nc(!0);return a};
h.I.mg=function(a,c){if(a instanceof h.fb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.K&&(e=c.cn());d=[];h.g.j.Al();var f=h.h.Nb();f||h.h.sa(!0);c.Nc&&c.Nc(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!h.h.Ga){var r=h.I.Tm(n,c);d.push(r.id);var q=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,t=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(q)||
isNaN(t)||r.moveBy(c.K?e-q:q,t);g=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.ra?h.Li?h.Li.Bk(n):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):h.Qt?h.Qt.Bk(n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(g)h.I.wA(n,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||h.h.sa(!1),h.g.j.Bl()}c.Nc&&c.Nc(!0);h.h.Ha(new (h.h.get(h.h.xo))(c));return d};h.I.nG=function(a,c){var d;Object.prototype.hasOwnProperty.call(c,"scale")&&(d=ca(c));a=h.I.mg(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.K?d.right:d.left;var g=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var m=c.Gc(a[d]).$a();m.y<l&&(l=m.y);m.x<g&&(g=m.x);m.x>k&&(k=m.x)}e=e-l+10;f=c.K?f-k:f-g;for(d=0;d<a.length;d++)c.Gc(a[d]).moveBy(f,e)}return a};
h.I.Tm=function(a,c){if(a instanceof h.fb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}h.h.disable();d=c.aj();try{var e=h.I.Yp(a,c),f=p(e,!1);if(c.ra){da(e,!1);for(var g=f.length-1;0<=g;g--)f[g].Jh();for(g=f.length-1;0<=g;g--)f[g].Ea(!1);setTimeout(function(){e.mf||da(e,!0)},1);y(e);ea(c)}else for(g=f.length-1;0<=g;g--);}finally{h.h.enable()}if(h.h.isEnabled()){a=h.oa.JA(c,d);for(g=0;g<a.length;g++)c=a[g],h.h.Ha(new (h.h.get(h.h.qm))(c));h.h.Ha(new (h.h.get(h.h.Hj))(e))}return e};
h.I.wA=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==h.g.j.Wf.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.Md(e.textContent,f,g)}};
h.I.GB=function(a){for(var c={Rv:[],rh:[],data:[],$i:[],input:[],next:[]},d=0,e;e=a.childNodes[d];d++)if(e.nodeType!=h.g.j.Wf.TEXT_NODE)switch(e.nodeName.toLowerCase()){case "mutation":c.Rv.push(e);break;case "comment":if(!h.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}c.rh.push(e);break;case "data":c.data.push(e);break;case "title":case "field":c.$i.push(e);break;case "value":case "statement":c.input.push(e);break;case "next":c.next.push(e);break;default:console.warn("Ignoring unknown tag: "+
e.nodeName)}return c};h.I.Dz=function(a,c){for(var d=!1,e=0,f;f=a[e];e++)c.Yc&&(c.Yc(f),c.Jh&&(d=!0));return d};h.I.zz=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.textContent,g="true"==e.getAttribute("pinned"),k=parseInt(e.getAttribute("w"),10);e=parseInt(e.getAttribute("h"),10);c.xj(f);c.jf.jw=g;isNaN(k)||isNaN(e)||(c.jf.size=new h.g.Uc(k,e));g&&c.PA&&!c.bd&&setTimeout(function(){c.rd.Xb(!0)},1)}};h.I.Az=function(a,c){for(var d=0,e;e=a[d];d++)c.data=e.textContent};
h.I.Bz=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.getAttribute("name");h.I.vA(c,f,e)}};h.I.Ou=function(a){for(var c={ek:null,fk:null},d=0,e;e=a.childNodes[d];d++)e.nodeType==h.g.j.Wf.ELEMENT_NODE&&("block"==e.nodeName.toLowerCase()?c.ek=e:"shadow"==e.nodeName.toLowerCase()&&(c.fk=e));return c};
h.I.Cz=function(a,c,d,e){for(var f=0,g;g=a[f];f++){var k=g.getAttribute("name"),l=fa(d,k);if(!l){console.warn("Ignoring non-existent input "+k+" in block "+e);break}g=h.I.Ou(g);if(g.ek){if(!l.connection)throw TypeError("Input connection does not exist.");h.I.Yp(g.ek,c,l.connection,!1)}g.fk&&l.connection.ul(g.fk)}};
h.I.Ez=function(a,c,d){for(var e=0,f;f=a[e];e++){f=h.I.Ou(f);if(f.ek){if(!d.X)throw TypeError("Next statement does not exist.");if(d.X.isConnected())throw TypeError("Next statement is already connected.");h.I.Yp(f.ek,c,d.X,!0)}f.fk&&d.X&&d.X.ul(f.fk)}};
h.I.Yp=function(a,c,d,e){var f=a.getAttribute("type");if(!f)throw TypeError("Block type unspecified: "+a.outerHTML);var g=a.getAttribute("id");g=c.tj(f,g);var k=h.I.GB(a),l=h.I.Dz(k.Rv,g);h.I.zz(k.rh,g);h.I.Az(k.data,g);if(d)if(e)if(g.V)d.connect(g.V);else throw TypeError("Next block does not have previous statement.");else if(g.O)d.connect(g.O);else if(g.V)d.connect(g.V);else throw TypeError("Child block does not have output or previous statement.");h.I.Bz(k.$i,g);h.I.Cz(k.input,c,g,f);h.I.Ez(k.next,
c,g);l&&g.Jh();(c=a.getAttribute("inline"))&&g.Mg("true"==c);(c=a.getAttribute("disabled"))&&g.Cf("true"!=c&&"disabled"!=c);if(c=a.getAttribute("deletable"))g.Mp="true"==c;(c=a.getAttribute("movable"))&&g.Vr("true"==c);(c=a.getAttribute("editable"))&&g.Tr("true"==c);(c=a.getAttribute("collapsed"))&&g.bi("true"==c);if("shadow"==a.nodeName.toLowerCase()){a=x(g,!1);for(c=0;d=a[c];c++)if(!d.Ja)throw TypeError("Shadow block not allowed non-shadow child.");if(ha(g).length)throw TypeError("Shadow blocks cannot have variable references.");
g.Xr(!0)}return g};h.I.vA=function(a,c,d){var e=z(a,c);e?e.Bk(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};h.I.pA=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};h.h.ae=function(a){h.h.ae.u.constructor.call(this);this.Xa=(this.$c="undefined"==typeof a)?"":a.id;this.Ob=this.$c?"":a.A.id};h.g.object.U(h.h.ae,h.h.Abstract);h.h.ae.prototype.qa=function(){var a=h.h.ae.u.qa.call(this);a.blockId=this.Xa;return a};h.h.ae.prototype.aa=function(a){h.h.ae.u.aa.call(this,a);this.Xa=a.blockId};
h.h.$g=function(a,c,d,e,f){h.h.$g.u.constructor.call(this,a);a&&(this.element="undefined"==typeof c?"":c,this.name="undefined"==typeof d?"":d,this.oldValue="undefined"==typeof e?"":e,this.newValue="undefined"==typeof f?"":f)};h.g.object.U(h.h.$g,h.h.ae);h.h.zD=h.h.$g;b=h.h.$g.prototype;b.type=h.h.ui;b.qa=function(){var a=h.h.$g.u.qa.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};
b.aa=function(a){h.h.$g.u.aa.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};b.pj=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=v(this).Gc(this.Xa);if(c)switch(c.Wd&&c.Wd.Xb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=z(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.xj(a||null);break;case "collapsed":c.bi(!!a);break;case "disabled":c.Cf(!a);break;case "inline":c.Mg(!!a);break;case "mutation":var d="";c.kc&&(d=(d=c.kc())&&h.I.we(d));if(c.Yc){var e=h.I.Ne(a||"<mutation/>");c.Yc(e)}h.h.Ha(new (h.h.get(h.h.ui))(c,"mutation",
null,d,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.Xa)};h.h.ee=function(a){h.h.ee.u.constructor.call(this,a);a&&(a.Ja&&(this.Ga=!1),this.xml=a.A.ra?h.I.sp(a):h.I.fg(a),this.Hh=h.h.Tu(a))};h.g.object.U(h.h.ee,h.h.ae);h.h.AD=h.h.ee;h.h.ee.prototype.type=h.h.Hj;h.h.ee.prototype.qa=function(){var a=h.h.ee.u.qa.call(this);a.xml=h.I.we(this.xml);a.ids=this.Hh;this.Ga||(a.recordUndo=this.Ga);return a};
h.h.ee.prototype.aa=function(a){h.h.ee.u.aa.call(this,a);this.xml=h.I.Ne(a.xml);this.Hh=a.ids;void 0!==a.recordUndo&&(this.Ga=a.recordUndo)};h.h.ee.prototype.run=function(a){var c=v(this);if(a)a=h.g.xml.createElement("xml"),a.appendChild(this.xml),h.I.mg(a,c);else{a=0;for(var d;d=this.Hh[a];a++){var e=c.Gc(d);e?e.H(!1):d==this.Xa&&console.warn("Can't uncreate non-existent block: "+d)}}};
h.h.ie=function(a){h.h.ie.u.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.Ja&&(this.Ga=!1);this.pr=a.A.ra?h.I.sp(a):h.I.fg(a);this.Hh=h.h.Tu(a)}};h.g.object.U(h.h.ie,h.h.ae);h.h.BD=h.h.ie;h.h.ie.prototype.type=h.h.ah;h.h.ie.prototype.qa=function(){var a=h.h.ie.u.qa.call(this);a.oldXml=h.I.we(this.pr);a.ids=this.Hh;this.Ga||(a.recordUndo=this.Ga);return a};
h.h.ie.prototype.aa=function(a){h.h.ie.u.aa.call(this,a);this.pr=h.I.Ne(a.oldXml);this.Hh=a.ids;void 0!==a.recordUndo&&(this.Ga=a.recordUndo)};h.h.ie.prototype.run=function(a){var c=v(this);if(a){a=0;for(var d;d=this.Hh[a];a++){var e=c.Gc(d);e?e.H(!1):d==this.Xa&&console.warn("Can't delete non-existent block: "+d)}}else a=h.g.xml.createElement("xml"),a.appendChild(this.pr),h.I.mg(a,c)};
h.h.fh=function(a){h.h.fh.u.constructor.call(this,a);a&&(a.Ja&&(this.Ga=!1),a=ia(this),this.Zv=a.fw,this.Wv=a.vv,this.kr=a.vu)};h.g.object.U(h.h.fh,h.h.ae);h.h.CD=h.h.fh;b=h.h.fh.prototype;b.type=h.h.Tj;b.qa=function(){var a=h.h.fh.u.qa.call(this);this.Vh&&(a.newParentId=this.Vh);this.Uh&&(a.newInputName=this.Uh);this.Cg&&(a.newCoordinate=Math.round(this.Cg.x)+","+Math.round(this.Cg.y));this.Ga||(a.recordUndo=this.Ga);return a};
b.aa=function(a){h.h.fh.u.aa.call(this,a);this.Vh=a.newParentId;this.Uh=a.newInputName;if(a.newCoordinate){var c=a.newCoordinate.split(",");this.Cg=new h.g.R(Number(c[0]),Number(c[1]))}void 0!==a.recordUndo&&(this.Ga=a.recordUndo)};b.Zh=function(){var a=ia(this);this.Vh=a.fw;this.Uh=a.vv;this.Cg=a.vu};function ia(a){var c=v(a).Gc(a.Xa);a={};var d=c.getParent();if(d){if(a.fw=d.id,c=ja(d,c))a.vv=c.name}else a.vu=c.$a();return a}
b.pj=function(){return this.Zv==this.Vh&&this.Wv==this.Uh&&h.g.R.nf(this.kr,this.Cg)};
b.run=function(a){var c=v(this),d=c.Gc(this.Xa);if(d){var e=a?this.Vh:this.Zv,f=a?this.Uh:this.Wv,g=a?this.Cg:this.kr;a=null;if(e&&(a=c.Gc(e),!a)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&A(d);if(g)f=d.$a(),d.moveBy(g.x-f.x,g.y-f.y);else{d=d.O||d.V;c=d.type;if(f){if(a=fa(a,f))var k=a.connection}else c==h.T.Sc&&(k=a.X);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.Xa)};
h.v.register(h.v.N.Ab,h.h.Hj,h.h.ee);h.v.register(h.v.N.Ab,h.h.ah,h.h.ie);h.v.register(h.v.N.Ab,h.h.ui,h.h.$g);h.v.register(h.v.N.Ab,h.h.Tj,h.h.fh);h.h.Nj=function(a){this.$c="undefined"==typeof a;this.Ob=a?a.id:"";this.group=h.h.Nb();this.Ga=!1};h.g.object.U(h.h.Nj,h.h.Abstract);h.h.Nj.prototype.type=h.h.xo;h.h.Nj.prototype.qa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Ob&&(a.workspaceId=this.Ob);return a};h.h.Nj.prototype.aa=function(a){this.$c=!1;this.Ob=a.workspaceId;this.group=a.group};h.v.register(h.v.N.Ab,h.h.xo,h.h.Nj);h.h.ne=function(a){h.h.ne.u.constructor.call(this);this.$c="undefined"==typeof a;this.Ob=a?a:"";this.Ga=!1};h.g.object.U(h.h.ne,h.h.Abstract);h.h.ne.prototype.Dv=!0;h.h.cg=function(a,c,d,e){h.h.cg.u.constructor.call(this,a?a.A.id:void 0);this.Xa=a?a.id:null;this.element="undefined"==typeof c?"":c;this.oldValue="undefined"==typeof d?"":d;this.newValue="undefined"==typeof e?"":e};h.g.object.U(h.h.cg,h.h.ne);h.h.cg.prototype.type=h.h.ep;
h.h.cg.prototype.qa=function(){var a=h.h.cg.u.qa.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.Xa&&(a.blockId=this.Xa);return a};h.h.cg.prototype.aa=function(a){h.h.cg.u.aa.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Xa=a.blockId};h.v.register(h.v.N.Ab,h.h.ep,h.h.cg);h.h.bf=function(a){h.h.bf.u.constructor.call(this);this.Rg=(this.$c="undefined"==typeof a)?"":a.xc();this.Ob=this.$c?"":a.A.id};h.g.object.U(h.h.bf,h.h.Abstract);h.h.bf.prototype.qa=function(){var a=h.h.bf.u.qa.call(this);a.varId=this.Rg;return a};h.h.bf.prototype.aa=function(a){h.h.bf.u.qa.call(this);this.Rg=a.varId};h.h.cf=function(a){h.h.cf.u.constructor.call(this,a);a&&(this.mi=a.type,this.li=a.name)};h.g.object.U(h.h.cf,h.h.bf);h.h.cf.prototype.type=h.h.qm;
h.h.cf.prototype.qa=function(){var a=h.h.cf.u.qa.call(this);a.varType=this.mi;a.varName=this.li;return a};h.h.cf.prototype.aa=function(a){h.h.cf.u.aa.call(this,a);this.mi=a.varType;this.li=a.varName};h.h.cf.prototype.run=function(a){var c=v(this);a?c.Md(this.li,this.mi,this.Rg):c.Xi(this.Rg)};h.h.df=function(a){h.h.df.u.constructor.call(this,a);a&&(this.mi=a.type,this.li=a.name)};h.g.object.U(h.h.df,h.h.bf);h.h.df.prototype.type=h.h.rm;
h.h.df.prototype.qa=function(){var a=h.h.df.u.qa.call(this);a.varType=this.mi;a.varName=this.li;return a};h.h.df.prototype.aa=function(a){h.h.df.u.aa.call(this,a);this.mi=a.varType;this.li=a.varName};h.h.df.prototype.run=function(a){var c=v(this);a?c.Xi(this.Rg):c.Md(this.li,this.mi,this.Rg)};h.h.ef=function(a,c){h.h.ef.u.constructor.call(this,a);a&&(this.lr=a.name,this.hr="undefined"==typeof c?"":c)};h.g.object.U(h.h.ef,h.h.bf);h.h.ef.prototype.type=h.h.gp;
h.h.ef.prototype.qa=function(){var a=h.h.ef.u.qa.call(this);a.oldName=this.lr;a.newName=this.hr;return a};h.h.ef.prototype.aa=function(a){h.h.ef.u.aa.call(this,a);this.lr=a.oldName;this.hr=a.newName};h.h.ef.prototype.run=function(a){var c=v(this);a?c.$h(this.Rg,this.hr):c.$h(this.Rg,this.lr)};h.v.register(h.v.N.Ab,h.h.qm,h.h.cf);h.v.register(h.v.N.Ab,h.h.rm,h.h.df);h.v.register(h.v.N.Ab,h.h.gp,h.h.ef);h.Cs=function(a){this.kk=a;this.ib()};b=h.Cs.prototype;b.ab=null;b.xe=null;b.kk=null;b.Kg=1;b.El=null;b.ib=function(){this.ab||(this.ab=h.g.j.L(h.g.F.Yj,{xmlns:h.g.j.om,"xmlns:html":h.g.j.zo,"xmlns:xlink":h.g.j.nh,version:"1.1","class":"blocklyBlockDragSurface"},this.kk),this.xe=h.g.j.L(h.g.F.Qc,{},this.ab))};function ka(a,c){if(a.xe.childNodes.length)throw Error("Already dragging a block.");a.xe.appendChild(c);a.ab.style.display="block";a.El=new h.g.R(0,0)}
b.ji=function(a,c){this.El=new h.g.R(a*this.Kg,c*this.Kg);a=this.El.x;c=this.El.y;a=a.toFixed(0);c=c.toFixed(0);this.ab.style.display="block";h.g.j.Nn(this.ab,"translate3d("+a+"px, "+c+"px, 0px)")};b.yq=function(){var a=h.g.Rd(this.ab);return new h.g.R(a.x/this.Kg,a.y/this.Kg)};b.Nb=function(){return this.xe};
b.Cm=function(a){a?a.appendChild(this.xe.firstChild):this.xe.removeChild(this.xe.firstChild);this.ab.style.display="none";if(this.xe.childNodes.length)throw Error("Drag group was not cleared.");this.El=null};h.Ed={};h.Ed.Lq=!1;h.Ed.register=function(a){if(h.Ed.Lq)throw Error("CSS already injected");Array.prototype.push.apply(h.Ed.po,a);a.length=0};h.Ed.sg=function(a,c){if(!h.Ed.Lq){h.Ed.Lq=!0;var d=h.Ed.po.join("\n");h.Ed.po.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};
h.Ed.po=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];
h.C=function(){};h.C.up=null;h.C.zd=null;h.C.rw=null;h.C.Rl=16;h.C.As=1;h.C.xs=12;h.C.ot=16;h.C.io=.25;h.C.kp=null;h.C.Xh=null;h.C.Xd="";h.C.Yd="";
h.C.ib=function(){if(!h.C.fe){var a=document.createElement("div");a.className="blocklyDropDownDiv";(h.Fn||document.body).appendChild(a);h.C.fe=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);h.C.kf=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);h.C.od=c;h.C.fe.style.opacity=0;h.C.fe.style.transition="transform "+h.C.io+"s, opacity "+h.C.io+"s";a.addEventListener("focusin",function(){h.g.j.Bb(a,"blocklyFocused")});a.addEventListener("focusout",
function(){h.g.j.Kc(a,"blocklyFocused")})}};h.C.MC=function(a){h.C.up=a};h.C.RA=function(){return h.C.kf};h.C.Wz=function(){h.C.kf.textContent="";h.C.kf.style.width=""};h.C.Ie=function(a,c){h.C.fe.style.backgroundColor=a;h.C.fe.style.borderColor=c};h.C.JH=function(a,c,d,e){return h.C.Cw(h.C.$u(c),a,d,e)};h.C.RC=function(a,c){h.C.rw=!0;h.C.Cw(h.C.av(a),a,c,void 0)};
h.C.$u=function(a){var c=a.Ca(),d=c.getBBox(),e=a.A.scale;a=d.height*e;d=d.width*e;c=h.g.style.Bh(c);return new h.g.Rect(c.y,c.y+a,c.x,c.x+d)};
h.C.av=function(a){if(a.Db)c=a.Db.getBoundingClientRect(),a=h.g.style.Bh(a.Db),e=c.width,c=c.height;else{var c=B(a.J);var d=a.J.A.scale;a=h.g.style.Bh(la(a));var e=c.width*d;c=c.height*d;h.g.userAgent.ay?(a.x+=1.5*d,a.y+=1.5*d):h.g.userAgent.bh||h.g.userAgent.Gd||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}d=new h.g.Rect(a.y,a.y+c,a.x,a.x+e);return new h.g.Rect(d.top,d.bottom,d.left,d.right)};
h.C.Cw=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.$();for(var k=e.A;k.options.Jc;)k=k.options.Jc;h.C.MC(C(k).parentNode);return h.C.show(c,e.K,f,g,f,a,d)};h.C.show=function(a,c,d,e,f,g,k){h.C.zd=a;h.C.Xh=k||null;a=h.C.fe;a.style.direction=c?"rtl":"ltr";c=h.Ah();h.C.Xd=c.jb.Pd();h.C.Yd=c.rf().Pd();h.g.j.Bb(a,h.C.Xd);h.g.j.Bb(a,h.C.Yd);return h.C.il(d,e,f,g)};
h.C.MA=function(){var a=h.g.style.Bh(h.C.up),c=h.g.style.qf(h.C.up);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};h.C.VA=function(a,c,d,e){var f=h.C.MA(),g=h.g.style.qf(h.C.fe);return c+g.height<f.bottom?h.C.Zu(a,c,f,g):e-g.height>f.top?h.C.Yu(d,e,f,g):c+g.height<document.documentElement.clientHeight?h.C.Zu(a,c,f,g):e-g.height>document.documentElement.clientTop?h.C.Yu(d,e,f,g):h.C.WA(a,f,g)};
h.C.Zu=function(a,c,d,e){a=h.C.xq(a,d.left,d.right,e.width);return{Jq:a.Yi,Kq:c,gq:a.Yi,hq:c+h.C.ot,Ni:a.Ni,mp:-(h.C.Rl/2+h.C.As),xm:!0,lp:!0}};h.C.Yu=function(a,c,d,e){a=h.C.xq(a,d.left,d.right,e.width);return{Jq:a.Yi,Kq:c-e.height,gq:a.Yi,hq:c-e.height-h.C.ot,Ni:a.Ni,mp:e.height-2*h.C.As-h.C.Rl/2,xm:!1,lp:!0}};h.C.WA=function(a,c,d){a=h.C.xq(a,c.left,c.right,d.width);return{Jq:a.Yi,Kq:0,gq:a.Yi,hq:0,xm:null,Ni:null,mp:null,lp:!1}};
h.C.xq=function(a,c,d,e){var f=a;a=h.g.jc.gk(c,a-e/2,d-e);f-=h.C.Rl/2;c=h.g.jc.gk(h.C.xs,f-a,e-h.C.xs-h.C.Rl);return{Ni:c,Yi:a}};h.C.isVisible=function(){return!!h.C.zd};h.C.Jk=function(a,c){h.C.zd===a&&(c?h.C.Gq():h.C.rb())};h.C.rb=function(){var a=h.C.fe;a.style.transform="translate(0, 0)";a.style.opacity=0;h.C.kp=setTimeout(function(){h.C.Gq()},1E3*h.C.io);h.C.Xh&&(h.C.Xh(),h.C.Xh=null)};
h.C.Gq=function(){if(h.C.isVisible()){h.C.kp&&clearTimeout(h.C.kp);var a=h.C.fe;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";h.C.Xh&&(h.C.Xh(),h.C.Xh=null);h.C.Wz();h.C.zd=null;h.C.Xd&&(h.g.j.Kc(a,h.C.Xd),h.C.Xd="");h.C.Yd&&(h.g.j.Kc(a,h.C.Yd),h.C.Yd="");ma(h.Ah())}};
h.C.il=function(a,c,d,e){a=h.C.VA(a,c,d,e);a.lp?(h.C.od.style.display="",h.C.od.style.transform="translate("+a.Ni+"px,"+a.mp+"px) rotate(45deg)",h.C.od.setAttribute("class",a.xm?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):h.C.od.style.display="none";c=Math.floor(a.Jq);d=Math.floor(a.Kq);e=Math.floor(a.gq);var f=Math.floor(a.hq),g=h.C.fe;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return!!a.xm};h.C.zH=function(){if(h.C.zd){var a=h.C.zd,c=a.$();a=h.C.rw?h.C.av(a):h.C.$u(c);c=a.left+(a.right-a.left)/2;h.C.il(c,a.bottom,c,a.top)}else h.C.rb()};
h.eh=function(a,c){this.gj=a;this.$r=c.spacing;this.Hv=c.length;this.CB=(this.Uq=a.firstChild)&&this.Uq.nextSibling;this.UC=c.snap};h.eh.prototype.Kg=1;h.eh.prototype.H=function(){this.gj=null};h.eh.prototype.update=function(a){this.Kg=a;var c=this.$r*a||100;this.gj.setAttribute("width",c);this.gj.setAttribute("height",c);c=Math.floor(this.$r/2)+.5;var d=c-this.Hv/2,e=c+this.Hv/2;c*=a;d*=a;e*=a;na(this.Uq,a,d,e,c,c);na(this.CB,a,c,c,d,e)};
function na(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}h.eh.prototype.moveTo=function(a,c){this.gj.setAttribute("x",a);this.gj.setAttribute("y",c);(h.g.userAgent.Gd||h.g.userAgent.bh)&&this.update(this.Kg)};
h.eh.ib=function(a,c,d){a=h.g.j.L(h.g.F.rt,{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(h.g.j.L(h.g.F.Rj,{stroke:c.colour},a),1<c.length&&h.g.j.L(h.g.F.Rj,{stroke:c.colour},a)):h.g.j.L(h.g.F.Rj,{},a);return a};h.lh=function(a,c,d,e){this.name=a;this.eg=c||Object.create(null);this.Ap=d||Object.create(null);this.ku=e||Object.create(null);this.fontStyle=Object.create(null);this.fs=null;h.v.register(h.v.N.$o,a,this)};h.lh.prototype.Pd=function(){return this.name+"-theme"};function D(a,c){return(c=a.ku[c])&&"string"==typeof c&&D(a,c)?D(a,c):c?String(c):null}
h.lh.oA=function(a,c){var d=new h.lh(a),e=c.base;e&&("string"==typeof e&&(e=h.v.wq(h.v.N.$o,e)),e instanceof h.lh&&(h.g.object.Wi(d,e),d.name=a));h.g.object.Wi(d.eg,c.blockStyles);h.g.object.Wi(d.Ap,c.categoryStyles);h.g.object.Wi(d.ku,c.componentStyles);h.g.object.Wi(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.fs=c.startHats);return d};h.af={};h.af.Lf={};h.af.Lf.nA={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
h.af.Lf.Ap={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};h.af.Lf=new h.lh("classic",h.af.Lf.nA,h.af.Lf.Ap);h.g.Pj={};h.g.Pj.RB=0;h.g.Pj.Xu=function(){return"blockly-"+(h.g.Pj.RB++).toString(36)};h.g.WE=function(){};h.g.ga={};h.g.ga.oo="categoryToolbox";h.g.ga.Ts="flyoutToolbox";h.g.ga.Pb={$j:0,Tl:1,Id:2,Ze:3};h.g.ga.uu=function(a){if(!a)return null;if(a instanceof Element||"string"==typeof a)a=h.g.ga.Br(a),a=h.g.ga.fA(a);h.g.ga.lD(a);return a};h.g.ga.lD=function(a){var c=a.kind;a=a.contents;if(c&&c!=h.g.ga.Ts&&c!=h.g.ga.oo)throw Error("Invalid toolbox kind "+c+". Please supply either "+h.g.ga.Ts+" or "+h.g.ga.oo);if(!a)throw Error("Toolbox must have a contents attribute.");};
h.g.ga.IG=function(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:h.g.ga.ss(a):[]};h.g.ga.Hk=function(a){if(!a)return!1;var c=a.kind;return c?c==h.g.ga.oo:!!a.contents.filter(function(d){return"CATEGORY"==d.kind.toUpperCase()}).length};h.g.ga.dH=function(a){return a&&a.contents?!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length:!1};h.g.ga.fA=function(a){var c={contents:h.g.ga.ss(a)};a instanceof Node&&h.g.ga.Tt(a,c);return c};
h.g.ga.ss=function(a){var c=[],d=a.childNodes;d||(d=a);a=0;for(var e;e=d[a];a++)if(e.tagName){var f={},g=e.tagName.toUpperCase();f.kind=g;"BLOCK"==g?f.blockxml=e:e.childNodes&&0<e.childNodes.length&&(f.contents=h.g.ga.ss(e));h.g.ga.Tt(e,f);c.push(f)}return c};h.g.ga.Tt=function(a,c){for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d];-1<e.nodeName.indexOf("css-")?(c.cssconfig=c.cssconfig||{},c.cssconfig[e.nodeName.replace("css-","")]=e.value):c[e.nodeName]=e.value}};
h.g.ga.Br=function(a){if(a){if("string"!=typeof a&&(h.g.userAgent.Gd&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=h.I.Ne(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};h.md=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else d=h.g.ga.uu(a.toolbox),e=h.g.ga.Hk(d),f=a.trashcan,void 0===f&&(f=e),g=a.collapse,void 0===g&&(g=e),k=a.comments,void 0===k&&(k=e),l=a.disable,void 0===l&&(l=e),m=a.sounds,void 0===m&&(m=!0);var n=!!a.rtl,r=a.horizontalLayout;void 0===r&&(r=!1);var q=a.toolboxPosition;q="end"!==q;q=r?q?h.g.ga.Pb.$j:h.g.ga.Pb.Tl:q==n?h.g.ga.Pb.Ze:h.g.ga.Pb.Id;var t=a.css;void 0===t&&(t=!0);var G="https://blockly-demo.appspot.com/static/media/";
a.media?G=a.media:a.path&&(G=a.path+"media/");var N=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,T=a.renderer||"geras",jd=a.plugins||{};this.K=n;this.aC=N;this.collapse=g;this.Yz=k;this.disable=l;this.readOnly=c;this.Xk=a.maxBlocks||Infinity;this.un=a.maxInstances;this.hw=G;this.Hk=e;this.Wb=h.md.cC(a,e);this.mv=f;this.lB=m;this.jB=t;this.kj=r;this.Ph=d;this.gv=h.md.bC(a);this.mb=h.md.eC(a);this.ii=q;this.cD=h.md.dC(a);this.ww=T;this.xw=a.rendererOverrides;this.Bq=null;this.Jc=a.parentWorkspace;
this.plugins=jd};h.DD=function(){};
h.md.cC=function(a,c){var d=a.move||{},e={};void 0===d.scrollbars&&void 0===a.scrollbars?e.scrollbars=c:"object"==typeof d.scrollbars?(e.scrollbars={},e.scrollbars.Iq=!!d.scrollbars.horizontal,e.scrollbars.vertical=!!d.scrollbars.vertical,e.scrollbars.Iq&&e.scrollbars.vertical?e.scrollbars=!0:e.scrollbars.Iq||e.scrollbars.vertical||(e.scrollbars=!1)):e.scrollbars=!!d.scrollbars||!!a.scrollbars;e.Cj=e.scrollbars&&void 0!==d.wheel?!!d.wheel:"object"==typeof e.scrollbars;e.wh=e.scrollbars?void 0===d.drag?
!0:!!d.drag:!1;return e};h.md.eC=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.Cj=void 0===a.wheel?!1:!!a.wheel;c.YC=void 0===a.startScale?1:Number(a.startScale);c.Yk=void 0===a.maxScale?3:Number(a.maxScale);c.$k=void 0===a.minScale?.3:Number(a.minScale);c.JC=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.iw=void 0===a.pinch?c.Cj||c.controls:!!a.pinch;return c};
h.md.bC=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.hb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.KH=0<c.spacing&&!!a.snap;return c};h.md.dC=function(a){a=a.theme||h.af.Lf;return"string"==typeof a?h.v.wq(h.v.N.$o,a):a instanceof h.lh?a:h.lh.oA(a.name||"builtin"+h.g.Pj.Xu(),a)};h.md.Br=function(a){h.g.Nm.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree");return h.g.ga.Br(a)};
h.Bt=function(a,c,d){this.B=a;c=void 0===c?!0:c;d=void 0===d?!0:d;var e=c&&d;c&&(this.Eb=new h.ya(a,!0,e,"blocklyMainWorkspaceScrollbar"));d&&(this.Hb=new h.ya(a,!1,e,"blocklyMainWorkspaceScrollbar"));e&&(this.lk=h.g.j.L(h.g.F.Sb,{height:h.ya.Mc,width:h.ya.Mc,"class":"blocklyScrollbarBackground"},null),h.g.j.Lk(this.lk,a.Ff));this.Oa=null};b=h.Bt.prototype;b.H=function(){h.g.j.removeNode(this.lk);this.Oa=this.B=this.lk=null;this.Eb&&(this.Eb.H(),this.Eb=null);this.Hb&&(this.Hb.H(),this.Hb=null)};
b.resize=function(){var a=this.B.ze();if(a){var c=!1,d=!1;this.Oa&&this.Oa.Zb==a.Zb&&this.Oa.oc==a.oc&&this.Oa.Dc==a.Dc&&this.Oa.uc==a.uc?(this.Oa&&this.Oa.scrollWidth==a.scrollWidth&&this.Oa.Pe==a.Pe&&this.Oa.scrollLeft==a.scrollLeft||(c=!0),this.Oa&&this.Oa.scrollHeight==a.scrollHeight&&this.Oa.Qe==a.Qe&&this.Oa.scrollTop==a.scrollTop||(d=!0)):d=c=!0;if(c||d){try{h.h.disable(),this.Eb&&c&&this.Eb.resize(a),this.Hb&&d&&this.Hb.resize(a)}finally{h.h.enable()}oa(this.B)}this.Eb&&this.Hb&&(this.Oa&&
this.Oa.Zb==a.Zb&&this.Oa.uc==a.uc||this.lk.setAttribute("x",this.Hb.position.x),this.Oa&&this.Oa.oc==a.oc&&this.Oa.Dc==a.Dc||this.lk.setAttribute("y",this.Eb.position.y));this.Oa=a}};b.set=function(a,c,d){this.Eb&&this.Eb.set(a,!1);this.Hb&&this.Hb.set(c,!1);if(d||void 0===d)a={},this.Eb&&(a.x=pa(this.Eb)),this.Hb&&(a.y=pa(this.Hb)),this.B.On(a)};b.rl=function(a){this.Eb&&this.Eb.rl(a);this.Hb&&this.Hb.rl(a)};
b.isVisible=function(){var a=!1;this.Eb&&(a=this.Eb.isVisible());this.Hb&&(a=a||this.Hb.isVisible());return a};
h.ya=function(a,c,d,e){this.B=a;this.Gg=d||!1;this.Gh=c;this.ratio=this.Oa=null;this.mk(e);this.position=new h.g.R(0,0);a=h.ya.Mc;c?(this.Ef.setAttribute("height",a),this.Fe.setAttribute("height",a),this.gd.setAttribute("height",a-5),this.gd.setAttribute("y",2.5),this.rn="width",this.mw="x"):(this.Ef.setAttribute("width",a),this.Fe.setAttribute("width",a),this.gd.setAttribute("width",a-5),this.gd.setAttribute("x",2.5),this.rn="height",this.mw="y");this.bw=h.S.Ma(this.Ef,"mousedown",this,this.UB);
this.cw=h.S.Ma(this.gd,"mousedown",this,this.VB)};b=h.ya.prototype;b.ew=new h.g.R(0,0);b.Fw=0;b.Bd=0;b.pg=0;b.Gk=0;b.Rk=!0;b.Ip=!0;h.ya.Mc=15;h.Touch.Et&&(h.ya.Mc=25);h.ya.jh=.5;h.ya.JB=function(a,c){return a&&c&&a.Zb==c.Zb&&a.oc==c.oc&&a.Pe==c.Pe&&a.Qe==c.Qe&&a.Dc==c.Dc&&a.uc==c.uc&&a.scrollWidth==c.scrollWidth&&a.scrollHeight==c.scrollHeight&&a.scrollLeft==c.scrollLeft&&a.scrollTop==c.scrollTop?!0:!1};b=h.ya.prototype;
b.H=function(){qa();h.S.ub(this.bw);this.bw=null;h.S.ub(this.cw);this.cw=null;h.g.j.removeNode(this.Fe);this.Ef=this.pa=this.Fe=null;this.gd&&(this.B.Oc.unsubscribe(this.gd),this.gd=null);this.B=null};function ra(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Bd)}function sa(a,c){a.pg=c;a.gd.setAttribute(a.rn,a.pg)}function ta(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Bd-a.pg)}function E(a,c){a.Gk=c;a.gd.setAttribute(a.mw,a.Gk)}
function ua(a,c){a.Bd=c;a.Fe.setAttribute(a.rn,a.Bd);a.Ef.setAttribute(a.rn,a.Bd)}b.setPosition=function(a,c){this.position.x=a;this.position.y=c;h.g.j.Nn(this.Fe,"translate("+(this.position.x+this.ew.x)+"px,"+(this.position.y+this.ew.y)+"px)")};b.resize=function(a){if(!a&&(a=this.B.ze(),!a))return;if(!h.ya.JB(a,this.Oa)){if(this.Gh){var c=a;va(this,c)?wa(this,c):xa(this,c)}else c=a,va(this,c)?ya(this,c):za(this,c);this.Oa=a;Aa(this)}};
function va(a,c){return a.Oa?a.Oa.Zb!==c.Zb||a.Oa.oc!==c.oc||a.Oa.uc!==c.uc||a.Oa.Dc!==c.Dc:!0}function wa(a,c){var d=c.Zb-2*h.ya.jh;a.Gg&&(d-=h.ya.Mc);ua(a,Math.max(0,d));d=c.uc+h.ya.jh;a.Gg&&a.B.K&&(d+=h.ya.Mc);a.setPosition(d,c.Dc+c.oc-h.ya.Mc-h.ya.jh);xa(a,c)}function xa(a,c){if(c.Zb>=c.scrollWidth)sa(a,a.Bd),E(a,0),a.Gg||a.Xb(!1);else{a.Gg||a.Xb(!0);var d=a.Bd*c.Zb/c.scrollWidth;d=ra(a,d);sa(a,d);d=c.scrollWidth-c.Zb;var e=a.Bd-a.pg;c=(c.Pe-c.scrollLeft)/d*e;c=ta(a,c);E(a,c);a.ratio=e/d}}
function ya(a,c){var d=c.oc-2*h.ya.jh;a.Gg&&(d-=h.ya.Mc);ua(a,Math.max(0,d));a.setPosition(a.B.K?c.uc+h.ya.jh:c.uc+c.Zb-h.ya.Mc-h.ya.jh,c.Dc+h.ya.jh);za(a,c)}function za(a,c){if(c.oc>=c.scrollHeight)sa(a,a.Bd),E(a,0),a.Gg||a.Xb(!1);else{a.Gg||a.Xb(!0);var d=a.Bd*c.oc/c.scrollHeight;d=ra(a,d);sa(a,d);d=c.scrollHeight-c.oc;var e=a.Bd-a.pg;c=(c.Qe-c.scrollTop)/d*e;c=ta(a,c);E(a,c);a.ratio=e/d}}
b.mk=function(a){var c="blocklyScrollbar"+(this.Gh?"Horizontal":"Vertical");a&&(c+=" "+a);this.Fe=h.g.j.L(h.g.F.Yj,{"class":c},null);this.pa=h.g.j.L(h.g.F.Qc,{},this.Fe);this.Ef=h.g.j.L(h.g.F.Sb,{"class":"blocklyScrollbarBackground"},this.pa);a=Math.floor((h.ya.Mc-5)/2);this.gd=h.g.j.L(h.g.F.Sb,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.pa);this.B.Oc.subscribe(this.gd,"scrollbarColour","fill");this.B.Oc.subscribe(this.gd,"scrollbarOpacity","fill-opacity");h.g.j.Lk(this.Fe,C(this.B))};
b.isVisible=function(){return this.Rk};b.rl=function(a){var c=a!=this.Ip;this.Ip=a;c&&Ba(this)};b.Xb=function(a){var c=a!=this.isVisible();if(this.Gg)throw Error("Unable to toggle visibility of paired scrollbars.");this.Rk=a;c&&Ba(this)};function Ba(a){a.Ip&&a.isVisible()?a.Fe.setAttribute("display","block"):a.Fe.setAttribute("display","none")}
b.UB=function(a){ma(this.B);h.Touch.Dm();qa();if(h.g.Qk(a))a.stopPropagation();else{var c=h.g.al(a,C(this.B),Ca(this.B));c=this.Gh?c.x:c.y;var d=h.g.tq(this.gd);d=this.Gh?d.x:d.y;var e=this.Gk,f=.95*this.pg;c<=d?e-=f:c>=d+this.pg&&(e+=f);E(this,ta(this,e));Aa(this);a.stopPropagation();a.preventDefault()}};
b.VB=function(a){ma(this.B);qa();h.g.Qk(a)?a.stopPropagation():(this.WC=this.Gk,Da(this.B),this.Fw=this.Gh?a.clientX:a.clientY,h.ya.Eg=h.S.Ma(document,"mouseup",this,this.ZB),h.ya.Dg=h.S.Ma(document,"mousemove",this,this.WB),a.stopPropagation(),a.preventDefault())};b.WB=function(a){E(this,ta(this,this.WC+((this.Gh?a.clientX:a.clientY)-this.Fw)));Aa(this)};b.ZB=function(){Ea(this.B);h.Touch.Dm();qa()};
function qa(){h.fc(!0);h.ya.Eg&&(h.S.ub(h.ya.Eg),h.ya.Eg=null);h.ya.Dg&&(h.S.ub(h.ya.Dg),h.ya.Dg=null)}function pa(a){a=a.Gk/(a.Bd-a.pg);isNaN(a)&&(a=0);return a}function Aa(a){var c=pa(a),d={};a.Gh?d.x=c:d.y=c;a.B.On(d)}b.set=function(a,c){E(this,ta(this,a*this.ratio));(c||void 0===c)&&Aa(this)};h.G={};h.G.visible=!1;h.G.Pi=!1;h.G.uy=50;h.G.Ov=0;h.G.yl=0;h.G.Sq=0;h.G.Tq=0;h.G.Ta=null;h.G.hl=null;h.G.mt=0;h.G.nt=10;h.G.Py=10;h.G.gy=750;h.G.Io=5;h.G.Ra=null;h.G.ZA=function(){var a=h.G.ev(h.G.Ta);if(a){for(a=a.Zd;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");return a}return""};h.G.ev=function(a){for(;a&&a.Zd;){if("string"==typeof a.Zd||"function"==typeof a.Zd)return a;a=a.Zd}return null};
h.G.ib=function(){h.G.Ra||(h.G.Ra=document.createElement("div"),h.G.Ra.className="blocklyTooltipDiv",(h.Fn||document.body).appendChild(h.G.Ra))};h.G.dk=function(a){a.LB=h.S.bind(a,"mouseover",null,h.G.YB);a.KB=h.S.bind(a,"mouseout",null,h.G.XB);a.addEventListener("mousemove",h.G.dw,!1)};h.G.Nw=function(a){a&&(h.S.ub(a.LB),h.S.ub(a.KB),a.removeEventListener("mousemove",h.G.dw))};h.G.YB=function(a){h.G.Pi||(a=h.G.ev(a.currentTarget),h.G.Ta!=a&&(h.G.rb(),h.G.hl=null,h.G.Ta=a),clearTimeout(h.G.Ov))};
h.G.XB=function(){h.G.Pi||(h.G.Ov=setTimeout(function(){h.G.Ta=null;h.G.hl=null;h.G.rb()},1),clearTimeout(h.G.yl))};h.G.dw=function(a){if(h.G.Ta&&h.G.Ta.Zd&&!h.G.Pi)if(h.G.visible){var c=h.G.Sq-a.pageX;a=h.G.Tq-a.pageY;Math.sqrt(c*c+a*a)>h.G.Py&&h.G.rb()}else h.G.hl!=h.G.Ta&&(clearTimeout(h.G.yl),h.G.Sq=a.pageX,h.G.Tq=a.pageY,h.G.yl=setTimeout(h.G.SC,h.G.gy))};h.G.H=function(){h.G.Ta=null;h.G.hl=null;h.G.rb()};
h.G.rb=function(){h.G.visible&&(h.G.visible=!1,h.G.Ra&&(h.G.Ra.style.display="none"));h.G.yl&&clearTimeout(h.G.yl)};h.G.block=function(){h.G.rb();h.G.Pi=!0};h.G.kD=function(){h.G.Pi=!1};
h.G.SC=function(){if(!h.G.Pi&&(h.G.hl=h.G.Ta,h.G.Ra)){h.G.Ra.textContent="";var a=h.G.ZA();a=h.g.Pa.pD(a);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));h.G.Ra.appendChild(d)}a=h.G.Ta.K;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h.G.Ra.style.direction=a?"rtl":"ltr";h.G.Ra.style.display="block";h.G.visible=!0;var e=h.G.Sq;e=a?e-(h.G.mt+h.G.Ra.offsetWidth):e+h.G.mt;var f=h.G.Tq+h.G.nt;f+
h.G.Ra.offsetHeight>d+window.scrollY&&(f-=h.G.Ra.offsetHeight+2*h.G.nt);a?e=Math.max(h.G.Io-window.scrollX,e):e+h.G.Ra.offsetWidth>c+window.scrollX-2*h.G.Io&&(e=c-h.G.Ra.offsetWidth-2*h.G.Io);h.G.Ra.style.top=f+"px";h.G.Ra.style.left=e+"px"}};h.g.ob={};h.g.ob.bx="aria-";h.g.ob.Yy="role";h.g.ob.km={tE:"grid",uE:"gridcell",vE:"group",vy:"listbox",Ay:"menu",By:"menuitem",UE:"menuitemcheckbox",Hy:"option",zF:"presentation",Xo:"row",$F:"tree",aG:"treeitem"};h.g.ob.State={$w:"activedescendant",JD:"colcount",zx:"disabled",YD:"expanded",DE:"invalid",ty:"label",JE:"labelledby",ME:"level",sF:"orientation",yF:"posinset",FF:"rowcount",Gi:"selected",JF:"setsize",dG:"valuemax",eG:"valuemin"};h.g.ob.Og=function(a,c){a.setAttribute(h.g.ob.Yy,c)};
h.g.ob.Tn=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(h.g.ob.bx+c,d)};h.Rt=function(a){this.kk=a;this.ib()};b=h.Rt.prototype;b.ab=null;b.kk=null;b.ib=function(){this.ab||(this.ab=h.g.j.L(h.g.F.Yj,{xmlns:h.g.j.om,"xmlns:html":h.g.j.zo,"xmlns:xlink":h.g.j.nh,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.kk.appendChild(this.ab))};b.ji=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.ab.style.display="block";h.g.j.Nn(this.ab,"translate3d("+a+"px, "+c+"px, 0px)")};b.yq=function(){return h.g.Rd(this.ab)};
b.Cm=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.ab.childNodes[0],d=this.ab.childNodes[1];if(!(c&&d&&h.g.j.Cq(c,"blocklyBlockCanvas")&&h.g.j.Cq(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Gr?h.g.j.Lk(c,this.Gr):a.insertBefore(c,a.firstChild);h.g.j.Lk(d,c);this.ab.style.display="none";if(this.ab.childNodes.length)throw Error("Drag surface was not cleared.");h.g.j.Nn(this.ab,
"");this.Gr=null};h.i={};h.i.Nl=!1;h.i.register=function(a,c){h.v.register(h.v.N.RENDERER,a,c)};h.i.unregister=function(a){h.v.unregister(h.v.N.RENDERER,a)};h.i.LH=function(){h.i.Nl=!0};h.i.MH=function(){h.i.Nl=!1};h.i.Va=function(a,c,d){a=new (h.v.nq(h.v.N.RENDERER,a))(a);a.Va(c,d);return a};h.D=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.Ll=a;this.za=c;this.Yw=null;(a=d||null)&&a.Xw&&(this.Yw=a.Xw)};h.D.types={qc:"field",Ib:"block",kd:"input",hh:"output",Vf:"next",Xf:"previous",kh:"stack",Cc:"workspace"};h.D.Uf=!1;h.D.xx=-20;h.D.fH=function(a){switch(a){case h.D.types.Xf:case h.D.types.Vf:case h.D.types.kd:case h.D.types.hh:return!0}return!1};h.D.nk=function(a){return a?new h.D(h.D.types.qc,a):null};
h.D.lg=function(a){if(!a)return null;var c=a.type;return c==h.T.Jb||c==h.T.Kb&&a.Ae()?h.D.sh(a.Ae()):c==h.T.Kb?new h.D(h.D.types.Vf,a):c==h.T.Rc?new h.D(h.D.types.hh,a):c==h.T.Sc?new h.D(h.D.types.Xf,a):null};h.D.sh=function(a){return a&&a.connection?new h.D(h.D.types.kd,a.connection):null};h.D.kg=function(a){return a?new h.D(h.D.types.Ib,a):null};h.D.Km=function(a){return a?new h.D(h.D.types.kh,a):null};h.D.lA=function(a,c){return c&&a?new h.D(h.D.types.Cc,a,{Xw:c}):null};
h.D.KG=function(a){var c=a.V||a.O;return c?h.D.lg(c):h.D.kg(a)};b=h.D.prototype;b.lb=function(){return this.Ll};function Fa(a,c){a=a.za;a instanceof h.si||(a=a.$());if(!a||!a.A)return null;var d=a.Sd();a=d.A.Vb(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:h.D.Km(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}
function Ga(a){if(!a)return null;do var c=a.V&&a.V.va();while(c&&u(c)==a&&(a=c));return(c=a.V||a.O)&&c.wa&&c.wa.Ae()?h.D.sh(c.wa.Ae()):h.D.Km(a)}b.$=function(){return this.lb()===h.D.types.Ib?this.za:this.lb()===h.D.types.kh?this.za:this.lb()===h.D.types.Cc?null:this.za.$()};
b.next=function(){switch(this.Ll){case h.D.types.kh:return Fa(this,!0);case h.D.types.hh:var a=this.za;return h.D.kg(a.$());case h.D.types.qc:a:{var c=this.za,d=c.Ae();a=c.$();c=d.Ua.indexOf(c)+1;d=a.P.indexOf(d);for(var e;e=a.P[d];d++){for(var f=e.Ua;c<f.length;){if(F(f[c])||h.D.Uf){a=h.D.nk(f[c]);break a}c++}c=0;if(e.connection){a=h.D.sh(e);break a}}a=null}return a;case h.D.types.kd:a:{c=this.za.Ae();a=c.$();for(c=a.P.indexOf(c)+1;d=a.P[c];c++){e=d.Ua;f=0;for(var g;g=e[f];f++)if(F(g)||h.D.Uf){a=
h.D.nk(g);break a}if(d.connection){a=h.D.sh(d);break a}}a=null}return a;case h.D.types.Ib:return h.D.lg(this.za.X);case h.D.types.Xf:return a=this.za,h.D.kg(a.$());case h.D.types.Vf:return a=this.za,h.D.lg(a.wa)}return null};
b.rg=function(){switch(this.Ll){case h.D.types.Cc:var a=this.za.Vb(!0);if(0<a.length)return h.D.Km(a[0]);break;case h.D.types.kh:a=this.za;var c=a.V||a.O;return c?h.D.lg(c):h.D.kg(a);case h.D.types.Ib:a=this.za;a:{a=a.P;c=0;for(var d;d=a[c];c++){for(var e=d.Ua,f=0,g;g=e[f];f++)if(F(g)||h.D.Uf){a=h.D.nk(g);break a}if(d.connection){a=h.D.sh(d);break a}}a=null}return a;case h.D.types.kd:return h.D.lg(this.za.wa)}return null};
b.Ig=function(){switch(this.Ll){case h.D.types.kh:return Fa(this,!1);case h.D.types.qc:a:{var a=this.za;var c=a.Ae();var d=a.$();a=c.Ua.indexOf(a)-1;for(var e=d.P.indexOf(c),f;f=d.P[e];e--){if(f.connection&&f!==c){c=h.D.sh(f);break a}for(f=f.Ua;-1<a;){if(F(f[a])||h.D.Uf){c=h.D.nk(f[a]);break a}a--}0<=e-1&&(a=d.P[e-1].Ua.length-1)}c=null}return c;case h.D.types.kd:a:{c=this.za.Ae();d=c.$();for(a=d.P.indexOf(c);e=d.P[a];a--){if(e.connection&&e!==c){c=h.D.sh(e);break a}e=e.Ua;f=e.length-1;for(var g;g=
e[f];f--)if(F(g)||h.D.Uf){c=h.D.nk(g);break a}}c=null}return c;case h.D.types.Ib:return c=this.za,h.D.lg(c.V||c.O);case h.D.types.Xf:c=this.za;if((c=c.wa)&&!c.Ae())return h.D.lg(c);break;case h.D.types.Vf:return c=this.za,h.D.kg(c.$())}return null};
b.Fg=function(){switch(this.Ll){case h.D.types.kh:var a=this.za,c=a.$a();return h.D.lA(a.A,new h.g.R(c.x,c.y+h.D.xx));case h.D.types.hh:return a=this.za,(c=a.wa)?h.D.lg(c):h.D.Km(a.$());case h.D.types.qc:return h.D.kg(this.za.$());case h.D.types.kd:return a=this.za,h.D.kg(a.$());case h.D.types.Ib:return a=this.za,Ga(a);case h.D.types.Xf:return a=this.za,Ga(a.$());case h.D.types.Vf:return a=this.za,Ga(a.$())}return null};h.$b=Object.create(null);h.g.Nm={};h.g.Nm.warn=function(a,c,d,e){a=a+" was deprecated on "+c+" and will be deleted on "+d+".";e&&(a+="\nUse "+e+" instead.");console.warn(a)};h.ua=function(a,c){this.J=a;this.type=c};h.ua.Vl=0;h.ua.Ty=1;h.ua.Wy=2;h.ua.Vy=3;h.ua.Qy=4;h.ua.Ry=5;h.ua.Uy=6;h.ua.Sy=7;b=h.ua.prototype;b.wa=null;b.mf=!1;b.Qi=null;b.Un=null;b.x=0;b.y=0;
b.Hm=function(a){var c=this,d=c.$(),e=a.$();a.isConnected()&&a.disconnect();if(c.isConnected()){var f=c.va(),g=c.ej();c.Un=null;if(f.Ja)g=h.I.fg(f),f.H(!1),f=null;else if(c.type==h.T.Jb){if(!f.O)throw Error("Orphan block does not have an output connection.");var k=h.ua.Fv(e,f);k&&(f.O.connect(k),f=null)}else if(c.type==h.T.Kb){if(!f.V)throw Error("Orphan block does not have a previous connection.");for(k=e;k.X;){var l=u(k);if(l&&!l.Ja)k=l;else{H(f.A.ue,f.V,k.X,!1)&&(k.X.connect(f.V),f=null);break}}}if(f&&
(c.disconnect(),h.h.Ga)){var m=h.h.Nb();setTimeout(function(){f.A&&!f.getParent()&&(h.h.sa(m),f.O?f.O.Bn(c):f.V&&f.V.Bn(c),h.h.sa(!1))},h.lo)}c.Un=g}var n;h.h.isEnabled()&&(n=new (h.h.get(h.h.Vg))(e));h.ua.dA(c,a);e.Rn(d);n&&(n.Zh(),h.h.Ha(n))};b.H=function(){if(this.isConnected()){this.ul(null);var a=this.va();a&&A(a)}this.mf=!0};b.$=function(){return this.J};function I(a){return a.type==h.T.Jb||a.type==h.T.Kb}b.isConnected=function(){return!!this.wa};
b.zp=function(a){h.g.Nm.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker");return this.J.A.ue.zp(this,a,!1)};b.Bn=function(){};b.connect=function(a){if(this.wa!=a&&H(this.J.A.ue,this,a,!1)){var c=h.h.Nb();c||h.h.sa(!0);I(this)?this.Hm(a):a.Hm(this);c||h.h.sa(!1)}};h.ua.dA=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.wa=c;c.wa=a};
h.ua.TC=function(a,c){var d=null;c=c.O;for(var e=0;e<a.P.length;e++){var f=a.P[e].connection,g=c.J.A.ue;if(f&&f.type==h.T.Jb&&H(g,c,f,!1)){if(d)return null;d=f}}return d};h.ua.Fv=function(a,c){for(var d;d=h.ua.TC(a,c);)if(a=d.va(),!a||a.Ja)return d;return null};b=h.ua.prototype;
b.disconnect=function(){var a=this.wa;if(!a)throw Error("Source connection not connected.");if(a.wa!=this)throw Error("Target connection not connected to source connection.");if(I(this)){var c=this.J;var d=a.$();a=this}else c=a.$(),d=this.J;var e=h.h.Nb();e||h.h.sa(!0);this.Tp(c,d);d.Ja||a.ol();e||h.h.sa(!1)};b.Tp=function(a,c){var d;h.h.isEnabled()&&(d=new (h.h.get(h.h.Vg))(c));this.wa=this.wa.wa=null;c.Rn(null);d&&(d.Zh(),h.h.Ha(d))};
b.ol=function(){var a=this.$(),c=this.ej();if(a.A&&c)if(a=h.I.Tm(c,a.A),a.O)this.connect(a.O);else if(a.V)this.connect(a.V);else throw Error("Child block does not have output or previous statement.");};b.va=function(){return this.isConnected()?this.wa.$():null};b.aw=function(){!this.isConnected()||this.wa&&H(this.J.A.ue,this,this.wa,!1)||A(I(this)?this.va():this.J)};b.wj=function(a){a?(Array.isArray(a)||(a=[a]),this.Qi=a,this.aw()):this.Qi=null};
b.ul=function(a){this.Un=a;a=this.va();a?a.Ja&&(a.H(!1),this.ol()):this.ol()};b.ej=function(){return this.Un};b.Sv=function(){return[]};b.Ae=function(){for(var a=null,c=this.J,d=c.P,e=0;e<c.P.length;e++)if(d[e].connection===this){a=d[e];break}return a};
b.toString=function(){var a=this.J;if(a)if(a.O==this)var c="Output Connection of ";else if(a.V==this)c="Previous Connection of ";else if(a.X==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.P[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};h.xa={};h.xa.Ej={};h.xa.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(h.xa.Ej[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');h.xa.Ej[a]=c};h.xa.vH=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');h.xa.register(a,function(){this.Bg(c)})};
h.xa.wH=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';h.xa.du(f,c.Yc,"domToMutation");h.xa.du(f,c.kc,"mutationToDom");var g=h.xa.gu(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');h.xa.register(a,function(){if(g){if(!h.Dy)throw Error(f+"Missing require for Blockly.Mutator");this.Bw(new h.Dy(e||[]))}this.Bg(c);d&&d.apply(this)})};h.xa.unregister=function(a){h.xa.Ej[a]?delete h.xa.Ej[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
h.xa.apply=function(a,c,d){var e=h.xa.Ej[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)h.xa.Uz(a,c);else var f=h.xa.vq(c);e.apply(c);if(d)h.xa.Sz('Error after applying mutator "'+a+'": ',c);else if(!h.xa.OB(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
h.xa.du=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};h.xa.Uz=function(a,c){if(h.xa.vq(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
h.xa.gu=function(a,c){var d=void 0!==a.Hp,e=void 0!==a.Lp;if(d&&e){if("function"!=typeof a.Hp)throw Error(c+"compose must be a function.");if("function"!=typeof a.Lp)throw Error(c+"decompose must be a function.");return!0}if(d||e)throw Error(c+'Must have both or neither of "compose" and "decompose"');return!1};
h.xa.Sz=function(a,c){if("function"!=typeof c.Yc)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.kc)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');h.xa.gu(c,a)};h.xa.vq=function(a){var c=[];void 0!==a.Yc&&c.push(a.Yc);void 0!==a.kc&&c.push(a.kc);void 0!==a.Hp&&c.push(a.Hp);void 0!==a.Lp&&c.push(a.Lp);return c};h.xa.OB=function(a,c){c=h.xa.vq(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
h.xa.rG=function(a,c){var d=[];"object"==typeof document&&h.g.zw(function(){for(var e in c)h.g.fu(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(h.xa.Tz(this,a,c),d.push(this.type));this.Pg(function(){var e=String(Ha(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=h.g.Lc(f);return f}.bind(this))}};
h.xa.Tz=function(a,c,d){var e=z(a,c);if(!Ia(e)){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+c+" of block type "+a.type)}}};h.xa.sG=function(a,c){"object"==typeof document&&h.g.zw(function(){h.g.fu(a)});return function(){this.Pg(function(){var d=z(this,c);return h.g.Lc(a).replace("%1",d?Ja(d):"")}.bind(this))}};h.xa.BA=function(){this.fD=this.Zd;this.Pg(function(){var a=this.getParent();return a&&Ka(a)&&a.Zd||this.fD}.bind(this))};
h.xa.register("parent_tooltip_when_inline",h.xa.BA);h.ng={};h.ng.register=function(a,c){h.v.register(h.v.N.qc,a,c)};h.ng.unregister=function(a){h.v.unregister(h.v.N.qc,a)};h.ng.aa=function(a){var c=h.v.wq(h.v.N.qc,a.type);return c?c.aa(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};h.Sa={};h.Sa.Up=0;h.Sa.Qm=null;h.Sa.tA=function(a){var c=a.A,d=a.Ca();c.pe.play("delete");a=La(c,d);d=d.cloneNode(!0);d.hD=a.x;d.iD=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");C(c).appendChild(d);d.Xt=d.getBBox();h.Sa.Ju(d,c.K,new Date,c.scale)};h.Sa.Ju=function(a,c,d,e){var f=(new Date-d)/150;1<f?h.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.hD+(c?-1:1)*a.Xt.width*e/2*f)+","+(a.iD+a.Xt.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(h.Sa.Ju,10,a,c,d,e))};
h.Sa.eA=function(a){var c=a.A,d=c.scale;c.pe.play("click");if(!(1>d)){var e=La(c,a.Ca());a.O?(e.x+=(a.K?3:-3)*d,e.y+=13*d):a.V&&(e.x+=(a.K?-23:23)*d,e.y+=3*d);a=h.g.j.L(h.g.F.Ds,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},C(c));h.Sa.pu(a,new Date,d)}};h.Sa.pu=function(a,c,d){var e=(new Date-c)/150;1<e?h.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,h.Sa.Up=setTimeout(h.Sa.pu,10,a,c,d))};
h.Sa.sA=function(a){a.A.pe.play("disconnect");if(!(1>a.A.scale)){var c=B(a).height;c=Math.atan(10/c)/Math.PI*180;a.K||(c*=-1);h.Sa.Iu(a.Ca(),c,new Date)}};h.Sa.Iu=function(a,c,d){var e=(new Date-d)/200;1<e?a.zl="":(a.zl="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",h.Sa.Qm=a,h.Sa.Up=setTimeout(h.Sa.Iu,10,a,c,d));a.setAttribute("transform",a.Kl+a.zl)};h.Sa.Vp=function(){if(h.Sa.Qm){clearTimeout(h.Sa.Up);var a=h.Sa.Qm;a.zl="";a.setAttribute("transform",a.Kl);h.Sa.Qm=null}};h.h.Kf=function(a,c,d){h.h.Kf.u.constructor.call(this,a?a.A.id:void 0);this.Xa=a?a.id:null;this.Bv=c;this.Yt=d};h.g.object.U(h.h.Kf,h.h.ne);h.h.Kf.prototype.type=h.h.Sl;h.h.Kf.prototype.qa=function(){var a=h.h.Kf.u.qa.call(this);a.isStart=this.Bv;a.blockId=this.Xa;a.blocks=this.Yt;return a};h.h.Kf.prototype.aa=function(a){h.h.Kf.u.aa.call(this,a);this.Bv=a.isStart;this.Xa=a.blockId;this.Yt=a.blocks};h.v.register(h.v.N.Ab,h.h.Sl,h.h.Kf);h.Hd=function(a){this.Hf=h.selected=a;this.B=a.A;this.yg=this.Qq=null;this.zk=Ma(this,this.Hf);this.ic=this.pb=null;this.Re=!1;this.xk=this.Hq=this.Qh=null;this.ym=Na(this)};h.Hd.Fi={Co:0,ny:1,tt:2};h.Hd.prototype.H=function(){this.ym.length=0;h.h.disable();try{this.zk&&this.zk.H(),this.yg&&this.yg.H()}finally{h.h.enable()}};
h.Hd.prototype.update=function(a,c){var d=this.pb&&this.ic?h.Gs:h.ac;for(var e=null,f=null,g=0;g<this.ym.length;g++){var k=this.ym[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.Kn)}e=(d={closest:e,local:f,Kn:d},!!d.closest)&&c!=h.Ms;if((this.Re=!!c&&!this.Hf.getParent()&&this.Hf.Ic()&&!e)||Oa(this,d,a)){h.h.disable();d.closest?(a=this.pb!=d.closest,c=this.ic!=d.local,this.pb&&this.ic&&(a||c||this.Re)&&Pa(this)):Pa(this);this.ic=this.pb=this.Qh=null;if(!this.Re&&(a=d.closest,c=d.local,
a))if(a==this.pb||a.$().wd())console.log("Trying to connect to an insertion marker");else{this.pb=a;this.ic=c;a=this.pb;d=this.ic;c=this.Hf;d.type==h.T.Rc||d.type==h.T.Sc?((e=!a.isConnected())||(e=a.va(),d.type==h.T.Rc?(d=e.O,c=h.ua.Fv(c,e)):(d=e.V,c=c.qn()),e=c?H(d.J.A.ue,c,d,!1):!1),c=e?h.Hd.Fi.Co:h.Hd.Fi.tt):c=h.Hd.Fi.Co;switch(c){case h.Hd.Fi.ny:this.Hq=this.pb.$();break;case h.Hd.Fi.Co:e=this.ic;c=this.pb;d=this.Qq&&e==this.Qq?this.yg:this.zk;e=d.uq(e.$(),e);if(e==this.Qh)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");
d.Ea();d.ra=!0;d.Ca().setAttribute("visibility","visible");e&&c&&(e.type!=h.T.Kb&&e.type!=h.T.Jb||d.moveBy(c.x-e.x,c.y-e.y));c&&e.connect(c);this.Qh=e;break;case h.Hd.Fi.tt:this.xk=this.pb.va(),J(this.xk.cb,"blocklyReplaceable",!0)}a&&(d=a.J.A.jb.ba(),c=Qa(d,a),a.type==h.T.Jb||a.type==h.T.Rc?(d=d.Ji,c=h.g.s.moveBy(0,-d)+h.g.s.W("v",d)+c.Ad+h.g.s.W("v",d)):(d=d.Vj-d.ce,c=h.g.s.moveBy(-d,0)+h.g.s.W("h",d)+c.Hg+h.g.s.W("h",d)),d=a.J.$a(),h.ua.rv=h.g.j.L(h.g.F.Xe,{"class":"blocklyHighlightedConnectionPath",
d:c,transform:"translate("+(a.x-d.x)+","+(a.y-d.y)+")"+(a.J.K?" scale(-1 1)":"")},a.J.Ca()))}h.h.enable()}};function Ma(a,c){var d=c.type;h.h.disable();try{var e=a.B.tj(d);e.Aw(!0);if(c.kc){var f=c.kc();f&&e.Yc(f)}for(a=0;a<c.P.length;a++){var g=c.P[a];if(g.name!=h.bb.Yl){var k=e.P[a];for(d=0;d<g.Ua.length;d++)k.Ua[d].setValue(g.Ua[d].getValue())}}e.bi(c.isCollapsed());e.Mg(Ka(c));e.Jh();e.Ca().setAttribute("visibility","hidden")}finally{h.h.enable()}return e}
function Na(a){var c=a.Hf.Qd(!1),d=a.Hf.qn();if(d&&d!=a.Hf.X){c.push(d);a.Qq=d;if(a.yg){h.h.disable();try{a.yg.H()}finally{h.h.enable()}}a.yg=Ma(a,d.$())}return c}
function Oa(a,c,d){var e=c.local,f=c.closest;c=c.Kn;if(e&&f){if(a.ic&&a.pb){if(a.pb==f&&a.ic==e)return!1;e=a.ic.x+d.x-a.pb.x;a=a.ic.y+d.y-a.pb.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-h.px)}if(a.ic||a.pb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.ic||!a.pb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function Pa(a){a.pb&&a.pb.va()&&(h.g.j.removeNode(h.ua.rv),delete h.ua.rv);if(a.xk)J(a.xk.cb,"blocklyReplaceable",!1),a.xk=null;else if(a.Hq)a.Hq=null;else if(a.Qh)if(a.Qh){var c=a.Qh,d=c.$(),e=d.X,f=d.V,g=d.O;g=c.type==h.T.Jb&&!(g&&g.wa);!(c!=e||f&&f.wa)||g?A(c.va(),!1):c.type==h.T.Kb&&c!=e?(e=c.wa,A(e.$(),!1),f=f?f.wa:null,A(d,!0),f&&f.connect(e)):A(d,!0);if(c.wa)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Qh=null;d.Ca().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
h.Hd.prototype.cj=function(){var a=[];this.zk&&a.push(this.zk);this.yg&&a.push(this.yg);return a};h.Xg=function(a,c){this.Za=a;this.B=c;this.ye=new h.Hd(this.Za);this.vh=null;this.Re=!1;this.Ke=this.Za.$a();this.Um=h.Xg.rB(a)};h.Xg.prototype.H=function(){this.Um.length=0;this.ye&&this.ye.H()};h.Xg.rB=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++){e=K(e);for(var f=0;f<e.length;f++){var g={location:e[f].XG(),icon:e[f]};c.push(g)}}return c};
function Ra(a,c,d){d=a.uj(d);var e=h.g.R.sum(a.Ke,d);a.Za.er(e);for(e=0;e<a.Um.length;e++){var f=a.Um[e];f.icon.HH(h.g.R.sum(f.location,d))}a.vh=Sa(a.B,c);a.ye.update(d,a.vh);a.Re=a.ye.Re;c=a.B.nc;a.Re?(a.Za.tl(!0),a.vh==h.to&&c&&c.Ur(!0)):(a.Za.tl(!1),c&&c.Ur(!1))}
function Ta(a,c,d){Ra(a,c,d);a.Um=[];c=new (h.h.get(h.h.Sl))(a.Za,!1,p(a.Za,!1));h.h.Ha(c);h.g.j.Bl();h.Sa.Vp();d=a.uj(d);c=h.g.R.sum(a.Ke,d);var e=a.Za;e.Ol&&(e.translate(c.x,c.y),e.A.Vc.Cm(e.A.xb));c=a.B.nc;a.Re?(c&&setTimeout(c.Ep.bind(c),100),a.yk(),a.Za.H(!1,!0),h.Zi=[]):c&&c.Ep();a.Re||(Ua(a.Za,d.x,d.y),a.Za.Lg(!1),a.yk(),a.ye.pb?(d=a.ye,d.pb&&(h.h.disable(),Pa(d),h.h.enable(),d.ic.connect(d.pb),d.Hf.ra&&(h.Sa.eA((I(d.ic)?d.pb:d.ic).$()),Va(d.Hf.Sd())))):a.Za.Ea(),Wa(a.Za));a.B.Nc(!0);(d=a.B.Ka)&&
"function"==typeof d.Mr&&d.Mr(a.Za.Ic()?"blocklyToolboxDelete":"blocklyToolboxGrab");h.h.sa(!1)}h.Xg.prototype.yk=function(){var a=new (h.h.get(h.h.Vg))(this.Za);a.kr=this.Ke;a.Zh();h.h.Ha(a)};h.Xg.prototype.uj=function(a){a=new h.g.R(a.x/this.B.scale,a.y/this.B.scale);this.B.mn&&a.scale(1/this.B.options.Jc.scale);return a};h.Xg.prototype.cj=function(){return this.ye&&this.ye.cj?this.ye.cj():[]};h.zE=function(){};h.Js=function(){};function H(a,c,d,e,f){return a.zp(c,d,e,f)==h.ua.Vl}h.Js.prototype.zp=function(a,c,d,e){if(a&&c){if(I(a)){var f=a.$();var g=c.$()}else g=a.$(),f=c.$();f=f==g?h.ua.Ty:c.type!=h.Ei[a.type]?h.ua.Wy:f.A!==g.A?h.ua.Ry:f.Ja&&!g.Ja?h.ua.Uy:h.ua.Vl}else f=h.ua.Vy;if(f!=h.ua.Vl)a=f;else{a:if(f=a.Qi,g=c.Qi,f&&g){for(var k=0;k<f.length;k++)if(-1!=g.indexOf(f[k])){f=!0;break a}f=!1}else f=!0;a=f?d&&!Xa(a,c,e||0)?h.ua.Sy:h.ua.Vl:h.ua.Qy}return a};
function Xa(a,c,d){if(Ya(a,c)>d||c.$().wd())return!1;switch(c.type){case h.T.Sc:return a.wa||-1!=h.Zi.indexOf(c)?a=!1:c.wa?(a=c.va(),a=a.wd()?!(a.V&&a.V.va()):!1):a=!0,a;case h.T.Rc:if(c.isConnected()&&!c.va().wd()||a.isConnected())return!1;break;case h.T.Jb:if(c.isConnected()&&!c.va().hc()&&!c.va().Ja)return!1;break;case h.T.Kb:if(c.isConnected()&&!a.$().X&&!c.va().Ja&&c.va().X)return!1;break;default:return!1}return-1!=h.Zi.indexOf(c)?!1:!0}h.v.register(h.v.N.Hs,h.v.cm,h.Js);h.Kt=function(a){this.Wa=Object.create(null);this.A=a};b=h.Kt.prototype;b.clear=function(){this.Wa=Object.create(null)};b.uw=function(a,c){var d=this.og(c,a.type),e=L(this.A,!1);h.h.sa(!0);try{if(d&&d.xc()!=a.xc()){var f=a.type;c!=d.name&&Za(d,c,e);for(c=0;c<e.length;c++){d=void 0;for(var g=0;d=e[c].P[g];g++)for(var k=0;d.Ua[k];k++);}h.h.Ha(new (h.h.get(h.h.rm))(a));this.Wa[f].splice(this.an(f).indexOf(a),1)}else Za(a,c,e)}finally{h.h.sa(!1)}};
b.$h=function(a,c){var d=this.Ch(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.uw(d,c)};function Za(a,c,d){h.h.Ha(new (h.h.get(h.h.gp))(a,c));a.name=c;for(a=0;a<d.length;a++)for(var e=d[a],f=0;c=e.P[f];f++)for(var g=0;c.Ua[g];g++);}
b.Md=function(a,c,d){var e=this.og(a,c);if(e){if(d&&e.xc()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.xc()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Ch(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||h.g.pf();c=c||"";e=new h.tm(this.A,a,c,e);a=this.Wa[c]||[];a.push(e);delete this.Wa[c];this.Wa[c]=a;return e};
b.Xi=function(a){var c=this.Ch(a);if(c){var d=c.name,e=this.Aq(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=Ha(f,"NAME");d=h.M.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);h.alert(d);return}var g=this;1<e.length?(d=h.M.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),h.confirm(d,function(k){k&&c&&$a(g,c,e)})):$a(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function $a(a,c,d){var e=h.h.Nb();e||h.h.sa(!0);try{for(var f=0;f<d.length;f++)d[f].H(!0);var g=a.Wa[c.type];a=0;for(var k;k=g[a];a++)if(k.xc()==c.xc()){g.splice(a,1);h.h.Ha(new (h.h.get(h.h.rm))(c));break}}finally{e||h.h.sa(!1)}}b.og=function(a,c){if(c=this.Wa[c||""])for(var d=0,e;e=c[d];d++)if(h.gh.nf(e.name,a))return e;return null};b.Ch=function(a){for(var c=Object.keys(this.Wa),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Wa[e][f];f++)if(g.xc()==a)return g;return null};
b.an=function(a){return(a=this.Wa[a||""])?a.slice():[]};b.aj=function(){var a=[],c;for(c in this.Wa)a=a.concat(this.Wa[c]);return a};b.lq=function(){var a=[],c;for(c in this.Wa)for(var d=this.Wa[c],e=0,f;f=d[e];e++)a.push(f.name);return a};b.Aq=function(a){for(var c=[],d=L(this.A,!1),e=0;e<d.length;e++){var f=ha(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].xc()==a&&c.push(d[e])}return c};h.fb=function(a){this.id=h.g.pf();h.fb.ak[this.id]=this;this.options=a||new h.md({});this.K=!!this.options.K;this.kj=!!this.options.kj;this.ii=this.options.ii;this.ue=new (h.v.bj(h.v.N.Hs,this.options,!0))(this);this.Hl=[];this.Zn=[];this.Gm=Object.create(null);this.wf=[];this.ki=[];this.ml=[];this.rp=Object.create(null);this.Jf=Object.create(null);this.Wa=new h.Kt(this);this.Jn=null};b=h.fb.prototype;b.ra=!1;b.Oq=!1;b.gt=1024;b.Jm=null;b.H=function(){this.wf.length=0;this.clear();delete h.fb.ak[this.id]};
h.fb.ut=3;b=h.fb.prototype;b.Je=function(a,c){a=a.$a();c=c.$a();return a.y+h.fb.prototype.Je.offset*a.x-(c.y+h.fb.prototype.Je.offset*c.x)};b.vm=function(a){this.Hl.push(a)};b.Ln=function(a){if(!h.g.ck(this.Hl,a))throw Error("Block not present in workspace's list of top-most blocks.");};b.Vb=function(a){var c=[].concat(this.Hl);a&&1<c.length&&(this.Je.offset=Math.sin(h.g.jc.gi(h.fb.ut)),this.K&&(this.Je.offset*=-1),c.sort(this.Je));return c};function ab(a,c){return a.Jf[c]?a.Jf[c].slice(0):[]}
function L(a,c){if(c){a=a.Vb(!0);c=[];for(var d=0;d<a.length;d++)c.push.apply(c,p(a[d],!0))}else for(c=a.Vb(!1),d=0;d<c.length;d++)c.push.apply(c,x(c[d],!1));return c.filter(function(e){return!e.wd()})}b.clear=function(){this.Oq=!0;try{var a=h.h.Nb();for(a||h.h.sa(!0);this.Hl.length;)this.Hl[0].H(!1);for(;this.Zn.length;)this.Zn[this.Zn.length-1].H(!1);a||h.h.sa(!1);this.Wa.clear();this.Jn&&this.Jn.clear()}finally{this.Oq=!1}};b.$h=function(a,c){this.Wa.$h(a,c)};
b.Md=function(a,c,d){return this.Wa.Md(a,c,d)};b.Aq=function(a){return this.Wa.Aq(a)};b.Xi=function(a){this.Wa.Xi(a)};b.og=function(a,c){return this.Wa.og(a,c)};b.Ch=function(a){return this.Wa.Ch(a)};b.an=function(a){return this.Wa.an(a)};b.aj=function(){return this.Wa.aj()};b.lq=function(){return this.Wa.lq()};b.cn=function(){return 0};b.tj=function(a,c){return new h.si(this,a,c)};
function bb(a,c){if(!cb(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.un?(void 0!==a.options.un[e]?a.options.un[e]:Infinity)-ab(a,e).length:Infinity))return!1;d+=c[e]}return d>(isNaN(a.options.Xk)?Infinity:a.options.Xk-L(a,!1).length)?!1:!0}function cb(a){return Infinity!=a.options.Xk||!!a.options.un}
function db(a,c){var d=c?a.ml:a.ki;a=c?a.ki:a.ml;var e=d.pop();if(e){for(var f=[e];d.length&&e.group&&e.group==d[d.length-1].group;)f.push(d.pop());for(d=0;e=f[d];d++)a.push(e);f=h.h.filter(f,c);h.h.Ga=!1;try{for(d=0;e=f[d];d++)e.run(c)}finally{h.h.Ga=!0}}}function eb(){var a=w;a.ki.length=0;a.ml.length=0;h.h.Xz()}b.Gc=function(a){return this.rp[a]||null};h.fb.ak=Object.create(null);h.fb.Ck=function(a){return h.fb.ak[a]||null};
h.fb.getAll=function(){var a=[],c;for(c in h.fb.ak)a.push(h.fb.ak[c]);return a};h.ta=function(a,c,d,e,f,g){this.B=a;this.kf=c;this.QC=d;this.vr=this.rr=this.Qv=this.yw=null;this.mf=!1;d=h.ta.ex;this.B.K&&(d=-d);this.Gz=h.g.jc.gi(d);a.Ff.appendChild(this.mk(c,!(!f||!g)));this.Cb=e;this.vw&&fb(this);f&&g||(a=this.kf.getBBox(),f=a.width+2*h.ta.$d,g=a.height+2*h.ta.$d);gb(this,f,g);fb(this);hb(this);this.vw=!0};h.ta.$d=6;h.ta.gx=5;h.ta.ex=20;h.ta.vs=4;h.ta.ax=8;h.ta.Eg=null;h.ta.Dg=null;
h.ta.ls=function(){h.ta.Eg&&(h.S.ub(h.ta.Eg),h.ta.Eg=null);h.ta.Dg&&(h.S.ub(h.ta.Dg),h.ta.Dg=null)};h.ta.Lz=function(){h.Touch.Dm();h.ta.ls()};b=h.ta.prototype;b.vw=!1;b.Cb=null;b.He=0;b.Jg=0;b.Qb=0;b.Td=0;b.op=!0;
b.mk=function(a,c){this.pd=h.g.j.L(h.g.F.Qc,{},null);var d={filter:"url(#"+this.B.jb.ba().Vm+")"};h.g.userAgent.sy&&(d={});d=h.g.j.L(h.g.F.Qc,d,this.pd);this.Zt=h.g.j.L(h.g.F.Xe,{},d);this.zm=h.g.j.L(h.g.F.Sb,{"class":"blocklyDraggable",x:0,y:0,rx:h.ta.$d,ry:h.ta.$d},d);c?(this.Af=h.g.j.L(h.g.F.Qc,{"class":this.B.K?"blocklyResizeSW":"blocklyResizeSE"},this.pd),c=2*h.ta.$d,h.g.j.L(h.g.F.Ny,{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Af),h.g.j.L(h.g.F.Rj,{"class":"blocklyResizeLine",x1:c/
3,y1:c-1,x2:c-1,y2:c/3},this.Af),h.g.j.L(h.g.F.Rj,{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Af)):this.Af=null;this.B.options.readOnly||(this.rr=h.S.Ma(this.zm,"mousedown",this,this.Kz),this.Af&&(this.vr=h.S.Ma(this.Af,"mousedown",this,this.EC)));this.pd.appendChild(a);return this.pd};b.Ca=function(){return this.pd};
b.Kz=function(a){var c=ib(this.B,a);if(c){if(c.jj)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.fd||(c.fd=this);c.xd=a}};b.wl=function(){};b.Ic=function(){return!1};b.tl=function(){};
b.EC=function(a){var c=this.pd.parentNode;c.lastChild!==this.pd&&c.appendChild(this.pd);h.ta.ls();h.g.Qk(a)||(this.B.ds(a,new h.g.R(this.B.K?-this.Qb:this.Qb,this.Td)),h.ta.Eg=h.S.Ma(document,"mouseup",this,h.ta.Lz),h.ta.Dg=h.S.Ma(document,"mousemove",this,this.FC),h.fc());a.stopPropagation()};b.FC=function(a){this.op=!1;var c=this.B;a=h.g.al(a,C(c),Ca(c));a.x/=c.scale;a.y/=c.scale;c=h.g.R.sum(c.Ku,a);gb(this,this.B.K?-c.x:c.x,c.y);this.B.K&&fb(this)};
function jb(a,c,d){var e=a.B.K?a.Cb.x-c.x-a.Qb:c.x+a.Cb.x;c=c.y+a.Cb.y;return Math.max(0,Math.min(1,(Math.min(e+a.Qb,d.left+d.width)-Math.max(e,d.left))*(Math.min(c+a.Td,d.top+d.height)-Math.max(c,d.top))/(a.Qb*a.Td)))}function fb(a){var c=a.Cb.x;c=a.B.K?c-(a.He+a.Qb):c+a.He;a.moveTo(c,a.Jg+a.Cb.y)}b.moveTo=function(a,c){this.pd.setAttribute("transform","translate("+a+","+c+")")};b.Lg=function(a){!a&&this.Qv&&this.Qv()};
function gb(a,c,d){var e=2*h.ta.$d;c=Math.max(c,e+45);d=Math.max(d,e+20);a.Qb=c;a.Td=d;a.zm.setAttribute("width",c);a.zm.setAttribute("height",d);a.Af&&(a.B.K?a.Af.setAttribute("transform","translate("+2*h.ta.$d+","+(d-e)+") scale(-1 1)"):a.Af.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.op){c=a.B.sj.fj(!0);d=-a.Qb/4;if(!(a.Qb>c.width)){if(a.B.K){e=a.Cb.x-d;var f=e-a.Qb;var g=c.left+c.width,k=c.left+h.ya.Mc/a.B.scale}else f=d+a.Cb.x,e=f+a.Qb,k=c.left,g=c.left+c.width-h.ya.Mc/a.B.scale;
a.B.K?f<k?d=-(k-a.Cb.x+a.Qb):e>g&&(d=-(g-a.Cb.x)):f<k?d=k-a.Cb.x:e>g&&(d=g-a.Cb.x-a.Qb)}f=d;d=-a.Td/4;if(!(a.Td>c.height)){e=a.Cb.y+d;g=e+a.Td;k=c.top;var l=c.top+c.height-h.ya.Mc/a.B.scale,m=a.Cb.y;e<k?d=k-m:g>l&&(d=l-m-a.Td)}k=d;g=a.QC.getBBox();d={x:f,y:-a.Td-a.B.jb.ba().Sj};e={x:-a.Qb-30,y:k};k={x:g.width,y:k};l={x:f,y:g.height};f=g.width<g.height?k:l;g=g.width<g.height?l:k;k=jb(a,d,c);l=jb(a,e,c);m=jb(a,f,c);c=Math.max(k,l,m,jb(a,g,c));k==c?(a.He=d.x,a.Jg=d.y):l==c?(a.He=e.x,a.Jg=e.y):m==c?(a.He=
f.x,a.Jg=f.y):(a.He=g.x,a.Jg=g.y)}fb(a);hb(a);a.yw&&a.yw()}
function hb(a){var c=[],d=a.Qb/2,e=a.Td/2,f=-a.He,g=-a.Jg;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.B.K&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),r=Math.cos(m),q=new h.g.Uc(a.Qb,a.Td);m=(q.width+q.height)/h.ta.gx;m=Math.min(m,q.width,q.height)/4;q=1-h.ta.ax/k;f=d+q*f;g=e+q*g;q=d+m*r;var t=e+m*n;d-=m*r;e-=m*n;n=l+a.Gz;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/h.ta.vs;k=Math.cos(n)*k/h.ta.vs;c.push("M"+
q+","+t);c.push("C"+(q+k)+","+(t+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.Zt.setAttribute("d",c.join(" "))}b.Ie=function(a){this.zm.setAttribute("fill",a);this.Zt.setAttribute("fill",a)};b.H=function(){this.rr&&h.S.ub(this.rr);this.vr&&h.S.ub(this.vr);h.ta.ls();h.g.j.removeNode(this.pd);this.mf=!0};b.er=function(a,c){a?a.ji(c.x,c.y):this.moveTo(c.x,c.y);this.He=this.B.K?this.Cb.x-c.x-this.Qb:c.x-this.Cb.x;this.Jg=c.y-this.Cb.y;hb(this)};
b.$a=function(){return new h.g.R(this.B.K?-this.He+this.Cb.x-this.Qb:this.Cb.x+this.He,this.Cb.y+this.Jg)};h.ta.Ne=function(a){var c=h.g.j.L(h.g.F.Dt,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:h.ta.$d},null);a=a.split("\n");for(var d=0;d<a.length;d++){var e=h.g.j.L(h.g.F.Ft,{dy:"1em",x:h.ta.$d},c),f=document.createTextNode(a[d]);e.appendChild(f)}return c};
h.ta.JG=function(a,c,d){d=new h.ta(c.A,a,c.cb.tb,d,null,null);d.pd.dataset&&(d.pd.dataset.blockId=c.id);if(c.K){c=a.getBBox().width;for(var e=0,f;f=a.childNodes[e];e++)f.setAttribute("text-anchor","end"),f.setAttribute("x",c+h.ta.$d)}return d};h.h.Se=function(a){this.re=(this.$c="undefined"==typeof a)?"":a.id;this.Ob=this.$c?"":a.A.id;this.group=h.h.Nb();this.Ga=h.h.Ga};h.g.object.U(h.h.Se,h.h.Abstract);h.h.Se.prototype.qa=function(){var a=h.h.Se.u.qa.call(this);this.re&&(a.commentId=this.re);return a};h.h.Se.prototype.aa=function(a){h.h.Se.u.aa.call(this,a);this.re=a.commentId};h.h.wi=function(a,c,d){h.h.wi.u.constructor.call(this,a);a&&(this.An="undefined"==typeof c?"":c,this.zn="undefined"==typeof d?"":d)};h.g.object.U(h.h.wi,h.h.Se);
b=h.h.wi.prototype;b.type=h.h.Es;b.qa=function(){var a=h.h.wi.u.qa.call(this);a.oldContents=this.An;a.newContents=this.zn;return a};b.aa=function(a){h.h.wi.u.aa.call(this,a);this.An=a.oldContents;this.zn=a.newContents};b.pj=function(){return this.An==this.zn};b.run=function(a){var c;(c=v(this).Gm[this.re]||null)?c.FH(a?this.zn:this.An):console.warn("Can't change non-existent comment: "+this.re)};h.h.Te=function(a){h.h.Te.u.constructor.call(this,a);a&&(this.xml=a.Iw())};h.g.object.U(h.h.Te,h.h.Se);
h.h.Te.prototype.type=h.h.Zl;h.h.Te.prototype.qa=function(){var a=h.h.Te.u.qa.call(this);a.xml=h.I.we(this.xml);return a};h.h.Te.prototype.aa=function(a){h.h.Te.u.aa.call(this,a);this.xml=h.I.Ne(a.xml)};h.h.Te.prototype.run=function(a){h.h.Is(this,a)};h.h.Is=function(a,c){var d=v(a);c?(c=h.g.xml.createElement("xml"),c.appendChild(a.xml),h.I.mg(c,d)):(d=d.Gm[a.re]||null)?d.H(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.re)};
h.h.Ue=function(a){h.h.Ue.u.constructor.call(this,a);a&&(this.xml=a.Iw())};h.g.object.U(h.h.Ue,h.h.Se);h.h.Ue.prototype.type=h.h.Fs;h.h.Ue.prototype.qa=function(){return h.h.Ue.u.qa.call(this)};h.h.Ue.prototype.aa=function(a){h.h.Ue.u.aa.call(this,a)};h.h.Ue.prototype.run=function(a){h.h.Is(this,!a)};h.h.xi=function(a){h.h.xi.u.constructor.call(this,a);a&&(this.Gp=a,this.Wh=a.fv(),this.Th=null)};h.g.object.U(h.h.xi,h.h.Se);b=h.h.xi.prototype;
b.Zh=function(){if(!this.Gp)throw Error("Tried to record the new position of a comment on the same event twice.");this.Th=this.Gp.fv();this.Gp=null};b.type=h.h.Gj;b.qa=function(){var a=h.h.xi.u.qa.call(this);this.Wh&&(a.oldCoordinate=Math.round(this.Wh.x)+","+Math.round(this.Wh.y));this.Th&&(a.newCoordinate=Math.round(this.Th.x)+","+Math.round(this.Th.y));return a};
b.aa=function(a){h.h.xi.u.aa.call(this,a);if(a.oldCoordinate){var c=a.oldCoordinate.split(",");this.Wh=new h.g.R(Number(c[0]),Number(c[1]))}a.newCoordinate&&(c=a.newCoordinate.split(","),this.Th=new h.g.R(Number(c[0]),Number(c[1])))};b.pj=function(){return h.g.R.nf(this.Wh,this.Th)};b.run=function(a){var c;if(c=v(this).Gm[this.re]||null){a=a?this.Th:this.Wh;var d=c.fv();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.re)};h.v.register(h.v.N.Ab,h.h.Zl,h.h.Te);
h.v.register(h.v.N.Ab,h.h.Es,h.h.wi);h.v.register(h.v.N.Ab,h.h.Gj,h.h.xi);h.v.register(h.v.N.Ab,h.h.Fs,h.h.Ue);h.Ul=function(a,c){this.Mb=a;this.B=c;this.vh=null;this.co=!1;this.Ke=this.Mb.$a();this.xh=h.g.Kh()&&c.Vc?c.Vc:null};h.Ul.prototype.H=function(){this.xh=this.B=this.Mb=null};function kb(a,c,d){d=a.uj(d);d=h.g.R.sum(a.Ke,d);a.Mb.er(a.xh,d);a.Mb.Ic()&&(a.vh=Sa(a.B,c),a.co=a.vh!=h.Ls,c=a.B.nc,a.co?(a.Mb.tl(!0),a.vh==h.to&&c&&c.Ur(!0)):(a.Mb.tl(!1),c&&c.Ur(!1)))}
function lb(a,c,d){kb(a,c,d);c=a.uj(d);c=h.g.R.sum(a.Ke,c);a.Mb.moveTo(c.x,c.y);c=a.B.nc;a.co?(c&&setTimeout(c.Ep.bind(c),100),a.yk(),a.Mb.H(!1,!0)):c&&c.Ep();a.co||(a.xh&&a.xh.Cm(a.B.Ff),a.Mb.Lg&&a.Mb.Lg(!1),a.yk());a.B.Nc(!0);(c=a.B.Ka)&&"function"==typeof c.Mr&&c.Mr(a.Mb.Ic()?"blocklyToolboxDelete":"blocklyToolboxGrab");h.h.sa(!1)}h.Ul.prototype.yk=function(){if(this.Mb.eH){var a=new (h.h.get(h.h.Gj))(this.Mb);a.Wh=this.Ke;a.Zh();h.h.Ha(a)}};
h.Ul.prototype.uj=function(a){a=new h.g.R(a.x/this.B.scale,a.y/this.B.scale);this.B.mn&&a.scale(1/this.B.options.Jc.scale);return a};h.h.Mf=function(a,c,d){h.h.Mf.u.constructor.call(this,a?a.A.id:c);this.Xa=a?a.id:null;this.Gw=d};h.g.object.U(h.h.Mf,h.h.ne);h.h.Mf.prototype.type=h.h.Fj;h.h.Mf.prototype.qa=function(){var a=h.h.Mf.u.qa.call(this);a.targetType=this.Gw;this.Xa&&(a.blockId=this.Xa);return a};h.h.Mf.prototype.aa=function(a){h.h.Mf.u.aa.call(this,a);this.Gw=a.targetType;this.Xa=a.blockId};h.v.register(h.v.N.Ab,h.h.Fj,h.h.Mf);h.um=function(a){this.B=a;this.tv=mb(this.B);this.Uw=nb(this.B);this.ZC=new h.g.R(a.scrollX,a.scrollY)};h.um.prototype.H=function(){this.B=null};h.um.prototype.ds=function(){h.selected&&ob(h.selected);Da(this.B)};h.um.prototype.wh=function(a){a=h.g.R.sum(this.ZC,a);if(this.tv&&this.Uw)this.B.scroll(a.x,a.y);else if(this.tv)this.B.scroll(a.x,this.B.scrollY);else if(this.Uw)this.B.scroll(this.B.scrollX,a.y);else throw new TypeError("Invalid state.");};h.je=function(a,c){this.Nv=null;this.vc=new h.g.R(0,0);this.wb=this.Yb=this.yj=this.zj=this.fd=null;this.xu=c;this.Mk=this.Lh=this.Nk=this.Dh=!1;this.xd=a;this.la=this.oi=this.qe=this.gg=this.En=this.Dn=null;this.kn=this.jj=this.cu=!1;this.nv=!h.Cx};b=h.je.prototype;b.H=function(){h.Touch.Dm();h.G.kD();this.xu.ec=null;this.Dn&&h.S.ub(this.Dn);this.En&&h.S.ub(this.En);this.qe&&this.qe.H();this.oi&&this.oi.H();this.gg&&this.gg.H()};
function pb(a,c){a.vc=h.g.R.Pm(new h.g.R(c.clientX,c.clientY),a.Nv);if(a.Dh)var d=!1;else a.Dh=h.g.R.FB(a.vc)>(a.la?h.$x:h.Bx),d=a.Dh;if(d){if(a.cu)throw Error("updateIsDragging_ should only be called once per gesture.");a.cu=!0;if(a.fd){a.Mk=!0;a.gg=new h.Ul(a.fd,a.wb);d=a.gg;h.h.Nb()||h.h.sa(!0);d.B.Nc(!1);d.Mb.op=!1;d.xh&&(d.Mb.moveTo(0,0),d.xh.ji(d.Ke.x,d.Ke.y),ka(d.xh,d.Mb.Ca()));d.Mb.Lg&&d.Mb.Lg(!0);var e=d.B.Ka;e&&"function"==typeof e.ip&&e.ip(d.Mb.Ic()?"blocklyToolboxDelete":"blocklyToolboxGrab");
kb(a.gg,a.xd,a.vc);d=!0}else d=!1;if(!d){if(a.Yb)if(a.la?(a.Yb&&a.la.cH(a.Yb)?!a.la.AB()||a.la.hH(a.vc)?(a.wb=a.la.Yn,qb(a.wb),h.h.Nb()||h.h.sa(!0),a.yj=null,a.Yb=a.la.gA(a.Yb),a.Yb.select(),d=!0):d=!1:d=!1,a.Lh=d):a.Yb.hc()&&(a.Lh=!0),a.Lh){a.qe=new h.Xg(a.Yb,a.wb);d=a.qe;e=a.vc;var f=a.nv;h.h.Nb()||h.h.sa(!0);var g=new (h.h.get(h.h.Sl))(d.Za,!0,p(d.Za,!1));h.h.Ha(g);d.B.mn&&Va(d.Za);h.g.j.Al();d.B.Nc(!1);h.Sa.Vp();if(d.Za.getParent()||f&&d.Za.X&&d.Za.X.va())A(d.Za,f),e=d.uj(e),e=h.g.R.sum(d.Ke,
e),d.Za.translate(e.x,e.y),h.Sa.sA(d.Za),e=d.ye,e.ym=Na(e);d.Za.Lg(!0);e=d.Za;e.Ol&&(f=e.$a(),e.Ca().removeAttribute("transform"),e.A.Vc.ji(f.x,f.y),(f=e.Ca())&&ka(e.A.Vc,f));(e=d.B.Ka)&&"function"==typeof e.ip&&e.ip(d.Za.Ic()?"blocklyToolboxDelete":"blocklyToolboxGrab");Ra(a.qe,a.xd,a.vc);d=!0}else d=!1;else d=!1;if(d=!d)if(a.la)d=a.la.AB();else if(d=a.wb)d=a.wb,d=d.options.Wb&&d.options.Wb.wh;d&&(a.oi=new h.um(a.wb),a.Nk=!0,a.oi.ds())}h.zg()}a.xd=c}
b.Xp=function(a){h.g.nn(a)?this.cancel():(this.jj=!0,h.Sa.Vp(),qb(this.wb),this.wb.mn&&this.wb.resize(),h.fc(!!this.la),ma(this.wb),this.xd=a,h.G.block(),this.Yb&&this.Yb.select(),h.g.Qk(a)?ba(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||h.EB(a,this),this.Nv=new h.g.R(a.clientX,a.clientY),this.nv=a.altKey||a.ctrlKey||a.metaKey,this.dk(a)))};
b.dk=function(a){this.Dn=h.S.Ma(document,"mousemove",null,this.hj.bind(this));this.En=h.S.Ma(document,"mouseup",null,this.dn.bind(this));a.preventDefault();a.stopPropagation()};b.hj=function(a){pb(this,a);this.Nk?this.oi.wh(this.vc):this.Lh?Ra(this.qe,this.xd,this.vc):this.Mk&&kb(this.gg,this.xd,this.vc);a.preventDefault();a.stopPropagation()};
b.dn=function(a){pb(this,a);h.zg();if(this.kn)console.log("Trying to end a gesture recursively.");else{this.kn=!0;if(this.Mk)lb(this.gg,a,this.vc);else if(this.Lh)Ta(this.qe,a,this.vc);else if(this.Nk){var c=this.oi;c.wh(this.vc);Ea(c.B)}else if(this.fd&&!this.Dh)this.fd.OC&&this.fd.OC(),this.fd.select&&this.fd.select();else if(rb(this)){c=this.zj;var d=this.xd;F(c)&&c.Vn(d);sb(this)}else!this.yj||this.Dh||rb(this)?this.yj||this.fd||this.zj||this.Dh||(c=this.xu,h.selected&&ob(h.selected),c=this.wb||
c,h.h.Ha(new (h.h.get(h.h.Fj))(null,c.id,"workspace"))):(this.la&&this.la.np?this.Yb.isEnabled()&&(h.h.Nb()||h.h.sa(!0),Wa(this.la.gA(this.Yb))):(c=new (h.h.get(h.h.Fj))(this.yj,this.wb.id,"block"),h.h.Ha(c)),sb(this),h.h.sa(!1));a.preventDefault();a.stopPropagation();this.H()}};b.cancel=function(){if(!this.kn){h.zg();if(this.Mk)lb(this.gg,this.xd,this.vc);else if(this.Lh)Ta(this.qe,this.xd,this.vc);else if(this.Nk){var a=this.oi;a.wh(this.vc);Ea(a.B)}this.H()}};
function ba(a,c){a.Yb?(sb(a),h.fc(!!a.la),a.Yb.wl(c)):a.fd?a.fd.wl(c):a.wb&&!a.la&&(h.fc(),a.wb.wl(c));c.preventDefault();c.stopPropagation();a.H()}function sb(a){a.Yb&&!a.la&&Va(a.Yb)}function tb(a,c){c.Ja?tb(a,c.getParent()):a.Yb=c}function rb(a){return(a.zj?F(a.zj):!1)&&!a.Dh&&(!a.la||!a.la.np)}b.ad=function(){return this.Nk||this.Lh||this.Mk};b.cj=function(){return this.qe?this.qe.cj():[]};h.je.Ih=function(){for(var a=h.fb.getAll(),c=0,d;d=a[c];c++)if(d.ec)return!0;return!1};h.jd=function(a,c,d){this.Oe=this.so;this.Lw=this.Tw=null;this.lc=new h.g.Uc(0,0);this.o=this.dr=this.ei=this.mc=this.Db=this.Fc=this.yf=this.lf=null;d&&this.hk(d);this.setValue(a);c&&(this.Tw=c)};b=h.jd.prototype;b.so=null;b.name=void 0;b.mf=!1;b.Mv=50;b.J=null;b.tg=!0;b.Sg=!0;b.iu=null;h.jd.kt="\u00a0";b=h.jd.prototype;b.Jj=!0;b.vt=!1;b.hk=function(a){var c=a.tooltip;"string"==typeof c&&(c=h.g.Lc(a.tooltip));c&&this.Pg(c)};
b.ba=function(){!this.o&&this.J&&this.J.A&&this.J.A.ra&&(this.o=this.J.A.jb.ba());return this.o};b.$=function(){return this.J};b.Va=function(){this.Fc||(this.Fc=h.g.j.L(h.g.F.Qc,{},null),this.isVisible()||(this.Fc.style.display="none"),this.J.Ca().appendChild(this.Fc),this.fn(),ub(this),this.Pg(this.Lw),h.G.dk(la(this)),this.dr=h.S.Ma(la(this),"mousedown",this,this.bl))};b.fn=function(){vb(this);wb(this)};
function vb(a){a.Db=h.g.j.L(h.g.F.Sb,{rx:a.ba().em,ry:a.ba().em,x:0,y:0,height:a.lc.height,width:a.lc.width,"class":"blocklyFieldRect"},a.Fc)}function wb(a){a.mc=h.g.j.L(h.g.F.Dt,{"class":"blocklyText"},a.Fc);a.ba().wo&&a.mc.setAttribute("dominant-baseline","central");a.ei=document.createTextNode("");a.mc.appendChild(a.ei)}b.Bk=function(a){this.setValue(a.textContent)};b.H=function(){h.C.Jk(this);h.Y.Jk(this);h.G.Nw(la(this));this.dr&&h.S.ub(this.dr);h.g.j.removeNode(this.Fc);this.mf=!0};
function ub(a){var c=a.Fc;a.Jj&&c&&(a.J.vd()?(h.g.j.Bb(c,"blocklyEditableText"),h.g.j.Kc(c,"blocklyNonEditableText"),c.style.cursor=a.Ij):(h.g.j.Bb(c,"blocklyNonEditableText"),h.g.j.Kc(c,"blocklyEditableText"),c.style.cursor=""))}function F(a){return!!a.J&&a.J.vd()&&!!a.Vn&&"function"===typeof a.Vn}b.isVisible=function(){return this.Sg};b.Xb=function(a){if(this.Sg!=a){this.Sg=a;var c=this.Ca();c&&(c.style.display=a?"block":"none")}};b.Ca=function(){return this.Fc};b.Ub=function(){};
b.Or=function(){this.ei&&(this.ei.nodeValue=xb(this));this.Rw()};b.Rw=function(){var a=this.ba(),c=this.Db?this.ba().Kj:0,d=2*c,e=a.fm,f=0;this.mc&&(f=h.g.j.rq(this.mc,a.dh,a.Pf,a.Of),d+=f);this.Db&&(e=Math.max(e,a.Ps));this.lc.height=e;this.lc.width=d;yb(this,c,f);zb(this)};function yb(a,c,d){if(a.mc){var e=a.ba(),f=a.lc.height/2;a.mc.setAttribute("x",a.J.K?a.lc.width-d-c:c);a.mc.setAttribute("y",e.wo?f:f-e.fm/2+e.vo)}}
function zb(a){a.Db&&(a.Db.setAttribute("width",a.lc.width),a.Db.setAttribute("height",a.lc.height),a.Db.setAttribute("rx",a.ba().em),a.Db.setAttribute("ry",a.ba().em))}b.qf=function(){if(!this.isVisible())return new h.g.Uc(0,0);this.tg?(this.Or(),this.tg=!1):this.Sg&&0==this.lc.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Or());return this.lc};
function xb(a){var c=Ja(a);if(!c)return h.jd.kt;c.length>a.Mv&&(c=c.substring(0,a.Mv-2)+"\u2026");c=c.replace(/\s/g,h.jd.kt);a.J&&a.J.K&&(c+="\u200f");return c}function Ja(a){if(a.zq){var c=a.zq.call(a);if(null!==c)return String(c)}return String(a.getValue())}b.Vk=function(){this.tg=!0;this.o=null};function Ab(a){a.tg=!0;a.J&&a.J.ra&&(a.J.Ea(),a.J.Ec(),a.ps())}
b.setValue=function(a){if(null!==a){var c=this.Sm(a);a=Bb(this,a,c);if(!(a instanceof Error)){if(c=this.Tw)if(c=c.call(this,a),a=Bb(this,a,c),a instanceof Error)return;c=this.J;if(!c||!c.mf){var d=this.getValue();d===a?this.tk(a):(c&&h.h.isEnabled()&&h.h.Ha(new (h.h.get(h.h.Ug))(c,"field",this.name||null,d,a)),this.tk(a),this.tg&&Ab(this))}}}};function Bb(a,c,d){if(null===d)return a.tg&&Ab(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.Oe};
b.Sm=function(a){return null===a||void 0===a?null:a};b.tk=function(a){this.Oe=a;this.tg=!0};b.bl=function(a){if(this.J&&this.J.A&&(a=ib(this.J.A,a))){if(a.jj)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.zj||(a.zj=this)}};b.Pg=function(a){a||""===a||(a=this.J);var c=la(this);c?c.Zd=a:this.Lw=a};function la(a){return a.iu||a.Ca()}
b.Ae=function(){for(var a=null,c=this.J,d=c.P,e=0;e<c.P.length;e++)for(var f=d[e],g=f.Ua,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};b.Vu=function(){return!1};b.Bf=function(a){a?(this.Fc.appendChild(a),this.lf=a):this.lf=null};b.Ng=function(a){a?(this.Fc.appendChild(a),this.yf=a):this.yf=null};b.ps=function(){var a=this.J.A;a.Sk&&this.lf&&a.Dk().draw();a.Sk&&this.yf&&a.Fk(h.Uj.ft).draw()};h.Pc=function(a,c,d){this.Bm=null;h.Pc.u.constructor.call(this,a,null,d);d||(this.Bm=c||null)};h.g.object.U(h.Pc,h.jd);h.Pc.prototype.so="";h.Pc.aa=function(a){var c=h.g.Lc(a.text);return new h.Pc(c,void 0,a)};h.Pc.prototype.Jj=!1;h.Pc.prototype.hk=function(a){h.Pc.u.hk.call(this,a);this.Bm=a["class"]};h.Pc.prototype.fn=function(){wb(this);this.Bm&&h.g.j.Bb(this.mc,this.Bm)};h.Pc.prototype.Sm=function(a){return null===a||void 0===a?null:String(a)};h.ng.register("field_label",h.Pc);h.ct=function(a,c,d,e){if(a!=h.Ia.ge&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.J=d;this.connection=e;this.Ua=[]};b=h.ct.prototype;b.align=h.bb.Dd.Id;b.Sg=!0;b.$=function(){return this.J};function M(a,c,d){Cb(a,a.Ua.length,c,d);return a}
function Cb(a,c,d,e){if(0>c||c>a.Ua.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=h.ng.aa({type:"field_label",text:d}));if(d.J)throw Error("Field already bound to a block.");d.J=a.J;a.J.ra&&(d.Va(),d.Ub());d.name=e;d.Xb(a.isVisible());d.Fr&&(c=Cb(a,c,d.Fr));a.Ua.splice(c,0,d);++c;d.hs&&(c=Cb(a,c,d.hs));a.J.ra&&(a.J=a.J,a.J.Ea(),a.J.Ec());return c}b.isVisible=function(){return this.Sg};
b.Xb=function(a){if(this.Sg!=a){this.Sg=a;for(var c=0,d;d=this.Ua[c];c++)d.Xb(a);if(this.connection){this.connection=this.connection;if(a)Db(this.connection);else if(c=this.connection,O(c,!1),c.wa)for(c=p(c.va(),!1),d=0;d<c.length;d++){for(var e=c[d],f=e.Qd(!0),g=0;g<f.length;g++)O(f[g],!1);e=K(e);for(g=0;g<e.length;g++)e[g].Xb(!1)}if(c=this.connection.va())c.Ca().style.display=a?"block":"none"}}};b.Vk=function(){for(var a=0,c;c=this.Ua[a];a++)c.Vk()};
b.wj=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.wj(a)};function Eb(a,c){a.align=c;a.J.ra&&(a.J=a.J,a.J.Ea());return a}b.ul=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.ul(a)};b.ej=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.ej()};b.Va=function(){if(this.J.A.ra)for(var a=0;a<this.Ua.length;a++)this.Ua[a].Va()};
b.H=function(){for(var a=0,c;c=this.Ua[a];a++)c.H();this.connection&&this.connection.H();this.J=null};h.si=function(a,c,d){if(h.Generator&&"undefined"!=typeof h.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.Gc(d)?d:h.g.pf();a.rp[this.id]=this;this.V=this.X=this.O=null;this.P=[];this.tf=void 0;this.disabled=!1;this.Zd="";this.contextMenu=!0;this.Ge=null;this.gf=[];this.Mu=this.Pv=this.Mp=!0;this.ph=this.Ja=!1;this.rh=null;this.jf={text:null,jw:!1,size:new h.g.Uc(160,80)};this.Zw=new h.g.R(0,0);this.A=a;this.bd=a.ug;this.K=
a.K;this.oj=!1;this.Be=void 0;this.ra=null;if(c){this.type=c;d=h.$b[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);h.g.object.Bg(this,d)}a.vm(this);a.Jf[this.type]||(a.Jf[this.type]=[]);a.Jf[this.type].push(this);(a=h.h.Nb())||h.h.sa(!0);c=h.h.Ga;try{"function"==typeof this.Va&&(h.h.Ga=!1,this.Va(),h.h.Ga=c),h.h.isEnabled()&&h.h.Ha(new (h.h.get(h.h.ri))(this))}finally{a||h.h.sa(!1),h.h.Ga=c}this.tB=this.tf;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=
typeof a)throw Error("onchange must be a function.");this.cl&&h.g.ck(this.A.wf,this.cl);if(this.onchange=a)this.cl=a.bind(this),this.A.wf.push(this.cl)}};h.si.Yl=h.bb.Yl;h.si.Xl=h.bb.Xl;b=h.si.prototype;b.data=null;b.mf=!1;b.qd="#000000";b.Cl=null;
b.H=function(a){if(this.A){this.cl&&h.g.ck(this.A.wf,this.cl);A(this,a);h.h.isEnabled()&&h.h.Ha(new (h.h.get(h.h.zs))(this));h.h.disable();try{if(this.A){this.A.Ln(this);var c=this.A;c.Jf[this.type].splice(c.Jf[this.type].indexOf(this),1);c.Jf[this.type].length||delete c.Jf[this.type];delete this.A.rp[this.id];this.A=null}h.selected==this&&(h.selected=null);for(var d=this.gf.length-1;0<=d;d--)this.gf[d].H(!1);d=0;for(var e;e=this.P[d];d++)e.H();this.P.length=0;var f=this.Qd(!0);d=0;for(var g;g=f[d];d++)g.H()}finally{h.h.enable(),
this.mf=!0}}};function A(a,c){if(a.O){var d=null;a.O.isConnected()&&(d=a.O.wa,a.O.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.P.length;e++){var f=a.P[e].connection;if(f&&f.type==h.T.Jb&&f.wa){if(c){c=null;break a}c=f}}}c&&c.isConnected()&&!c.va().Ja&&(c=c.wa,c.disconnect(),H(a.A.ue,c,d,!1)?d.connect(c):c.Bn(d))}}else a.V&&(d=null,a.V.isConnected()&&(d=a.V.wa,a.V.disconnect()),e=u(a),c&&e&&!e.Ja&&(c=a.X.wa,c.disconnect(),d&&H(a.A.ue,d,c,!1)&&d.connect(c)))}
b.Qd=function(){var a=[];this.O&&a.push(this.O);this.V&&a.push(this.V);this.X&&a.push(this.X);for(var c=0,d;d=this.P[c];c++)d.connection&&a.push(d.connection);return a};b.qn=function(){for(var a=this.X;a;){var c=a.va();if(!c)return a;a=c.X}return null};b.Ec=function(){};b.getParent=function(){return this.Ge};function ja(a,c){for(var d=0,e;e=a.P[d];d++)if(e.connection&&e.connection.va()==c)return e;return null}function Fb(a){do{var c=a;a=a.getParent();if(!a)return null}while(u(a)==c);return a}
function u(a){return a.X&&a.X.va()}b.Sd=function(){var a=this;do{var c=a;a=c.Ge}while(a);return c};function x(a,c){if(!c)return a.gf;c=[];for(var d=0,e;e=a.P[d];d++)e.connection&&(e=e.connection.va())&&c.push(e);(a=u(a))&&c.push(a);return c}
b.Rn=function(a){if(a!=this.Ge){if(this.Ge){h.g.ck(this.Ge.gf,this);if(this.V&&this.V.isConnected())throw Error("Still connected to previous block.");if(this.O&&this.O.isConnected())throw Error("Still connected to parent block.");this.Ge=null}else this.A.Ln(this);(this.Ge=a)?a.gf.push(this):this.A.vm(this)}};function p(a,c){var d=[a];a=x(a,c);for(var e,f=0;e=a[f];f++)d.push.apply(d,p(e,c));return d}b.Ic=function(){return this.Mp&&!this.Ja&&!(this.A&&this.A.options.readOnly)};
b.hc=function(){return this.Pv&&!this.Ja&&!(this.A&&this.A.options.readOnly)};b.Vr=function(a){this.Pv=a};b.Xr=function(a){this.Ja=a};b.wd=function(){return this.oj};b.Aw=function(a){this.oj=a};b.vd=function(){return this.Mu&&!(this.A&&this.A.options.readOnly)};b.Tr=function(a){this.Mu=a;a=0;for(var c;c=this.P[a];a++)for(var d=0,e;e=c.Ua[d];d++)ub(e)};
b.uq=function(a,c){var d=this.Qd(!0);a=a.Qd(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.Pg=function(a){this.Zd=a};b.pq=function(){return this.qd};b.Ie=function(a){this.qd=h.g.Gn(a).Ik};b.ci=function(a){this.Cl=a};function z(a,c){for(var d=0,e;e=a.P[d];d++)for(var f=0,g;g=e.Ua[f];f++)if(g.name==c)return g;return null}function ha(a){for(var c=0,d;d=a.P[c];c++)for(var e=0;d.Ua[e];e++);return[]}
function Ha(a,c){return(a=z(a,c))?a.getValue():null}function Gb(a,c){a=z(a,"NAME");if(!a)throw Error('Field "NAME" not found.');a.setValue(c)}b.Sn=function(a,c){if(a){void 0===c&&(c=null);if(!this.V){if(this.O)throw Error("Remove output connection prior to adding previous connection.");this.V=this.Uk(h.T.Sc)}this.V.wj(c)}else if(this.V){if(this.V.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.V.H();this.V=null}};
b.Pn=function(a,c){if(a)void 0===c&&(c=null),this.X||(this.X=this.Uk(h.T.Kb)),this.X.wj(c);else if(this.X){if(this.X.isConnected())throw Error("Must disconnect next statement before removing connection.");this.X.H();this.X=null}};
b.Qn=function(a,c){if(a){void 0===c&&(c=null);if(!this.O){if(this.V)throw Error("Remove previous connection prior to adding output connection.");this.O=this.Uk(h.T.Rc)}this.O.wj(c)}else if(this.O){if(this.O.isConnected())throw Error("Must disconnect output value before removing connection.");this.O.H();this.O=null}};b.Mg=function(a){this.tf!=a&&(h.h.Ha(new (h.h.get(h.h.Ug))(this,"inline",null,this.tf,a)),this.tf=a)};
function Ka(a){if(void 0!=a.tf)return a.tf;for(var c=1;c<a.P.length;c++)if(a.P[c-1].type==h.Ia.ge&&a.P[c].type==h.Ia.ge)return!1;for(c=1;c<a.P.length;c++)if(a.P[c-1].type==h.Ia.oe&&a.P[c].type==h.Ia.ge)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.Cf=function(a){this.isEnabled()!=a&&(h.h.Ha(new (h.h.get(h.h.Ug))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Hb(a){for(a=Fb(a);a;){if(a.disabled)return!0;a=Fb(a)}return!1}b.isCollapsed=function(){return this.ph};
b.bi=function(a){this.ph!=a&&(h.h.Ha(new (h.h.get(h.h.Ug))(this,"collapsed",null,this.ph,a)),this.ph=a)};
b.toString=function(a,c){function d(n){var r=n.Qi;!r&&n.wa&&(r=n.wa.Qi);return!!r&&(-1!=r.indexOf("Boolean")||-1!=r.indexOf("Number"))}function e(){k&&k.lb()==l.lb()&&k.za==l.za&&(k=null)}var f=[];c=c||"?";var g=h.D.Uf;h.D.Uf=!0;for(var k=h.D.kg(this),l=k;k;){switch(k.lb()){case h.D.types.kd:var m=k.za;k.rg()?d(m)&&f.push("("):f.push(c);break;case h.D.types.qc:m=k.za,m.name!=h.bb.Xl&&f.push(Ja(m))}m=k;k=m.rg()||m.next();if(!k){k=m.Fg();for(e();k&&!k.next();)k=k.Fg(),e(),k&&k.lb()==h.D.types.kd&&d(k.za)&&
f.push(")");k&&(k=k.next())}}h.D.Uf=g;c=2;for(g=f.length;c<g;c++)"("==f[c-2]&&")"==f[c]&&(f[c-2]=f[c-1],f.splice(c-1,2),g-=2);f=f.join(" ").replace(/(\() | (\))/gmi,"$1$2").trim()||"???";a&&f.length>a&&(f=f.substring(0,a-3)+"...");return f};function Ib(a,c){return a.oh(h.Ia.ge,c||"")}
b.Bg=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}h.g.object.Bg(this,a)};function Jb(a,c){var d=h.ng.aa(c);return!d&&c.alt?"string"==typeof c.alt?(c=Kb(c.alt))?Jb(a,c):null:Jb(a,c.alt):d}function Lb(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}
function Kb(a){return(a=a.trim())?{type:"field_label",text:a}:null}b.oh=function(a,c){var d=null;if(a==h.Ia.oe||a==h.Ia.Tc)d=this.Uk(a);a=new h.ct(a,c,this,d);this.P.push(a);return a};b.Lr=function(a,c){for(var d=0,e;e=this.P[d];d++)if(e.name==a)return e.H(),this.P.splice(d,1),!0;if(c)return!1;throw Error("Input not found: "+a);};function fa(a,c){for(var d=0,e;e=a.P[d];d++)if(e.name==c)return e;return null}
b.xj=function(a){this.jf.text!=a&&(h.h.Ha(new (h.h.get(h.h.Ug))(this,"comment",null,this.jf.text,a)),this.rh=this.jf.text=a)};b.Bw=function(){};b.$a=function(){return this.Zw};b.moveBy=function(a,c){if(this.Ge)throw Error("Block has parent.");var d=new (h.h.get(h.h.Vg))(this);this.Zw.translate(a,c);d.Zh();h.h.Ha(d)};b.Uk=function(a){return new h.ua(this,a)};h.i.EE=function(){};h.g.ca={jG:0,OE:3,hx:8,QF:9,$E:12,Jx:13,nm:16,Zg:17,pi:18,uF:19,ED:20,Kx:27,az:32,Ly:33,Ky:34,Ix:35,ey:36,Id:37,lz:38,Ze:39,Ax:40,xF:43,AF:44,CE:45,ah:46,ZERO:48,ONE:49,bG:50,RF:51,sE:52,qE:53,MF:54,KF:55,WD:56,YE:57,oE:59,mE:61,lE:173,nE:163,BF:63,wD:64,sD:65,xD:66,no:67,ND:68,E:69,ZD:70,Qc:71,wE:72,yE:73,GE:74,HE:75,IE:76,NE:77,XE:78,pF:79,tF:80,Q:81,CF:82,GF:83,PF:84,cG:85,fp:86,gG:87,hp:88,pz:89,Mi:90,Ci:91,kG:92,MD:93,oF:96,hF:97,nF:98,mF:99,dF:100,cF:101,lF:102,kF:103,bF:104,gF:105,fF:106,jF:107,
eF:109,iF:110,aF:111,$D:112,dE:113,eE:114,fE:115,gE:116,hE:117,iE:118,jE:119,kE:120,aE:121,bE:122,cE:123,ZE:144,HF:145,pE:166,KE:183,IF:186,OD:189,XD:187,LD:188,vF:190,NF:191,vD:192,SF:192,LF:222,qF:219,yD:220,ID:221,iG:224,PE:224,QE:91,RE:93,hG:229,fG:252,wF:255};h.Ko=function(){this.Vd=[];this.ai=this.Ta=this.Cn=this.xn=this.wn=this.hf=this.yn=this.Fh=this.xr=null};b=h.Ko.prototype;
b.Ea=function(a){var c=document.createElement("div");c.className="blocklyMenu goog-menu blocklyNonSelectable";c.tabIndex=0;this.ai&&h.g.ob.Og(c,this.ai);this.Ta=c;for(var d=0,e;e=this.Vd[d];d++)c.appendChild(e.ib());this.yn=h.S.Ma(c,"mouseover",this,this.hB,!0);this.hf=h.S.Ma(c,"click",this,this.cB,!0);this.wn=h.S.Ma(c,"mouseenter",this,this.fB,!0);this.xn=h.S.Ma(c,"mouseleave",this,this.gB,!0);this.Cn=h.S.Ma(c,"keydown",this,this.dB);a.appendChild(c)};
b.focus=function(){var a=this.Ta;a&&(a.focus({preventScroll:!0}),h.g.j.Bb(a,"blocklyFocused"))};b.Og=function(a){this.ai=a};b.H=function(){this.yn&&(h.S.ub(this.yn),this.yn=null);this.hf&&(h.S.ub(this.hf),this.hf=null);this.wn&&(h.S.ub(this.wn),this.wn=null);this.xn&&(h.S.ub(this.xn),this.xn=null);this.Cn&&(h.S.ub(this.Cn),this.Cn=null);for(var a=0,c;c=this.Vd[a];a++)c.H();this.Ta=null};
function Mb(a,c){for(var d=a.Ta;c&&c!=d;){if(h.g.j.Cq(c,"blocklyMenuItem"))for(var e=0,f;f=a.Vd[e];e++)if(f.Ta==c)return f;c=c.parentElement}return null}b.Df=function(a){var c=this.Fh;c&&(c.Df(!1),this.Fh=null);a&&(a.Df(!0),this.Fh=a,c=this.Ta,h.g.style.KC(a.Ta,c),h.g.ob.Tn(c,h.g.ob.State.$w,a.xc()))};function Nb(a,c,d){c+=d;for(var e;e=a.Vd[c];){if(e.isEnabled()){a.Df(e);break}c+=d}}b.hB=function(a){(a=Mb(this,a.target))&&(a.isEnabled()?this.Fh!=a&&this.Df(a):this.Df(null))};
b.cB=function(a){var c=this.xr;this.xr=null;c&&"number"==typeof a.clientX&&1>h.g.R.Wp(c,new h.g.R(a.clientX,a.clientY))||(a=Mb(this,a.target))&&a.isEnabled()&&a.bk&&a.bk(a)};b.fB=function(){this.focus()};b.gB=function(){if(this.Ta){var a=this.Ta;a&&(a.blur(),h.g.j.Kc(a,"blocklyFocused"));this.Df(null)}};
b.dB=function(a){if(this.Vd.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var c=this.Fh;switch(a.keyCode){case h.g.ca.Jx:case h.g.ca.az:c&&c.isEnabled()&&c.bk&&c.bk(c);break;case h.g.ca.lz:c=this.Vd.indexOf(this.Fh);Nb(this,0>c?this.Vd.length:c,-1);break;case h.g.ca.Ax:Nb(this,this.Vd.indexOf(this.Fh),1);break;case h.g.ca.Ly:case h.g.ca.ey:Nb(this,-1,1);break;case h.g.ca.Ky:case h.g.ca.Ix:Nb(this,this.Vd.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
b.qf=function(){var a=this.Ta,c=h.g.style.qf(a);c.height=a.scrollHeight;return c};h.Lo=function(a,c){this.kf=a;this.Oe=c;this.Wm=!0;this.Ta=null;this.Sr=!1;this.ai=null;this.qv=this.Cp=this.Bp=!1;this.bk=null};b=h.Lo.prototype;
b.ib=function(){var a=document.createElement("div");a.id=h.g.Pj.Xu();this.Ta=a;a.className="blocklyMenuItem goog-menuitem "+(this.Wm?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.Cp?"blocklyMenuItemSelected goog-option-selected ":"")+(this.qv?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Sr?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="blocklyMenuItemContent goog-menuitem-content";if(this.Bp){var d=document.createElement("div");
d.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";c.appendChild(d)}d=this.kf;"string"==typeof this.kf&&(d=document.createTextNode(this.kf));c.appendChild(d);a.appendChild(c);this.ai&&h.g.ob.Og(a,this.ai);h.g.ob.Tn(a,h.g.ob.State.Gi,this.Bp&&this.Cp||!1);h.g.ob.Tn(a,h.g.ob.State.zx,!this.Wm);return a};b.H=function(){this.Ta=null};b.xc=function(){return this.Ta.id};b.getValue=function(){return this.Oe};b.Og=function(a){this.ai=a};
b.Df=function(a){this.qv=a;var c=this.Ta;c&&this.isEnabled()&&(a?(h.g.j.Bb(c,"blocklyMenuItemHighlight"),h.g.j.Bb(c,"goog-menuitem-highlight")):(h.g.j.Kc(c,"blocklyMenuItemHighlight"),h.g.j.Kc(c,"goog-menuitem-highlight")))};b.isEnabled=function(){return this.Wm};b.Cf=function(a){this.Wm=a};function Ob(a,c,d){a.bk=c.bind(d)};h.Y={};h.Y.zd=null;h.Y.Rm=null;h.Y.Xd="";h.Y.Yd="";h.Y.ib=function(){h.Y.Ra||(h.Y.Ra=document.createElement("div"),h.Y.Ra.className="blocklyWidgetDiv",(h.Fn||document.body).appendChild(h.Y.Ra))};h.Y.show=function(a,c,d){h.Y.rb();h.Y.zd=a;h.Y.Rm=d;a=h.Y.Ra;a.style.direction=c?"rtl":"ltr";a.style.display="block";c=h.Ah();h.Y.Xd=c.jb.Pd();h.Y.Yd=c.rf().Pd();h.g.j.Bb(a,h.Y.Xd);h.g.j.Bb(a,h.Y.Yd)};
h.Y.rb=function(){if(h.Y.isVisible()){h.Y.zd=null;var a=h.Y.Ra;a.style.display="none";a.style.left="";a.style.top="";h.Y.Rm&&h.Y.Rm();h.Y.Rm=null;a.textContent="";h.Y.Xd&&(h.g.j.Kc(a,h.Y.Xd),h.Y.Xd="");h.Y.Yd&&(h.g.j.Kc(a,h.Y.Yd),h.Y.Yd="");ma(h.Ah())}};h.Y.isVisible=function(){return!!h.Y.zd};h.Y.Jk=function(a){h.Y.zd==a&&h.Y.rb()};h.Y.il=function(a,c,d){h.Y.Ra.style.left=a+"px";h.Y.Ra.style.top=c+"px";h.Y.Ra.style.height=d+"px"};
h.Y.gC=function(a,c,d,e){var f=h.Y.Qz(a,c,d);a=h.Y.Pz(a,c,d,e);0>f?h.Y.il(a,0,d.height+f):h.Y.il(a,f,d.height)};h.Y.Pz=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};h.Y.Qz=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};h.La={};h.La.Lm=null;h.La.zc=null;h.La.show=function(a,c,d){h.Y.show(h.La,d,h.La.H);if(c.length){var e=h.La.fC(c,d);h.La.zc=e;h.La.hC(e,a,d);setTimeout(function(){e.focus()},1);h.La.Lm=null}else h.La.rb()};h.La.fC=function(a,c){var d=new h.Ko;d.Og(h.g.ob.km.Ay);for(var e=0,f;f=a[e];e++){var g=new h.Lo(f.text);g.Sr=c;g.Og(h.g.ob.km.By);d.Vd.push(g);g.Cf(f.enabled);f.enabled&&Ob(g,function(){h.La.rb();this.Ya(this.scope)},f)}return d};
h.La.hC=function(a,c,d){var e=h.g.$A();c=new h.g.Rect(c.clientY+e.top,c.clientY+e.top,c.clientX+e.left,c.clientX+e.left);h.La.kA(a);var f=a.qf();d&&(c.left+=f.width,c.right+=f.width,e.left+=f.width,e.right+=f.width);h.Y.gC(e,c,f,d);a.focus()};h.La.kA=function(a){a.Ea(h.Y.Ra);var c=a.Ta;h.g.j.Bb(c,"blocklyContextMenu");h.S.Ma(c,"contextmenu",null,h.g.SB);a.focus()};h.La.rb=function(){h.Y.Jk(h.La);h.La.Lm=null};h.La.H=function(){h.La.zc&&(h.La.zc.H(),h.La.zc=null)};
h.La.wG=function(a,c){return function(){h.h.disable();try{var d=h.I.Tm(c,a.A),e=a.$a();e.x=a.K?e.x-h.ac:e.x+h.ac;e.y+=2*h.ac;d.moveBy(e.x,e.y)}finally{h.h.enable()}h.h.isEnabled()&&!d.Ja&&h.h.Ha(new (h.h.get(h.h.ri))(d));d.select()}};h.La.BG=function(a){return{text:h.M.REMOVE_COMMENT,enabled:!0,Ya:function(){h.h.sa(!0);a.H(!0,!0);h.h.sa(!1)}}};h.La.CG=function(a){return{text:h.M.DUPLICATE_COMMENT,enabled:!0,Ya:function(){h.duplicate(a)}}};
h.La.WH=function(a,c){if(!h.Li)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!h.g.userAgent.Gd};d.text=h.M.ADD_COMMENT;d.Ya=function(){var e=new h.Li(a,h.M.WORKSPACE_COMMENT_DEFAULT_TEXT,h.Li.yx,h.Li.yx),f=aa(a).getBoundingClientRect();f=new h.g.R(c.clientX-f.left,c.clientY-f.top);var g=h.g.tq(a.xb);f=h.g.R.Pm(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.ra&&(e.Jh(),e.Ea(),e.select())};return d};h.Aa=function(){h.Aa.v=this;this.dd={}};h.Aa.tc={Ib:"block",Cc:"workspace"};h.Aa.v=null;h.Aa.prototype.register=function(a){if(this.dd[a.id])throw Error('Menu item with id "'+a.id+'" is already registered.');this.dd[a.id]=a};h.Aa.prototype.unregister=function(a){if(this.dd[a])delete this.dd[a];else throw Error('Menu item with id "'+a+'" not found.');};h.Aa.prototype.getItem=function(a){return this.dd[a]?this.dd[a]:null};
function Pb(a,c){var d=[],e=h.Aa.v.dd;Object.keys(e).forEach(function(f){f=e[f];if(a==f.ed){var g=f.sb(c);"hidden"!=g&&(f={text:"function"==typeof f.wc?f.wc(c):f.wc,enabled:"enabled"==g,Ya:f.Ya,scope:c,weight:f.weight},d.push(f))}});d.sort(function(f,g){return f.weight-g.weight});return d}new h.Aa;h.h.Zf=function(a,c,d){h.h.Zf.u.constructor.call(this,d);this.Vv=a;this.Tv=c};h.g.object.U(h.h.Zf,h.h.ne);h.h.Zf.prototype.type=h.h.Gi;h.h.Zf.prototype.qa=function(){var a=h.h.Zf.u.qa.call(this);a.oldElementId=this.Vv;a.newElementId=this.Tv;return a};h.h.Zf.prototype.aa=function(a){h.h.Zf.u.aa.call(this,a);this.Vv=a.oldElementId;this.Tv=a.newElementId};h.v.register(h.v.N.Ab,h.h.Gi,h.h.Zf);h.vb=function(a,c){h.vb.u.constructor.call(this,a,c);this.uh=a.A.Jm[c];this.yu=a.A.Jm[h.Ei[c]];this.zf=new h.g.R(0,0);this.If=h.vb.me.Nt;this.wa=null};h.g.object.U(h.vb,h.ua);h.vb.me={Nt:-1,Ht:0,Ki:1};b=h.vb.prototype;b.H=function(){h.vb.u.H.call(this);this.If==h.vb.me.Ki&&Qb(this.uh,this,this.y)};b.$=function(){return h.vb.u.$.call(this)};b.va=function(){return h.vb.u.va.call(this)};function Ya(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function Rb(a,c){if(!a.J.A.ad()){var d=a.J.Sd();if(!d.bd){var e=!1;if(!d.hc()){d=c.$().Sd();if(!d.hc())return;c=a;e=!0}var f=h.selected==d;f||Sb(d.cb,!0);var g=c.x+h.ac+Math.floor(Math.random()*h.mo)-a.x,k=c.y+h.ac+Math.floor(Math.random()*h.mo)-a.y;e&&(k=-k);d.K&&(g=c.x-h.ac-Math.floor(Math.random()*h.mo)-a.x);d.moveBy(g,k);f||Sb(d.cb,!1)}}}
b.moveTo=function(a,c){if(this.If==h.vb.me.Nt){var d=this.uh;d.qb.splice(Tb(d,c),0,this);this.If=h.vb.me.Ki}else this.If==h.vb.me.Ki&&(Qb(this.uh,this,this.y),d=this.uh,d.qb.splice(Tb(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function Ub(a,c){a.moveTo(c.x+a.zf.x,c.y+a.zf.y)}function P(a,c,d){a.zf.x=c;a.zf.y=d}
function Vb(a){var c=a.wa.x-a.x,d=a.wa.y-a.y;if(0!=c||0!=d){a=a.va();var e=a.Ca();if(!e)throw Error("block is not rendered.");e=h.g.Rd(e);a.Ca().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");Ua(a,-c,-d)}}
b.closest=function(a,c){var d=this.yu;if(d.qb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=Tb(d,this.y);c=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.qb[m].y-this.y)<=a;)l=d.qb[m],H(d.ou,this,l,!0,k)&&(c=l,k=Ya(l,this)),m--;for(;g<d.qb.length&&Math.abs(d.qb[g].y-this.y)<=a;)l=d.qb[g],H(d.ou,this,l,!0,k)&&(c=l,k=Ya(l,this)),g++;this.x=f;this.y=e;a={connection:c,Kn:k}}else a={connection:null,Kn:a};return a};
function O(a,c){c&&a.If==h.vb.me.Ki||!c&&a.If==h.vb.me.Ht||a.J.bd||(c?(c=a.uh,c.qb.splice(Tb(c,a.y),0,a),a.If=h.vb.me.Ki):(a.If==h.vb.me.Ki&&Qb(a.uh,a,a.y),a.If=h.vb.me.Ht))}function Db(a){O(a,!0);var c=[];if(a.type!=h.T.Jb&&a.type!=h.T.Kb)return c;if(a=a.va()){if(a.isCollapsed()){var d=[];a.O&&d.push(a.O);a.X&&d.push(a.X);a.V&&d.push(a.V)}else d=a.Qd(!0);for(var e=0;e<d.length;e++)c.push.apply(c,Db(d[e]));c.length||(c[0]=a)}return c}b.Bn=function(a){Rb(this,a)};
b.Tp=function(a,c){h.vb.u.Tp.call(this,a,c);a.ra&&a.Ea();c.ra&&(y(c),c.Ea(),c.Ca().style.display="block")};b.ol=function(){h.vb.u.ol.call(this);var a=this.va();a&&(a.Jh(),a.Ea(!1),a=this.$(),a.ra&&a.Ea())};b.Sv=function(a){return Wb(this.yu,this,a)};b.Hm=function(a){h.vb.u.Hm.call(this,a);var c=this.$();a=a.$();var d=c.ra,e=a.ra;d&&y(c);e&&y(a);d&&e&&(this.type==h.T.Kb||this.type==h.T.Sc?a.Ea():c.Ea());if(c=ja(c,a))c=c.isVisible(),a.Ca().style.display=c?"block":"none"};
b.aw=function(){!this.isConnected()||this.wa&&H(this.J.A.ue,this,this.wa,!1)||(A(I(this)?this.va():this.J),this.J.Ec())};h.jm=function(){this.td=this.Nd=this.hb=null;this.type="marker"};function Xb(a,c){var d=a.Nd;a.Nd=c;a.td&&a.td.draw(d,a.Nd)}h.jm.prototype.draw=function(){this.td&&this.td.draw(this.Nd,this.Nd)};h.jm.prototype.rb=function(){this.td&&this.td.rb()};h.jm.prototype.H=function(){this.td&&this.td.H()};h.Nf=function(){h.Nf.u.constructor.call(this);this.type="cursor"};h.g.object.U(h.Nf,h.jm);h.Nf.prototype.next=function(){var a=this.Nd;if(!a)return null;for(a=a.next();a&&a.next()&&(a.lb()==h.D.types.Vf||a.lb()==h.D.types.Ib);)a=a.next();a&&Xb(this,a);return a};h.Nf.prototype.rg=function(){var a=this.Nd;if(!a)return null;if(a.lb()==h.D.types.Xf||a.lb()==h.D.types.hh)a=a.next();(a=a.rg())&&Xb(this,a);return a};
h.Nf.prototype.Ig=function(){var a=this.Nd;if(!a)return null;for(a=a.Ig();a&&a.Ig()&&(a.lb()==h.D.types.Vf||a.lb()==h.D.types.Ib);)a=a.Ig();a&&Xb(this,a);return a};h.Nf.prototype.Fg=function(){var a=this.Nd;if(!a)return null;(a=a.Fg())&&a.lb()==h.D.types.Ib&&(a=a.Ig()||a);a&&Xb(this,a);return a};h.v.register(h.v.N.Ij,h.v.cm,h.Nf);h.Wg=function(){h.Wg.u.constructor.call(this)};h.g.object.U(h.Wg,h.Nf);h.Wg.BC="basicCursor";b=h.Wg.prototype;b.next=function(){var a=this.Nd;if(!a)return null;(a=Yb(this,a,this.qs))&&Xb(this,a);return a};b.rg=function(){return this.next()};b.Ig=function(){var a=this.Nd;if(!a)return null;(a=Zb(this,a,this.qs))&&Xb(this,a);return a};b.Fg=function(){return this.Ig()};
function Yb(a,c,d){if(!c)return null;var e=c.rg()||c.next();if(d(e))return e;if(e)return Yb(a,e,d);c=$b(a,c.Fg());return d(c)?c:c?Yb(a,c,d):null}function Zb(a,c,d){if(!c)return null;var e=c.Ig();e=e?ac(a,e):c.Fg();return d(e)?e:e?Zb(a,e,d):null}b.qs=function(a){var c=!1;a=a&&a.lb();if(a==h.D.types.hh||a==h.D.types.kd||a==h.D.types.qc||a==h.D.types.Vf||a==h.D.types.Xf||a==h.D.types.Cc)c=!0;return c};function $b(a,c){if(!c)return null;var d=c.next();return d?d:$b(a,c.Fg())}
function ac(a,c){if(!c.rg())return c;for(c=c.rg();c.next();)c=c.next();return ac(a,c)}h.v.register(h.v.N.Ij,h.Wg.BC,h.Wg);h.cp=function(){h.cp.u.constructor.call(this)};h.g.object.U(h.cp,h.Wg);h.cp.prototype.qs=function(a){a&&a.lb();return!1};h.Qa=function(a,c,d){this.pa=h.g.j.L(h.g.F.Qc,{},null);this.pa.Kl="";this.style=bc(a.jb.ba(),null);this.cb=a.jb.Kv(this.pa,this.style);this.Nr=this.ra=!1;this.A=a;this.V=this.X=this.O=null;this.Ol=h.g.Kh()&&!!a.Vc;var e=this.cb.tb;e.Zd=this;h.G.dk(e);h.Qa.u.constructor.call(this,a,c,d);this.pa.dataset?this.pa.dataset.id=this.id:h.g.userAgent.Gd&&this.pa.setAttribute("data-id",this.id)};h.g.object.U(h.Qa,h.si);h.Qa.prototype.height=0;h.Qa.prototype.width=0;h.Qa.prototype.bo=null;h.Qa.BE=-1;
h.Qa.KD="TEMP_COLLAPSED_WARNING_";b=h.Qa.prototype;b.Jh=function(){if(!this.A.ra)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.P[a];a++)c.Va();c=K(this);for(a=0;a<c.length;a++)c[a].hA();this.Ub();J(this.cb,"blocklyDraggable",this.hc());a=this.Ca();this.A.options.readOnly||this.AA||!a||h.S.Ma(a,"mousedown",this,this.bl);this.AA=!0;a.parentNode||this.A.xb.appendChild(a)};
b.select=function(){if(this.Ja&&this.getParent())this.getParent().select();else if(h.selected!=this){var a=null;if(h.selected){a=h.selected.id;h.h.disable();try{ob(h.selected)}finally{h.h.enable()}}a=new (h.h.get(h.h.Gi))(a,this.id,this.A.id);h.h.Ha(a);h.selected=this;Sb(this.cb,!0)}};function ob(a){if(h.selected==a){var c=new (h.h.get(h.h.Gi))(a.id,null,a.A.id);c.Ob=a.A.id;h.h.Ha(c);h.selected=null;Sb(a.cb,!1)}}b.Wd=null;b.rh=null;b.rd=null;b.Vw=null;
function K(a){var c=[];a.Wd&&c.push(a.Wd);a.rd&&c.push(a.rd);a.Vw&&c.push(a.Vw);return c}b.Rn=function(a){var c=this.Ge;if(a!=c){h.g.j.Al();h.Qa.u.Rn.call(this,a);h.g.j.Bl();var d=this.Ca();if(!this.A.Oq&&d){var e=this.$a();a?(a.Ca().appendChild(d),a=this.$a(),Ua(this,a.x-e.x,a.y-e.y)):c&&(this.A.xb.appendChild(d),this.translate(e.x,e.y));this.Ub()}}};
b.$a=function(){var a=0,c=0,d=this.Ol?this.A.Vc.Nb():null,e=this.Ca();if(e){do{var f=h.g.Rd(e);a+=f.x;c+=f.y;this.Ol&&this.A.Vc.xe.firstChild==e&&(f=this.A.Vc.yq(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.A.xb&&e!=d)}return new h.g.R(a,c)};b.moveBy=function(a,c){if(this.Ge)throw Error("Block has parent.");var d=h.h.isEnabled();if(d)var e=new (h.h.get(h.h.Vg))(this);var f=this.$a();this.translate(f.x+a,f.y+c);Ua(this,a,c);d&&(e.Zh(),h.h.Ha(e));ea(this.A)};
b.translate=function(a,c){this.Ca().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.$a();this.moveBy(a.x-c.x,a.y-c.y)};b.er=function(a){this.Ol?this.A.Vc.ji(a.x,a.y):(this.pa.Kl="translate("+a.x+","+a.y+")",this.pa.setAttribute("transform",this.pa.Kl+this.pa.zl))};
function cc(a){if(a.A&&!a.A.ad()&&!a.getParent()&&!a.bd){var c=a.A.ud;if(c&&c.UC){var d=c.$r,e=d/2,f=a.$a();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}function dc(a){var c=a.$a(),d=B(a);if(a.K){a=c.x-d.width;var e=c.x}else a=c.x,e=c.x+d.width;return new h.g.Rect(c.y,c.y+d.height,a,e)}b.Vk=function(){this.cb.bb=this.A.jb.ba();for(var a=0,c;c=this.P[a];a++)c.Vk()};
b.bi=function(a){this.ph!=a&&(h.Qa.u.bi.call(this,a),a?this.ra&&this.Ea():ec(this))};function ec(a){for(var c=a.isCollapsed(),d=h.bb.Yl,e=h.bb.Xl,f=0,g;g=a.P[f];f++)g.name!=d&&g.Xb(!c);if(c){g=K(a);for(f=0;c=g[f];f++)c.Xb(!1);f=a.toString(h.mx);(g=z(a,e))?g.setValue(f):(g=fa(a,d)||Ib(a,d),M(g,new h.Pc(f),e))}else y(a),a.Lr(d)}
b.bl=function(a){var c=this.A&&ib(this.A,a);if(c){if(c.jj)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");c.yj||c.fd||(c.yj=this,this.bd&&this!=this.Sd()?tb(c,this.Sd()):tb(c,this));c.xd=a}};b.showHelp=function(){var a="function"==typeof this.Eh?this.Eh():this.Eh;a&&window.open(a)};
b.wl=function(a){if(this.A.options.readOnly||!this.contextMenu)var c=null;else c=Pb(h.Aa.tc.Ib,{block:this}),this.mA&&this.mA(c);c&&c.length&&(h.La.show(a,c,this.K),h.La.Lm=this)};function Ua(a,c,d){if(a.ra){for(var e=a.Qd(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=K(a);for(f=0;f<e.length;f++)e[f].bA();for(f=0;f<a.gf.length;f++)Ua(a.gf[f],c,d)}}
b.Lg=function(a){if(a){var c=this.Ca();c.Kl="";c.zl="";h.Zi=h.Zi.concat(this.Qd(!0));h.g.j.Bb(this.pa,"blocklyDragging")}else h.Zi=[],h.g.j.Kc(this.pa,"blocklyDragging");for(c=0;c<this.gf.length;c++)this.gf[c].Lg(a)};b.Vr=function(a){h.Qa.u.Vr.call(this,a);J(this.cb,"blocklyDraggable",a)};b.Tr=function(a){h.Qa.u.Tr.call(this,a);a=K(this);for(var c=0;c<a.length;c++)ub(a[c])};b.Xr=function(a){h.Qa.u.Xr.call(this,a);this.Ub()};
b.Aw=function(a){this.oj!=a&&(this.oj=a)&&(this.Ie(this.A.jb.ba().Do),J(this.cb,"blocklyInsertionMarker",!0))};b.Ca=function(){return this.pa};
b.H=function(a,c){if(this.A){h.G.H();h.G.Nw(this.cb.tb);h.g.j.Al();var d=this.A;h.selected==this&&(ob(this),fc(this.A));h.La.Lm==this&&h.La.rb();c&&this.ra&&(A(this,a),h.Sa.tA(this));this.ra=!1;if(this.bo){for(var e in this.bo)clearTimeout(this.bo[e]);this.bo=null}c=K(this);for(e=0;e<c.length;e++)c[e].H();h.Qa.u.H.call(this,!!a);h.g.j.removeNode(this.pa);ea(d);this.pa=null;h.g.j.Bl()}};
b.Ub=function(){this.cb.Ub(this);for(var a=K(this),c=0;c<a.length;c++)a[c].Ub();for(a=0;c=this.P[a];a++)for(var d=0,e;e=c.Ua[d];d++)e.Ub()};function y(a){var c=x(a,!1);a.Ub();if(!a.isCollapsed()){a=0;for(var d;d=c[a];a++)d.ra&&y(d)}}b.PA=function(){return this.rd};
b.xj=function(a){if(!h.Comment)throw Error("Missing require for Blockly.Comment");this.jf.text!=a&&(h.Qa.u.xj.call(this,a),a=null!=a,!!this.rd==a?this.rd.UH():(a?this.rh=this.rd=new h.Comment(this):(this.rd.H(),this.rh=this.rd=null),this.ra&&(this.Ea(),this.Ec())))};b.Bw=function(a){this.Wd&&this.Wd!==a&&this.Wd.H();a&&(a.EH(this),this.Wd=a,a.hA());this.ra&&(this.Ea(),this.Ec())};b.Cf=function(a){this.isEnabled()!=a&&(h.Qa.u.Cf.call(this,a),this.ra&&!Hb(this)&&y(this))};
b.Df=function(a){this.ra&&this.cb.Ow(a)};b.tl=function(a){J(this.cb,"blocklyDraggingDelete",a)};b.pq=function(){return this.style.qh};b.Ie=function(a){h.Qa.u.Ie.call(this,a);a=gc(this.A.jb.ba(),this.qd);this.cb.ci(a.style);this.style=a.style;this.Cl=a.name;this.Ub()};b.ci=function(a){var c=bc(this.A.jb.ba(),a);this.Cl=a;if(c)this.Be=c.Be,this.cb.ci(c),this.qd=c.qh,this.style=c,this.Ub();else throw Error("Invalid style name: "+a);};
function Va(a){do{var c=a.Ca(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.Sn=function(a,c){h.Qa.u.Sn.call(this,a,c);this.ra&&(this.Ea(),this.Ec())};b.Pn=function(a,c){h.Qa.u.Pn.call(this,a,c);this.ra&&(this.Ea(),this.Ec())};b.Qn=function(a,c){h.Qa.u.Qn.call(this,a,c);this.ra&&(this.Ea(),this.Ec())};b.Mg=function(a){h.Qa.u.Mg.call(this,a);this.ra&&(this.Ea(),this.Ec())};b.Lr=function(a,c){a=h.Qa.u.Lr.call(this,a,c);this.ra&&(this.Ea(),this.Ec());return a};
b.oh=function(a,c){a=h.Qa.u.oh.call(this,a,c);this.ra&&(this.Ea(),this.Ec());return a};function da(a,c){a.V&&O(a.V,c);a.O&&O(a.O,c);if(a.X){O(a.X,c);var d=a.X.va();d&&da(d,c)}if(!a.ph)for(d=0;d<a.P.length;d++){var e=a.P[d].connection;e&&(O(e,c),(e=e.va())&&da(e,c))}}b.Qd=function(a){var c=[];if(a||this.ra)if(this.O&&c.push(this.O),this.V&&c.push(this.V),this.X&&c.push(this.X),a||!this.ph){a=0;for(var d;d=this.P[a];a++)d.connection&&c.push(d.connection)}return c};b.qn=function(){return h.Qa.u.qn.call(this)};
b.uq=function(a,c){return h.Qa.u.uq.call(this,a,c)};b.Uk=function(a){return new h.vb(this,a)};b.Ec=function(){if(this.A&&!this.A.ad()){var a=this.Sd();if(!a.bd)for(var c=this.Qd(!1),d=0,e;e=c[d];d++){e.isConnected()&&I(e)&&e.va().Ec();for(var f=e.Sv(h.ac),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.$().Sd()!=a&&(I(e)?Rb(k,e):Rb(e,k))}}};function Wa(a){var c=h.h.Nb();setTimeout(function(){h.h.sa(c);cc(a);h.h.sa(!1)},h.lo/2);setTimeout(function(){h.h.sa(c);a.Ec();h.h.sa(!1)},h.lo)}
b.getParent=function(){return h.Qa.u.getParent.call(this)};b.Sd=function(){return h.Qa.u.Sd.call(this)};
b.Ea=function(a){if(!this.Nr){this.Nr=!0;try{this.ra=!0;h.g.j.Al();this.isCollapsed()&&ec(this);this.A.jb.Ea(this);var c=this.$a();this.V&&Ub(this.V,c);this.O&&Ub(this.O,c);for(var d=0;d<this.P.length;d++){var e=this.P[d].connection;e&&(Ub(e,c),e.isConnected()&&Vb(e))}this.X&&(Ub(this.X,c),this.X.isConnected()&&Vb(this.X));if(!1!==a){var f=this.getParent();f?f.Ea(!0):ea(this.A)}h.g.j.Bl();this.ps()}finally{this.Nr=!1}}};
b.ps=function(){this.A.Sk&&this.cb.qk&&this.A.Dk().draw();this.A.Sk&&this.cb.$q&&this.A.Fk(h.Uj.ft).draw()};b.Bf=function(a){this.cb.Bf(a)};b.Ng=function(a){this.cb.Ng(a)};function B(a){var c=a.height,d=a.width,e=u(a);e&&(e=B(e),a=a.A.jb.ba().Oo,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};h.yi=function(a){this.qb=[];this.ou=a};function hc(a,c,d){if(!a.qb.length)return-1;var e=Tb(a,d);if(e>=a.qb.length)return-1;d=c.y;for(var f=e;0<=f&&a.qb[f].y==d;){if(a.qb[f]==c)return f;f--}for(;e<a.qb.length&&a.qb[e].y==d;){if(a.qb[e]==c)return e;e++}return-1}function Tb(a,c){if(!a.qb.length)return 0;for(var d=0,e=a.qb.length;d<e;){var f=Math.floor((d+e)/2);if(a.qb[f].y<c)d=f+1;else if(a.qb[f].y>c)e=f;else{d=f;break}}return d}
function Qb(a,c,d){c=hc(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.qb.splice(c,1)}function Wb(a,c,d){function e(n){var r=g-f[n].x,q=k-f[n].y;Math.sqrt(r*r+q*q)<=d&&m.push(f[n]);return q<d}var f=a.qb,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}
h.yi.Va=function(a){var c=[];c[h.T.Jb]=new h.yi(a);c[h.T.Rc]=new h.yi(a);c[h.T.Kb]=new h.yi(a);c[h.T.Sc]=new h.yi(a);return c};h.h.ag=function(a,c){h.h.ag.u.constructor.call(this,c);this.Hw=a};h.g.object.U(h.h.ag,h.h.ne);h.h.ag.prototype.type=h.h.ap;h.h.ag.prototype.qa=function(){var a=h.h.ag.u.qa.call(this);a.themeName=this.Hw;return a};h.h.ag.prototype.aa=function(a){h.h.ag.u.aa.call(this,a);this.Hw=a.themeName};h.v.register(h.v.N.Ab,h.h.ap,h.h.ag);h.h.dg=function(a,c,d,e,f){h.h.dg.u.constructor.call(this,e);this.Qe=a;this.Pe=c;this.scale=d;this.mr=f};h.g.object.U(h.h.dg,h.h.ne);h.h.dg.prototype.type=h.h.sm;h.h.dg.prototype.qa=function(){var a=h.h.dg.u.qa.call(this);a.viewTop=this.Qe;a.viewLeft=this.Pe;a.scale=this.scale;a.oldScale=this.mr;return a};h.h.dg.prototype.aa=function(a){h.h.dg.u.aa.call(this,a);this.Qe=a.viewTop;this.Pe=a.viewLeft;this.scale=a.scale;this.mr=a.oldScale};h.v.register(h.v.N.Ab,h.h.sm,h.h.dg);h.Uj=function(a){this.lf=this.sd=null;this.Wk={};this.B=a};h.Uj.ft="local_marker_1";b=h.Uj.prototype;b.Dk=function(){return this.sd};b.Fk=function(a){return this.Wk[a]};b.Bf=function(a){a?(this.B.xb.appendChild(a),this.lf=a):this.lf=null};b.Ng=function(a){a?this.B.xb&&(this.lf?this.B.xb.insertBefore(a,this.lf):this.B.xb.appendChild(a)):this.yf=null};
b.H=function(){for(var a=Object.keys(this.Wk),c=0,d;d=a[c];c++){var e=this.Wk[d];if(e)e.H(),delete this.Wk[d];else throw Error("Marker with id "+d+" does not exist. Can only unregistermarkers that exist.");}this.Wk=null;this.sd&&(this.sd.H(),this.sd=null)};h.AE=function(){};h.Mo=function(a){this.B=a};function ic(a){var c=0,d=0;a&&(c=a.cn(),d=a.WG());return new h.g.Uc(c,d)}function jc(a){var c=ic(Q(a.B,!0));return{width:c.width,height:c.height,position:a.B.ii}}function kc(a){var c=ic(a.B.Ka);return{width:c.width,height:c.height,position:a.B.ii}}b=h.Mo.prototype;
b.kq=function(){var a=0,c=kc(this),d=jc(this),e=!!this.B.Ka,f=!!Q(this.B,!0),g=e?c.position:d.position,k=g==h.g.ga.Pb.Id;g=g==h.g.ga.Pb.$j;e&&k?a=c.width:f&&k&&(a=d.width);k=0;e&&g?k=c.height:f&&g&&(k=d.height);return{top:k,left:a}};
b.fj=function(a){a=a?this.B.scale:1;var c=lc(this.B),d=kc(this),e=jc(this),f=this.B.Ka?d.position:e.position;if(this.B.Ka)if(f==h.g.ga.Pb.$j||f==h.g.ga.Pb.Tl)c.height-=d.height;else{if(f==h.g.ga.Pb.Id||f==h.g.ga.Pb.Ze)c.width-=d.width}else if(Q(this.B,!0))if(f==h.g.ga.Pb.$j||f==h.g.ga.Pb.Tl)c.height-=e.height;else if(f==h.g.ga.Pb.Id||f==h.g.ga.Pb.Ze)c.width-=e.width;return{height:c.height/a,width:c.width/a,top:-this.B.scrollY/a,left:-this.B.scrollX/a}};
b.Ym=function(){var a=this.B.scale,c=ca(this.B);return{height:(c.bottom-c.top)*a,width:(c.right-c.left)*a,top:c.top*a,left:c.left*a}};b.Dq=function(){return!mb(this.B)||!nb(this.B)};
b.Zm=function(a,c,d){a=a?this.B.scale:1;var e=c||this.fj(!1);d=d||this.Ym();if(this.Dq()){c=mb(this.B);var f=nb(this.B),g=e||this.fj(!1);var k={};f||(k.top=g.top,k.bottom=g.top+g.height);c||(k.left=g.left,k.right=g.left+g.width);c=k}else c={};k=d.top+d.height;f=d.left+d.width;g=e.width;var l=e.height;var m=g/2,n=l/2;e=Math.min(d.top-n,k-l);k=Math.max(k+n,d.top+l);l=Math.min(d.left-m,f-g);d=Math.max(f+m,d.left+g);e=void 0!==c.top?c.top:e;f=void 0!==c.left?c.left:l;return{top:e/a,left:f/a,width:((void 0!==
c.right?c.right:d)-f)/a,height:((void 0!==c.bottom?c.bottom:k)-e)/a}};b.ze=function(){var a=kc(this),c=jc(this),d=lc(this.B),e=this.kq(),f=this.fj(),g=this.Ym(),k=this.Zm(!1,f,g);return{EG:g.height,HG:g.width,GG:g.top,FG:g.left,scrollHeight:k.height,scrollWidth:k.width,scrollTop:k.top,scrollLeft:k.left,oc:f.height,Zb:f.width,Qe:f.top,Pe:f.left,Dc:e.top,uc:e.left,NH:d.height,PH:d.width,SH:a.width,QH:a.height,ii:a.position,SG:c.width,QG:c.height}};h.v.register(h.v.N.jt,h.v.cm,h.Mo);
h.zi=function(a,c){this.la=c;h.zi.u.constructor.call(this,a)};h.g.object.U(h.zi,h.Mo);h.zi.prototype.Ym=function(){try{var a=this.B.xb.getBBox()}catch(d){a={height:0,y:0,width:0,x:0}}var c=this.B.scale;return{height:a.height*c,width:a.width*c,top:a.y*c,left:a.x*c}};h.zi.prototype.Zm=function(a,c,d){c=d||this.Ym();d=this.la.SE*this.B.scale;a=a?this.B.scale:1;return{height:(c.height+2*d)/a,width:(c.width+c.left+d)/a,top:0,left:0}};
h.zi.prototype.fj=function(a){var c=lc(this.B);a=a?this.B.scale:1;if(this.la.kj){var d=c.width-2*this.la.mm;c=c.height-this.la.mm}else d=c.width-this.la.mm,c=c.height-2*this.la.mm;return{height:c/a,width:d/a,top:-this.B.scrollY/a,left:-this.B.scrollX/a}};h.zi.prototype.kq=function(){var a=this.la.mm;return this.la.kj?{top:0,left:a}:{top:a,left:0}};h.Yf=function(){this.lw={};this.$n={}};function mc(a,c){a.lw[c.id]=c;for(var d=0,e;e=c.types[d];d++)e=String(e).toLowerCase(),void 0===a.$n[e]?a.$n[e]=[c.id]:a.$n[e].push(c.id)}function nc(a){var c=a.$n[String(h.Yf.N.Ro).toLowerCase()];if(!c)return[];var d=[],e=[],f=a.lw;c.forEach(function(g){e.push(f[g])});e.sort(function(g,k){return g.weight-k.weight});e.forEach(function(g){d.push(g.kw)});return d}h.Yf.N=function(a){this.gr=a};h.Yf.N.prototype.toString=function(){return this.gr};h.Yf.N.Ro=new h.Yf.N("positionable");h.Gt=function(a,c){this.B=a;this.Gf=c;this.Dl=[];this.se=Object.create(null)};b=h.Gt.prototype;b.rf=function(){return this.Gf};b.vl=function(a){var c=this.Gf;this.Gf=a;if(a=aa(this.B))c&&h.g.j.Kc(a,c.Pd()),h.g.j.Bb(a,this.Gf.Pd());for(c=0;a=this.Dl[c];c++)oc(a);c=0;a=Object.keys(this.se);for(var d;d=a[c];c++)for(var e=0,f;f=this.se[d][e];e++)f.element.style[f.propertyName]=this.Gf&&D(this.Gf,d)||"";h.fc()};
b.subscribe=function(a,c,d){this.se[c]||(this.se[c]=[]);this.se[c].push({element:a,propertyName:d});a.style[d]=this.Gf&&D(this.Gf,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.se),d=0,e;e=c[d];d++){for(var f=this.se[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.se[e].length||delete this.se[e]}};b.H=function(){this.se=this.Dl=this.Gf=this.zd=null};h.Bc=function(a,c){h.Bc.u.constructor.call(this,a,c);this.ln=!1;this.Wc=Object.create(null);this.Ew=this.jl=0;this.zv=this.wr=null};h.g.object.U(h.Bc,h.je);h.Bc.rz=5;h.Bc.sz=6;b=h.Bc.prototype;b.Xp=function(a){this.zv=this.wb.options.mb&&this.wb.options.mb.iw;h.Bc.u.Xp.call(this,a);!this.kn&&h.Touch.pn(a)&&pc(this,a)};
b.dk=function(a){this.wr=h.S.Ma(document,"mousedown",null,this.iB.bind(this),!0);this.Dn=h.S.Ma(document,"mousemove",null,this.hj.bind(this),!0);this.En=h.S.Ma(document,"mouseup",null,this.dn.bind(this),!0);a.preventDefault();a.stopPropagation()};b.iB=function(a){!this.ad()&&h.Touch.pn(a)&&(pc(this,a),this.ln&&h.zg())};
b.hj=function(a){if(this.ad())h.Touch.Zr(a)&&h.Bc.u.hj.call(this,a);else if(this.ln){if(h.Touch.pn(a)){this.Wc[h.Touch.$m(a)]=qc(this,a);var c=Object.keys(this.Wc);if(this.zv&&2===c.length){c=Object.keys(this.Wc);c=h.g.R.Wp(this.Wc[c[0]],this.Wc[c[1]])/this.Ew;if(0<this.jl&&Infinity>this.jl){var d=c-this.jl;d=0<d?d*h.Bc.rz:d*h.Bc.sz;var e=this.wb,f=h.g.al(a,C(e),Ca(e));e.zoom(f.x,f.y,d)}this.jl=c;a.preventDefault()}else h.Bc.u.hj.call(this,a)}h.zg()}else h.Bc.u.hj.call(this,a)};
b.dn=function(a){if(h.Touch.pn(a)&&!this.ad()){var c=h.Touch.$m(a);this.Wc[c]&&delete this.Wc[c];2>Object.keys(this.Wc).length&&(this.Wc=Object.create(null),this.jl=0)}!this.ln||this.ad()?h.Touch.Zr(a)&&h.Bc.u.dn.call(this,a):(a.preventDefault(),a.stopPropagation(),this.H())};b.H=function(){h.Bc.u.H.call(this);this.wr&&h.S.ub(this.wr)};function pc(a,c){a.Wc[h.Touch.$m(c)]=qc(a,c);var d=Object.keys(a.Wc);2==d.length&&(a.Ew=h.g.R.Wp(a.Wc[d[0]],a.Wc[d[1]]),a.ln=!0,c.preventDefault())}
function qc(a,c){return a.wb?new h.g.R(c.pageX?c.pageX:c.changedTouches[0].pageX,c.pageY?c.pageY:c.changedTouches[0].pageY):null};h.Pt=function(a){this.Ar=a;this.Xj=Object.create(null)};b=h.Pt.prototype;b.Rq=null;b.H=function(){this.Xj=this.Ar=null};b.load=function(a,c){if(a.length){try{var d=new h.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new h.g.global.Audio(g);break}}e&&e.play&&(this.Xj[c]=e)}};
b.preload=function(){for(var a in this.Xj){var c=this.Xj[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(h.g.userAgent.Oj||h.g.userAgent.at)break}};b.play=function(a,c){var d=this.Xj[a];d?(a=new Date,null!=this.Rq&&a-this.Rq<h.$y||(this.Rq=a,d=h.g.userAgent.Oj||h.g.userAgent.Ql?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.Ar&&this.Ar.pe.play(a,c)};
h.bc=function(a,c,d){h.bc.u.constructor.call(this,a);this.sj=new (h.v.bj(h.v.N.jt,a,!0))(this);this.ze=a.ze||this.sj.ze.bind(this.sj);this.On=a.On||h.bc.PC;this.Dr=new h.Yf;this.Jm=h.yi.Va(this.ue);c&&(this.Vc=c);d&&(this.ni=d);this.ao=!!this.ni&&h.g.Kh();this.pe=new h.Pt(a.Jc);this.ud=this.options.Bq?new h.eh(this.options.Bq,a.gv):null;this.Ud=new h.Uj(this);this.Kw={};this.Pu={};h.oa&&h.oa.yh&&rc(this,h.It,h.oa.yh);h.Lt&&h.Lt.yh&&rc(this,h.mz,h.Lt.yh);h.Na&&h.Na.yh&&(rc(this,h.st,h.Na.yh),this.wf.push(h.Na.NB));
this.Oc=this.options.Jc?this.options.Jc.Oc:new h.Gt(this,this.options.cD||h.af.Lf);this.Oc.Dl.push(this);this.jb=h.i.Va(this.options.ww||"geras",this.rf(),this.options.xw);this.xp=null;this.Sk=!1;this.Il=[];this.wp=new h.g.Uc(0,0)};h.g.object.U(h.bc,h.fb);b=h.bc.prototype;b.Mn=null;b.ra=!0;b.Rk=!0;b.ug=!1;b.mn=!1;b.Qr=!0;b.scrollX=0;b.scrollY=0;b.Ku=null;b.scale=1;b.nr=1;b.$v=0;b.Xv=0;b.nc=null;b.Gb=null;b.la=null;b.Ka=null;b.ec=null;b.Vc=null;b.ni=null;b.ao=!1;b.jn=!1;b.Mq=null;b.Gv=null;b.Yn=null;
b.xv=null;b.Nq=!0;b.Bf=function(a){this.Ud.Bf(a)};b.Ng=function(a){this.Ud.Ng(a)};b.Fk=function(a){return this.Ud?this.Ud.Fk(a):null};b.Dk=function(){return this.Ud?this.Ud.Dk():null};b.rf=function(){return this.Oc.rf()};b.vl=function(a){a||(a=h.af.Lf);this.Oc.vl(a)};function oc(a){a.pa&&a.jb.Hr(a.pa,a.rf());sc(L(a,!1).filter(function(c){return void 0!==c.Cl}));tc(a);a.Ka&&oc(a.Ka);a.isVisible()&&a.Xb(!0);a=new (h.h.get(h.h.ap))(a.rf().name,a.id);h.h.Ha(a)}
function sc(a){for(var c=0,d;d=a[c];c++){var e=d.Cl;e&&(d.ci(e),d.Wd&&d.Wd.TH())}}function Ca(a){if(a.Nq){var c=C(a).getScreenCTM();c&&(a.xv=c.inverse(),a.Nq=!1)}return a.xv}b.Ml=function(){this.Nq=!0};b.isVisible=function(){return this.Rk};function La(a,c){var d=0,e=0,f=1;if(h.g.j.containsNode(a.xb,c)||h.g.j.containsNode(a.Ff,c))f=a.scale;do{var g=h.g.Rd(c);if(c==a.xb||c==a.Ff)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=C(a));return new h.g.R(d,e)}
function lc(a){a=a.wp;return new h.g.Uc(a.width,a.height)}function aa(a){if(!a.Mq)for(var c=a.pa;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Mq=c;break}c=c.parentNode}return a.Mq}
b.ib=function(a){this.pa=h.g.j.L(h.g.F.Qc,{"class":"blocklyWorkspace"},null);a&&(this.Ef=h.g.j.L(h.g.F.Sb,{height:"100%",width:"100%","class":a},this.pa),"blocklyMainBackground"==a&&this.ud?this.Ef.style.fill="url(#"+this.ud.gj.id+")":this.Oc.subscribe(this.Ef,"workspaceBackgroundColour","fill"));this.xb=h.g.j.L(h.g.F.Qc,{"class":"blocklyBlockCanvas"},this.pa);this.Ff=h.g.j.L(h.g.F.Qc,{"class":"blocklyBubbleCanvas"},this.pa);this.ug||(h.S.Ma(this.pa,"mousedown",this,this.bl,!1,!0),h.S.Ma(this.pa,
"wheel",this,this.$B));this.options.Hk&&(this.Ka=new (h.v.bj(h.v.N.gz,this.options,!0))(this));this.ud&&this.ud.update(this.scale);uc(this);var c=h.v.bj(h.v.N.Ij,this.options);c&&(a=this.Ud,c=new c,a.sd&&a.sd.td&&a.sd.td.H(),a.sd=c,a.sd&&(c=a.sd,c=new h.i.Sf(a.B,a.B.jb.ba(),c),a.sd.td=c,a.Bf(a.sd.td.ib())));this.jb.ib(this.pa,this.rf());return this.pa};
b.H=function(){this.ra=!1;this.ec&&this.ec.cancel();this.pa&&(h.g.j.removeNode(this.pa),this.pa=null);this.Ff=this.xb=null;this.Ka&&(this.Ka.H(),this.Ka=null);this.la&&(this.la.H(),this.la=null);this.nc&&(this.nc.H(),this.nc=null);this.Gb&&(this.Gb.H(),this.Gb=null);this.Dj&&(this.Dj.H(),this.Dj=null);this.pe&&(this.pe.H(),this.pe=null);this.ud&&(this.ud.H(),this.ud=null);this.jb.H();this.Ud&&(this.Ud.H(),this.Ud=null);h.bc.u.H.call(this);if(this.Oc){var a=this.Oc,c=a.Dl.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.Dl.splice(c,1);this.Oc.unsubscribe(this.Ef);this.options.Jc||(this.Oc.H(),this.Oc=null)}this.Pu=this.Kw=this.Jm=null;this.options.Jc||(a=C(this))&&a.parentNode&&h.g.j.removeNode(a.parentNode);this.Mn&&(h.S.ub(this.Mn),this.Mn=null)};b.tj=function(a,c){return new h.Qa(this,a,c)};function Q(a,c){return a.la||c?a.la:a.Ka?Q(a.Ka):null}function ea(a){a.Qr&&a.ra&&(a.Gb&&a.Gb.resize(),a.Ml())}
b.resize=function(){this.Ka&&this.Ka.position();this.la&&this.la.position();var a=nc(this.Dr);var c=this.sj;c={VH:c.fj(),lG:c.kq(),RH:kc(c)};for(var d=[],e=0,f;f=a[e];e++)f.position(c,d),d.push(dc(f));this.Gb&&this.Gb.resize();this.Ml();uc(this)};function qb(a){var c=h.g.TA();h.g.R.nf(a.Gv,c)||(a.Gv=c,a.Ml(),uc(a))}function vc(a,c,d){var e=C(a);c&&(a.wp.width=c,e.Oz=c);d&&(a.wp.height=d,e.Nz=d)}
function C(a){if(!a.xp)for(var c=a.pa;c;){if("svg"==c.tagName){a.xp=c;break}c=c.parentNode}return a.xp}function oa(a){if(h.h.isEnabled()){var c=a.scale,d=-a.scrollY,e=-a.scrollX;if(!(c==a.nr&&1>Math.abs(d-a.$v)&&1>Math.abs(e-a.Xv))){var f=new (h.h.get(h.h.sm))(d,e,c,a.id,a.nr);a.nr=c;a.$v=d;a.Xv=e;h.h.Ha(f)}}}
b.translate=function(a,c){if(this.ao&&this.jn)this.ni.ji(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.xb.setAttribute("transform",d);this.Ff.setAttribute("transform",d)}if(this.Vc){d=this.Vc;var e=this.scale;d.Kg=e;d.xe.setAttribute("transform","translate("+a.toFixed(0)+","+c.toFixed(0)+") scale("+e+")")}this.ud&&this.ud.moveTo(a,c);oa(this)};
function Ea(a){if(a.ao){a.jn=!1;var c=a.ni.yq();a.ni.Cm(a.pa);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.xb.setAttribute("transform",c);a.Ff.setAttribute("transform",c)}}
function Da(a){if(a.ao&&!a.jn){a.jn=!0;var c=a.xb.previousSibling,d=parseInt(C(a).getAttribute("width"),10),e=parseInt(C(a).getAttribute("height"),10),f=h.g.Rd(a.xb),g=a.ni,k=a.xb,l=a.Ff,m=a.scale;if(g.ab.childNodes.length)throw Error("Already dragging a block.");g.Gr=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.ab.setAttribute("width",d);g.ab.setAttribute("height",e);g.ab.appendChild(k);g.ab.appendChild(l);g.ab.style.display=
"block";a.ni.ji(f.x,f.y)}}b.cn=function(){var a=this.ze();return a?a.Zb/this.scale:0};b.Xb=function(a){this.Rk=a;if(this.pa)if(this.Gb&&this.Gb.rl(a),Q(this)&&Q(this).rl(a),C(this).style.display=a?"block":"none",this.Ka&&this.Ka.Xb(a),a){a=L(this,!1);for(var c=a.length-1;0<=c;c--)a[c].Vk();this.Ea();this.Ka&&this.Ka.position()}else h.fc(!0)};b.Ea=function(){for(var a=L(this,!1),c=a.length-1;0<=c;c--)a[c].Ea(!1);if(this.ec)for(a=this.ec.cj(),c=0;c<a.length;c++)a[c].Ea(!1);c=this.Ud;c.B.Sk&&c.lf&&c.B.Dk().draw()};
b.Hn=function(a){if(this.ra&&a.tagName&&!(a.getElementsByTagName("block").length>=(isNaN(this.options.Xk)?Infinity:this.options.Xk-L(this,!1).length)))if(this.ec&&this.ec.cancel(),"comment"==a.tagName.toLowerCase()){h.h.disable();try{var c=h.Li.Bk(a),d=parseInt(a.getAttribute("x"),10),e=parseInt(a.getAttribute("y"),10);isNaN(d)||isNaN(e)||(this.K&&(d=-d),c.moveBy(d+50,e+50))}finally{h.h.enable()}h.h.isEnabled()&&h.Qt.OG(c);c.select()}else{h.h.disable();try{var f=h.I.Tm(a,this),g=parseInt(a.getAttribute("x"),
10),k=parseInt(a.getAttribute("y"),10);if(!isNaN(g)&&!isNaN(k)){this.K&&(g=-g);do{a=!1;var l=L(this,!1);c=0;for(var m;m=l[c];c++){var n=m.$a();if(1>=Math.abs(g-n.x)&&1>=Math.abs(k-n.y)){a=!0;break}}if(!a){var r=f.Qd(!1);c=0;for(var q;q=r[c];c++)if(q.closest(h.ac,new h.g.R(g,k)).connection){a=!0;break}}a&&(g=this.K?g-h.ac:g+h.ac,k+=2*h.ac)}while(a);f.moveBy(g,k)}}finally{h.h.enable()}h.h.isEnabled()&&!f.Ja&&h.h.Ha(new (h.h.get(h.h.ri))(f));f.select()}};
function tc(a){(a=a.ug?a.Yn:a)&&!a.ec&&a.Ka&&Q(a.Ka)&&a.Ka.uH()}b.$h=function(a,c){h.bc.u.$h.call(this,a,c);tc(this)};b.Xi=function(a){h.bc.u.Xi.call(this,a);tc(this)};b.Md=function(a,c,d){a=h.bc.u.Md.call(this,a,c,d);tc(this);return a};function uc(a){a.Bu=a.nc&&a.pa.parentNode?a.nc.oq():null;a.Au=a.la?a.la.oq():a.Ka&&"function"==typeof a.Ka.oq?a.Ka.oq():null}function Sa(a,c){return a.Bu&&a.Bu.contains(c.clientX,c.clientY)?h.to:a.Au&&a.Au.contains(c.clientX,c.clientY)?h.Ms:h.Ls}
b.bl=function(a){var c=ib(this,a);if(c){if(c.jj)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");c.wb||(c.wb=this);c.xd=a;c.Xp(a)}};b.ds=function(a,c){a=h.g.al(a,C(this),Ca(this));a.x/=this.scale;a.y/=this.scale;this.Ku=h.g.R.Pm(c,a)};b.ad=function(){return null!=this.ec&&this.ec.ad()};
b.hc=function(){return this.options.Wb&&!!this.options.Wb.scrollbars||this.options.Wb&&this.options.Wb.Cj||this.options.Wb&&this.options.Wb.wh||this.options.mb&&this.options.mb.Cj||this.options.mb&&this.options.mb.iw};function mb(a){var c=!!a.Gb;return a.hc()&&(!c||c&&!!a.Gb.Eb)}function nb(a){var c=!!a.Gb;return a.hc()&&(!c||c&&!!a.Gb.Hb)}
b.$B=function(a){if(h.je.Ih())a.preventDefault(),a.stopPropagation();else{var c=this.options.mb&&this.options.mb.Cj,d=this.options.Wb&&this.options.Wb.Cj;if(c||d){var e=h.g.YA(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=h.g.al(a,C(this),Ca(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function ca(a){a=[].concat(a.Il);if(!a.length)return new h.g.Rect(0,0,0,0);for(var c=dc(a[0]),d=1;d<a.length;d++){var e=a[d];e.wd&&e.wd()||(e=dc(e),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}return c}b.wl=function(a){if(!this.options.readOnly&&!this.ug){var c=Pb(h.Aa.tc.Cc,{A:this});this.cA&&this.cA(c,a);h.La.show(a,c,this.K)}};
function ma(a){if(a.options.Jc)ma(a.options.Jc);else{h.Tk=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{C(a).focus({preventScroll:!0})}catch(c){try{C(a).parentNode.setActive()}catch(d){C(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.mb.JC,d);var e=this.scale*d;if(this.scale!=e){e>this.options.mb.Yk?d=this.options.mb.Yk/this.scale:e<this.options.mb.$k&&(d=this.options.mb.$k/this.scale);var f=this.xb.getCTM(),g=C(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.mb.Yk&&a>this.options.mb.Yk?a=this.options.mb.Yk:this.options.mb.$k&&a<this.options.mb.$k&&(a=this.options.mb.$k);this.scale=a;h.fc(!1);this.la&&(this.la.tH(),uc(this));this.ud&&this.ud.update(this.scale);a=this.ze();this.scrollX-=a.uc;this.scrollY-=a.Dc;a.Pe+=a.uc;a.Qe+=a.Dc;this.scroll(this.scrollX,this.scrollY);if(this.Gb)if(this.la){var c=this.Gb;c.Eb&&wa(c.Eb,a);c.Hb&&ya(c.Hb,a)}else c=this.Gb,c.Eb&&xa(c.Eb,a),c.Hb&&za(c.Hb,a)};
b.scroll=function(a,c){h.fc(!0);var d=this.ze();a=Math.min(a,-d.scrollLeft);c=Math.min(c,-d.scrollTop);var e=d.scrollTop+Math.max(0,d.scrollHeight-d.oc);a=Math.max(a,-(d.scrollLeft+Math.max(0,d.scrollWidth-d.Zb)));c=Math.max(c,-e);this.scrollX=a;this.scrollY=c;this.Gb&&this.Gb.set(-(a+d.scrollLeft),-(c+d.scrollTop),!1);a+=d.uc;c+=d.Dc;this.translate(a,c)};
h.bc.PC=function(a){var c=this.ze();"number"==typeof a.x&&(this.scrollX=-(c.scrollLeft+(c.scrollWidth-c.Zb)*a.x));"number"==typeof a.y&&(this.scrollY=-(c.scrollTop+(c.scrollHeight-c.oc)*a.y));this.translate(this.scrollX+c.uc,this.scrollY+c.Dc)};b=h.bc.prototype;b.Gc=function(a){return h.bc.u.Gc.call(this,a)};b.Vb=function(a){return h.bc.u.Vb.call(this,a)};b.vm=function(a){this.Il.push(a);h.bc.u.vm.call(this,a)};b.Ln=function(a){h.g.ck(this.Il,a);h.bc.u.Ln.call(this,a)};
b.Nc=function(a){var c=!this.Qr&&a;this.Qr=a;c&&ea(this)};b.clear=function(){this.Nc(!1);h.bc.u.clear.call(this);this.Il=[];this.Nc(!0)};function wc(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.Pu.CREATE_VARIABLE=c}function rc(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.Kw[c]=d}
function ib(a,c){var d="mousedown"==c.type||"touchstart"==c.type||"pointerdown"==c.type,e=a.ec;return e?d&&e.jj?(console.warn("Tried to start the same gesture twice."),e.cancel(),null):e:d?(a.ec=new h.Bc(c,a),a.ec):null}function fc(a){a.ec&&a.ec.cancel()};h.sg=function(a,c){h.Rz();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!h.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new h.md(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;h.g.ob.Tn(d,h.g.ob.State.ty,h.M.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=h.mk(d,c);var e=new h.Cs(d),f=new h.Rt(d),g=h.iA(a,c,e,f);h.sB(g);h.Tk=g;h.Gl(g);d.addEventListener("focusin",function(){h.Tk=g});return g};
h.mk=function(a,c){a.setAttribute("dir","LTR");h.Ed.sg(c.jB,c.hw);a=h.g.j.L(h.g.F.Yj,{xmlns:h.g.j.om,"xmlns:html":h.g.j.zo,"xmlns:xlink":h.g.j.nh,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=h.g.j.L(h.g.F.Ks,{},a);c.Bq=h.eh.ib(String(Math.random()).substring(2),c.gv,d);return a};
h.iA=function(a,c,d,e){c.Jc=null;c=new h.bc(c,d,e);d=c.options;c.scale=d.mb.YC;a.appendChild(c.ib("blocklyMainBackground"));h.g.j.Bb(aa(c),c.jb.Pd());h.g.j.Bb(aa(c),c.rf().Pd());if(!d.Hk&&d.Ph){e=h.g.F.Yj;var f=new h.md({parentWorkspace:c,rtl:c.K,oneBasedIndex:c.options.aC,horizontalLayout:c.kj,renderer:c.options.ww,rendererOverrides:c.options.xw,move:{scrollbars:!0}});f.ii=c.options.ii;c.la=c.kj?new (h.v.bj(h.v.N.Yx,c.options,!0))(f):new (h.v.bj(h.v.N.Zx,c.options,!0))(f);c.la.np=!1;c.la.bB().Xb(!0);
e=c.la.ib(e);h.g.j.Lk(e,a)}if(d.mv){if(!h.jz)throw Error("Missing require for Blockly.Trashcan");c.nc=new h.jz(c);e=c.nc.ib();c.pa.insertBefore(e,c.xb);mc(c.Dr,{id:"trashcan",kw:c.nc,weight:1,types:[h.Yf.N.Ro]})}if(d.mb&&d.mb.controls){if(!h.uz)throw Error("Missing require for Blockly.ZoomControls");c.Dj=new h.uz(c);d=c.Dj.ib();c.pa.appendChild(d);mc(c.Dr,{id:"zoomControls",kw:c.Dj,weight:2,types:[h.Yf.N.Ro]})}c.Oc.subscribe(a,"workspaceBackgroundColour","background-color");c.translate(0,0);c.wf.push(h.Mz(c));
h.Gl(c);h.Y.ib();h.C.ib();h.G.ib();return c};h.CA=function(a,c){var d=null;switch(c.type){case h.h.ri:case h.h.Vg:(d=a.Gc(c.Xa))&&(d=d.Sd());break;case h.h.Zl:case h.h.Gj:d=a.Gm[c.re]||null}return d};h.au=function(a){var c=a.sj;if(c.Dq()&&!a.ad()){c=c.Zm(!0);for(var d=[].concat(a.Il),e=0,f;f=d[e];e++)h.$t(a,c,f)}};
h.Mz=function(a){return function(c){var d=a.sj;if(d.Dq&&!a.ad())if(-1!==h.h.lx.indexOf(c.type)){d=d.Zm(!0);var e=h.CA(a,c);if(e){var f=h.h.Nb();h.h.sa(c.group);h.$t(a,d,e)&&!c.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==f&&h.h.sa(f)}}else c.type===h.h.sm&&c.scale>c.mr&&h.au(a)}};
h.$t=function(a,c,d){var e=dc(d),f=h.g.jc.gk(c.top,e.top,c.top+c.height-(e.bottom-e.top))-e.top,g=c.left;c=c.left+c.width-(e.right-e.left);a.K?g=Math.min(c,g):c=Math.max(g,c);return(a=h.g.jc.gk(g,e.left,c)-e.left)||f?(d.moveBy(a,f),!0):!1};
h.sB=function(a){var c=a.options,d=C(a);h.S.Ma(d.parentNode,"contextmenu",null,function(f){h.g.nn(f)||f.preventDefault()});d=h.S.Ma(window,"resize",null,function(){h.fc(!0);h.Gl(a);h.au(a)});a.Mn=d;h.sg.Hz();if(c.Ph){d=a.Ka;var e=Q(a,!0);d?d.Va():e&&(e.Va(a),e.show(c.Ph),"function"==typeof e.LC&&e.LC())}d=h.ya.Mc;c.mv&&(d=a.nc.Va(d));c.mb&&c.mb.controls&&a.Dj.Va(d);c.Wb&&c.Wb.scrollbars?(a.Gb=new h.Bt(a,!0===c.Wb.scrollbars||!!c.Wb.scrollbars.Iq,!0===c.Wb.scrollbars||!!c.Wb.scrollbars.vertical),a.Gb.resize()):
a.On({x:.5,y:.5});c.lB&&h.sg.DB(c.hw,a)};h.sg.Hz=function(){h.uA||(h.S.Ma(document,"scroll",null,function(){for(var a=h.fb.getAll(),c=0,d;d=a[c];c++)d.Ml&&d.Ml()}),h.S.Ma(document,"keydown",null,h.qr),h.S.bind(document,"touchend",null,h.zg),h.S.bind(document,"touchcancel",null,h.zg),h.g.userAgent.Oj&&h.S.Ma(window,"orientationchange",document,function(){h.Gl(h.Ah())}));h.uA=!0};
h.sg.DB=function(a,c){function d(){for(;f.length;)h.S.ub(f.pop());e.preload()}var e=c.pe;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(h.S.Ma(document,"mousemove",null,d,!0));f.push(h.S.Ma(document,"touchstart",null,d,!0))};h.gh=function(a){this.DC=Object.create(null);if(a){a=a.split(",");for(var c=0;c<a.length;c++)this.DC[a[c]]=!0}this.reset()};h.gh.QD="DEVELOPER_VARIABLE";h.gh.prototype.reset=function(){this.uh=Object.create(null);Object.create(null);this.Wa=null};h.gh.nf=function(a,c){return a.toLowerCase()==c.toLowerCase()};h.Na={};h.Na.Fy=h.st;h.Na.wx="x";h.Na.xz=function(a){var c=ab(a,"procedures_defnoreturn").map(function(d){return d.dj()});a=ab(a,"procedures_defreturn").map(function(d){return d.dj()});c.sort(h.Na.sw);a.sort(h.Na.sw);return[c,a]};h.Na.sw=function(a,c){return a[0].toLowerCase().localeCompare(c[0].toLowerCase())};h.Na.EA=function(a,c){if(c.bd)return a;for(a=a||h.M.UNNAMED_KEY||"unnamed";!h.Na.wB(a,c.A,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
h.Na.wB=function(a,c,d){return!h.Na.yB(a,c,d)};h.Na.yB=function(a,c,d){c=L(c,!1);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].dj){var f=c[e].dj();if(h.gh.nf(f[0],a))return!0}return!1};h.Na.yH=function(a){a=a.trim();var c=h.Na.EA(a,this.$()),d=this.getValue();if(d!=a&&d!=c){a=L(this.$().A,!1);for(var e=0;e<a.length;e++)a[e].CC&&a[e].CC(d,c)}return c};
h.Na.yh=function(a){function c(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],n=g[l][1],r=h.g.xml.createElement("block");r.setAttribute("type",k);r.setAttribute("gap",16);var q=h.g.xml.createElement("mutation");q.setAttribute("name",m);r.appendChild(q);for(m=0;m<n.length;m++){var t=h.g.xml.createElement("arg");t.setAttribute("name",n[m]);q.appendChild(t)}d.push(r)}}var d=[];if(h.$b.procedures_defnoreturn){var e=h.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=h.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(h.g.xml.createTextNode(h.M.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}h.$b.procedures_defreturn&&(e=h.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=h.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(h.g.xml.createTextNode(h.M.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));h.$b.procedures_ifreturn&&(e=h.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=h.Na.xz(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
h.Na.Pw=function(a){for(var c=[],d=ab(a,"procedures_mutatorarg"),e=0,f;f=d[e];e++)c.push(Ha(f,"NAME"));d=h.g.xml.createElement("xml");e=h.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=h.g.xml.createElement("field");f.setAttribute("name","NAME");c=h.g.xml.createTextNode(h.oa.Ru(h.Na.wx,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);if(c=h.g.ga.uu(d)){if(!a.options.Ph)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(h.g.ga.Hk(c)){if(!a.Ka)throw Error("Existing toolbox has no categories.  Can't change mode.");
a.options.Ph=c;a.Ka.Ea(c)}else{if(!a.la)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.Ph=c;a.la.show(c)}}else if(a.options.Ph)throw Error("Can't nullify an existing toolbox.");};h.Na.NB=function(a){if(a.type==h.h.Bs&&"mutator"===a.qG&&a.kH){a=h.fb.Ck(a.Ob).Gc(a.Xa);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.Wd.bB(),h.Na.Pw(a),a.wf.push(h.Na.MB)}};h.Na.MB=function(a){a.type!=h.h.ri&&a.type!=h.h.zs&&a.type!=h.h.Ug||h.Na.Pw(h.fb.Ck(a.Ob))};
h.Na.NA=function(a,c){var d=[];c=L(c,!1);for(var e=0;e<c.length;e++)if(c[e].XA){var f=c[e].XA();f&&h.gh.nf(f,a)&&d.push(c[e])}return d};h.Na.qH=function(a){var c=h.h.Ga,d=a.dj()[0],e=a.kc(!0);a=h.Na.NA(d,a.A);d=0;for(var f;f=a[d];d++){var g=f.kc();g=g&&h.I.we(g);f.Yc(e);var k=f.kc();k=k&&h.I.we(k);g!=k&&(h.h.Ga=!1,h.h.Ha(new (h.h.get(h.h.Ug))(f,"mutation",null,g,k)),h.h.Ga=c)}};h.Na.UG=function(a,c){c=c.Vb(!1);for(var d=0;d<c.length;d++)if(c[d].dj){var e=c[d].dj();if(e&&h.gh.nf(e[0],a))return c[d]}return null};h.Lb=function(){h.Lb.v=this;this.dd=Object.create(null);this.rj=Object.create(null)};h.Lb.vn={Shift:h.g.ca.nm,Control:h.g.ca.Zg,Alt:h.g.ca.pi,Meta:h.g.ca.Ci};h.Lb.prototype.register=function(a,c){if(this.dd[a.name]&&!c)throw Error('Shortcut with name "'+a.name+'" already exists.');this.dd[a.name]=a};
h.Lb.prototype.unregister=function(a){if(!this.dd[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var c in this.rj){var d=c,e=this.rj[d],f=e.indexOf(a);-1<f&&(e.splice(f,1),0==e.length&&delete this.rj[d])}delete this.dd[a];return!0};function R(a,c){var d=h.Lb.v;a=String(a);var e=d.rj[a];if(e)throw Error('Shortcut with name "'+c+'" collides with shortcuts '+e.toString());d.rj[a]=[c]}
h.Lb.prototype.qr=function(a,c){var d="";for(e in h.Lb.vn)c.getModifierState(e)&&(""!=d&&(d+="+"),d+=e);""!=d&&c.keyCode?d=d+"+"+c.keyCode:c.keyCode&&(d=c.keyCode.toString());d=this.rj[d]||[];if(!d)return!1;var e=0;for(var f;f=d[e];e++)if(f=this.dd[f],(!f.sb||f.sb(a))&&f.Ya&&f.Ya(a,c,f))return!0;return!1};
function S(a,c){var d="";if(c){for(var e=h.g.object.values(h.Lb.vn),f=0,g;g=c[f];f++)if(0>e.indexOf(g))throw Error(g+" is not a valid modifier key.");for(var k in h.Lb.vn)-1<c.indexOf(h.Lb.vn[k])&&(""!=d&&(d+="+"),d+=k)}""!=d&&a?d=d+"+"+a:a&&(d=a.toString());return d}new h.Lb;h.tm=function(a,c,d,e){this.A=a;this.name=c;this.type=d||"";this.pB=e||h.g.pf();h.h.Ha(new (h.h.get(h.h.qm))(this))};h.tm.prototype.xc=function(){return this.pB};h.tm.aA=function(a,c){a=a.name.toLowerCase();c=c.name.toLowerCase();return a<c?-1:a==c?0:1};h.oa={};h.oa.Fy=h.It;h.oa.yz=function(a){var c=L(a,!1);a=Object.create(null);for(var d=0;d<c.length;d++){var e=ha(c[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.xc();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};h.oa.us={};
h.oa.mG=function(a){a=L(a,!1);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.VG;!f&&e.SA&&(f=e.SA,h.oa.us[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),h.oa.us[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
h.oa.yh=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");wc(a,function(e){h.oa.wu(e.ZG())});c.push(d);a=h.oa.HA(a);return c=c.concat(a)};
h.oa.HA=function(a){a=a.an("");var c=[];if(0<a.length){var d=a[a.length-1];if(h.$b.variables_set){var e=h.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",h.$b.math_change?8:24);e.appendChild(h.oa.jq(d));c.push(e)}h.$b.math_change&&(e=h.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",h.$b.variables_get?20:8),e.appendChild(h.oa.jq(d)),d=h.I.Ne('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(h.$b.variables_get){a.sort(h.tm.aA);d=0;for(var f;f=a[d];d++)e=h.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(h.oa.jq(f)),c.push(e)}}return c};h.oa.Jt="ijkmnopqrstuvwxyzabcdefgh";h.oa.IA=function(a){return h.oa.Ru(h.oa.Jt.charAt(0),a.lq())};
h.oa.Ru=function(a,c){if(!c.length)return a;for(var d=h.oa.Jt,e="",f=d.indexOf(a);;){for(var g=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){g=!0;break}if(!g)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
h.oa.wu=function(a,c,d){function e(g){h.oa.tw(h.M.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=h.oa.PB(k,a);if(l){if(l.type==f)var m=h.M.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=h.M.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);h.alert(m,function(){e(k)})}else a.Md(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};h.oa.Md=h.oa.wu;
h.oa.uw=function(a,c){function d(e){var f=h.M.RENAME_VARIABLE_TITLE.replace("%1",c.name);h.oa.tw(f,e,function(g){if(g){var k=h.oa.QB(g,c.type,a);k?(k=h.M.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),h.alert(k,function(){d(g)})):a.$h(c.xc(),g)}})}d("")};h.oa.tw=function(a,c,d){h.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==h.M.RENAME_VARIABLE||e==h.M.NEW_VARIABLE)&&(e=null);d(e)})};
h.oa.QB=function(a,c,d){d=d.Wa.aj();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};h.oa.PB=function(a,c){c=c.Wa.aj();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};h.oa.jq=function(a){var c=h.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.xc());c.setAttribute("variabletype",a.type);a=h.g.xml.createTextNode(a.name);c.appendChild(a);return c};
h.oa.YG=function(a,c,d,e){var f=h.oa.og(a,c,d,e);f||(f=h.oa.jA(a,c,d,e));return f};h.oa.og=function(a,c,d,e){var f=a.Jn,g=null;if(c&&(g=a.Ch(c),!g&&f&&(g=f.Ch(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.og(d,e);!g&&f&&(g=f.og(d,e))}return g};h.oa.jA=function(a,c,d,e){var f=a.Jn;d||(d=h.oa.IA(a.ug?a.Yn:a));return f?f.Md(d,e,c):a.Md(d,e,c)};
h.oa.JA=function(a,c){a=a.aj();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};h.VERSION="uncompiled";h.Tk=null;h.selected=null;h.Zi=[];h.Ri=null;h.Em=null;h.Dp=null;h.tG=null;h.Fn=null;h.OH=function(a){h.g.Nm.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize");return new h.g.Uc(a.Oz,a.Nz)};h.AH=function(a){ea(a)};
h.Gl=function(a){for(;a.options.Jc;)a=a.options.Jc;var c=C(a),d=lc(a),e=c.parentNode;if(e){var f=e.offsetWidth;e=e.offsetHeight;d.width!=f&&(c.setAttribute("width",f+"px"),vc(a,f,null));d.height!=e&&(c.setAttribute("height",e+"px"),vc(a,null,e));a.resize()}};h.qr=function(a){var c=h.Tk;!c||h.g.nn(a)||c.ra&&!c.isVisible()||h.Lb.v.qr(c,a)};h.Cu=function(){var a=h.selected;a.A.ug||(h.h.sa(!0),h.fc(),a.H(!0,!0),h.h.sa(!1))};
h.Jp=function(a){if(a.oj)a=null;else{var c=h.I.fg(a,!0);h.I.pA(c);var d=a.$a();c.setAttribute("x",a.K?-d.x:d.x);c.setAttribute("y",d.y);a={xml:c,source:a.A,jD:h.g.Su(a)}}a&&(h.Ri=a.xml,h.Em=a.source,h.Dp=a.jD)};h.Hn=function(){if(!h.Ri)return!1;var a=h.Em;a.ug&&(a=a.Yn);return h.Dp&&bb(a,h.Dp)?(h.h.sa(!0),a.Hn(h.Ri),h.h.sa(!1),!0):!1};h.duplicate=function(a){var c=h.Ri,d=h.Em;h.Jp(a);a.A.Hn(h.Ri);h.Ri=c;h.Em=d};h.rH=function(a){h.g.nn(a)||a.preventDefault()};
h.fc=function(a){h.G.rb();h.Y.rb();h.C.Gq();a||(a=h.Ah(),a.nc&&a.nc.PG&&a.nc.zG(),(a=a.Ka)&&Q(a)&&Q(a).np&&a.xG())};h.Ah=function(){return h.Tk};h.alert=function(a,c){alert(a);c&&c()};h.confirm=function(a,c){c(confirm(a))};h.prompt=function(a,c,d){d(prompt(a,c))};
h.BB=function(a){return function(){var c=a.type?'Block "'+a.type+'": ':"";if(a.output&&a.previousStatement)throw Error(c+"Must not have both an output and a previousStatement.");a.style&&a.style.Be&&(this.Be=a.style.Be,a.style=null);if(a.style&&a.colour)throw Error(c+"Must not have both a colour and a style.");if(a.style){var d=a.style;try{this.ci(d)}catch(t){console.warn(c+"Style does not exist: ",d)}}else if("colour"in a)if(void 0===a.colour)console.warn(c+"Undefined colour value.");else{d=a.colour;
try{this.Ie(d)}catch(t){console.warn(c+"Illegal colour value: ",d)}}for(d=0;void 0!==a["message"+d];){var e=a["args"+d]||[],f=a["lastDummyAlign"+d],g=c;var k=h.g.eD(a["message"+d]);for(var l=e.length,m=[],n=0,r=0;r<k.length;r++){var q=k[r];if("number"==typeof q){if(1>q||q>l)throw Error('Block "'+this.type+'": Message index %'+q+" out of range.");if(m[q])throw Error('Block "'+this.type+'": Message index %'+q+" duplicated.");m[q]=!0;n++}}if(n!=l)throw Error('Block "'+this.type+'": Message does not reference all '+
l+" arg(s).");l=[];for(m=0;m<k.length;m++){n=k[m];"number"==typeof n&&(n=e[n-1]);if("string"==typeof n&&(n=Kb(n),!n))continue;l.push(n)}(e=l.length)&&!Lb(l[e-1].type)&&(e={type:"input_dummy"},f&&(e.align=f),l.push(e));f=[];for(e=0;k=l[e];e++)if(Lb(k.type)){m=g;r={LEFT:h.bb.Dd.Id,RIGHT:h.bb.Dd.Ze,CENTRE:h.bb.Dd.Wl,CENTER:h.bb.Dd.Wl};n=null;switch(k.type){case "input_value":n=this.oh(h.Ia.oe,k.name);break;case "input_statement":n=this.oh(h.Ia.Tc,k.name);break;case "input_dummy":n=Ib(this,k.name)}n?
(k.check&&n.wj(k.check),k.align&&(r=r[k.align.toUpperCase()],void 0===r?console.warn(m+"Illegal align value: ",k.align):Eb(n,r)),k=n):k=null;if(k){for(m=0;n=f[m];m++)M(k,n[0],n[1]);f.length=0}}else(m=Jb(this,k))&&f.push([m,k.name]);d++}void 0!==a.inputsInline&&this.Mg(a.inputsInline);void 0!==a.output&&this.Qn(!0,a.output);void 0!==a.previousStatement&&this.Sn(!0,a.previousStatement);void 0!==a.nextStatement&&this.Pn(!0,a.nextStatement);void 0!==a.tooltip&&(d=a.tooltip,d=h.g.Lc(d),this.Pg(d));void 0!==
a.enableContextMenu&&(d=a.enableContextMenu,this.contextMenu=!!d);void 0!==a.helpUrl&&(d=a.helpUrl,this.Eh=h.g.Lc(d));"string"==typeof a.extensions&&(console.warn(c+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+a.type+"' block."),a.extensions=[a.extensions]);void 0!==a.mutator&&h.xa.apply(a.mutator,this,!0);if(Array.isArray(a.extensions))for(c=a.extensions,d=0;d<c.length;++d)h.xa.apply(c[d],this,!1)}};
h.LG=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(h.$b[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),h.$b[e]={Va:h.BB(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};h.jH=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};h.bH=function(a){return h.g.hb.uv(a)};
h.Rz=function(){h.cc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);h.cc("LOGIC_HUE",["Constants","Logic","HUE"],210);h.cc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);h.cc("LOOPS_HUE",["Constants","Loops","HUE"],120);h.cc("MATH_HUE",["Blocks","math","HUE"],void 0);h.cc("MATH_HUE",["Constants","Math","HUE"],230);h.cc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);h.cc("TEXTS_HUE",["Constants","Text","HUE"],160);h.cc("LISTS_HUE",["Blocks","lists","HUE"],void 0);h.cc("LISTS_HUE",["Constants","Lists","HUE"],
260);h.cc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);h.cc("COLOUR_HUE",["Constants","Colour","HUE"],20);h.cc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);h.cc("VARIABLES_HUE",["Constants","Variables","HUE"],330);h.cc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);h.cc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
h.cc=function(a,c,d){for(var e="Blockly",f=h,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};h.IH=function(a){h.Fn=a};h.pp=h.S.bind;h.ns=h.S.ub;h.pG=h.S.Ma;h.uD=h.bb.Dd.Id;h.tD=h.bb.Dd.Wl;h.ts=h.bb.Dd.Ze;h.Jb=h.T.Jb;h.Rc=h.T.Rc;h.Kb=h.T.Kb;h.Sc=h.T.Sc;h.VD=h.Ia.ge;h.WF=h.g.ga.Pb.$j;h.TF=h.g.ga.Pb.Tl;h.UF=h.g.ga.Pb.Id;
h.VF=h.g.ga.Pb.Ze;var xc={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fo:"F\u00f8royskt",
fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",
pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",
yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},yc="ace ar fa he mzn ps ur".split(" "),zc=window.BlocklyGamesLang,Ac=window.BlocklyGamesLanguages,Bc=/\.html$/.test(window.location.pathname);function Cc(){return-1!=yc.indexOf(zc)}var U,Dc=Number,Ec,Fc=window.location.search.match(/[?&]level=([^&]+)/);Ec=Fc?decodeURIComponent(Fc[1].replace(/\+/g,"%20")):"NaN";var Gc=Dc(Ec);U=isNaN(Gc)?1:h.g.jc.gk(1,Gc,10);
function Hc(){document.title=document.getElementById("title").textContent;document.dir=Cc()?"rtl":"ltr";document.head.parentElement.setAttribute("lang",zc);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<Ac.length;d++){var e=Ac[d];c.push([xc[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==zc&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}for(d=
1;10>=d;d++)a=document.getElementById("level"+d),c=!!Ic(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(Jc,1)}function Ic(a){var c=Kc;try{var d=window.localStorage[c+a]}catch(e){}return d}function V(a){var c=Lc(a);return null===c?"[Unknown message: "+a+"]":c}
function Lc(a){return(a=document.getElementById(a))?(a=a.textContent,a=a.replace(/\\n/g,"\n")):null}function Mc(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",c,!0)}
function Jc(){if(!Bc){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};h.ka={};h.ka.Kr=function(){h.Aa.v.register({wc:function(){return h.M.UNDO},sb:function(a){return 0<a.A.ki.length?"enabled":"disabled"},Ya:function(a){db(a.A,!1)},ed:h.Aa.tc.Cc,id:"undoWorkspace",weight:1})};h.ka.Jr=function(){h.Aa.v.register({wc:function(){return h.M.REDO},sb:function(a){return 0<a.A.ml.length?"enabled":"disabled"},Ya:function(a){db(a.A,!0)},ed:h.Aa.tc.Cc,id:"redoWorkspace",weight:2})};
h.ka.kC=function(){h.Aa.v.register({wc:function(){return h.M.CLEAN_UP},sb:function(a){return a.A.hc()?1<a.A.Vb(!1).length?"enabled":"disabled":"hidden"},Ya:function(a){a=a.A;a.Nc(!1);h.h.sa(!0);for(var c=a.Vb(!0),d=0,e=0,f;f=c[e];e++)if(f.hc()){var g=f.$a();f.moveBy(-g.x,d-g.y);cc(f);d=f.$a().y+B(f).height+a.jb.ba().Sj}h.h.sa(!1);a.Nc(!0)},ed:h.Aa.tc.Cc,id:"cleanWorkspace",weight:3})};h.ka.Jw=function(a,c){for(var d=0,e=0;e<c.length;e++)for(var f=c[e];f;)setTimeout(f.bi.bind(f,a),d),f=u(f),d+=10};
h.ka.lC=function(){h.Aa.v.register({wc:function(){return h.M.COLLAPSE_ALL},sb:function(a){if(a.A.options.collapse){a=a.A.Vb(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(!d.isCollapsed())return"enabled";d=u(d)}return"disabled"}return"hidden"},Ya:function(a){h.ka.Jw(!0,a.A.Vb(!0))},ed:h.Aa.tc.Cc,id:"collapseWorkspace",weight:4})};
h.ka.wC=function(){h.Aa.v.register({wc:function(){return h.M.EXPAND_ALL},sb:function(a){if(a.A.options.collapse){a=a.A.Vb(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(d.isCollapsed())return"enabled";d=u(d)}return"disabled"}return"hidden"},Ya:function(a){h.ka.Jw(!1,a.A.Vb(!0))},ed:h.Aa.tc.Cc,id:"expandWorkspace",weight:5})};h.ka.Ut=function(a,c){if(a.Ic())Array.prototype.push.apply(c,p(a,!1));else{a=x(a,!1);for(var d=0;d<a.length;d++)h.ka.Ut(a[d],c)}};
h.ka.qq=function(a){var c=[];a=a.Vb(!0);for(var d=0;d<a.length;d++)h.ka.Ut(a[d],c);return c};h.ka.Mm=function(a,c){h.h.sa(c);var d=a.shift();d&&(d.A?(d.H(!1,!0),setTimeout(h.ka.Mm,10,a,c)):h.ka.Mm(a,c));h.h.sa(!1)};
h.ka.sC=function(){h.Aa.v.register({wc:function(a){if(a.A)return a=h.ka.qq(a.A).length,1==a?h.M.DELETE_BLOCK:h.M.DELETE_X_BLOCKS.replace("%1",String(a))},sb:function(a){if(a.A)return 0<h.ka.qq(a.A).length?"enabled":"disabled"},Ya:function(a){if(a.A){fc(a.A);var c=h.ka.qq(a.A),d=h.g.pf();2>c.length?h.ka.Mm(c,d):h.confirm(h.M.DELETE_ALL_BLOCKS.replace("%1",c.length),function(e){e&&h.ka.Mm(c,d)})}},ed:h.Aa.tc.Cc,id:"workspaceDelete",weight:6})};
h.ka.AC=function(){h.ka.Kr();h.ka.Jr();h.ka.kC();h.ka.lC();h.ka.wC();h.ka.sC()};h.ka.uC=function(){h.Aa.v.register({wc:function(){return h.M.DUPLICATE_BLOCK},sb:function(a){a=a.block;return!a.bd&&a.Ic()&&a.hc()?(cb(a.A)?bb(a.A,h.g.Su(a)):1)?"enabled":"disabled":"hidden"},Ya:function(a){a.block&&h.duplicate(a.block)},ed:h.Aa.tc.Ib,id:"blockDuplicate",weight:1})};
h.ka.nC=function(){h.Aa.v.register({wc:function(a){return a.block.rd?h.M.REMOVE_COMMENT:h.M.ADD_COMMENT},sb:function(a){a=a.block;return h.g.userAgent.Gd||a.bd||!a.A.options.Yz||a.isCollapsed()||!a.vd()?"hidden":"enabled"},Ya:function(a){a=a.block;a.rd?a.xj(null):a.xj("")},ed:h.Aa.tc.Ib,id:"blockComment",weight:2})};
h.ka.yC=function(){h.Aa.v.register({wc:function(a){return Ka(a.block)?h.M.EXTERNAL_INPUTS:h.M.INLINE_INPUTS},sb:function(a){a=a.block;if(!a.bd&&a.hc()&&!a.isCollapsed())for(var c=1;c<a.P.length;c++)if(a.P[c-1].type!=h.Ia.Tc&&a.P[c].type!=h.Ia.Tc)return"enabled";return"hidden"},Ya:function(a){a.block.Mg(!Ka(a.block))},ed:h.Aa.tc.Ib,id:"blockInline",weight:3})};
h.ka.mC=function(){h.Aa.v.register({wc:function(a){return a.block.isCollapsed()?h.M.EXPAND_BLOCK:h.M.COLLAPSE_BLOCK},sb:function(a){a=a.block;return!a.bd&&a.hc()?"enabled":"hidden"},Ya:function(a){a.block.bi(!a.block.isCollapsed())},ed:h.Aa.tc.Ib,id:"blockCollapseExpand",weight:4})};
h.ka.tC=function(){h.Aa.v.register({wc:function(a){return a.block.isEnabled()?h.M.DISABLE_BLOCK:h.M.ENABLE_BLOCK},sb:function(a){a=a.block;return!a.bd&&a.A.options.disable&&a.vd()?Hb(a)?"disabled":"enabled":"hidden"},Ya:function(a){a=a.block;var c=h.h.Nb();c||h.h.sa(!0);a.Cf(!a.isEnabled());c||h.h.sa(!1)},ed:h.Aa.tc.Ib,id:"blockDisable",weight:5})};
h.ka.Ir=function(){h.Aa.v.register({wc:function(a){var c=a.block;a=p(c,!1).length;(c=u(c))&&(a-=p(c,!1).length);return 1==a?h.M.DELETE_BLOCK:h.M.DELETE_X_BLOCKS.replace("%1",String(a))},sb:function(a){return!a.block.bd&&a.block.Ic()?"enabled":"hidden"},Ya:function(a){h.h.sa(!0);a.block.H(!0,!0);h.h.sa(!1)},ed:h.Aa.tc.Ib,id:"blockDelete",weight:6})};
h.ka.xC=function(){h.Aa.v.register({wc:function(){return h.M.HELP},sb:function(a){a=a.block;return("function"==typeof a.Eh?a.Eh():a.Eh)?"enabled":"hidden"},Ya:function(a){a.block.showHelp()},ed:h.Aa.tc.Ib,id:"blockHelp",weight:7})};h.ka.jC=function(){h.ka.uC();h.ka.nC();h.ka.yC();h.ka.mC();h.ka.tC();h.ka.Ir();h.ka.xC()};h.ka.qC=function(){h.ka.AC();h.ka.jC()};h.ka.qC();h.kb={};h.kb.names={Lx:"escape",ah:"delete",ox:"copy",ux:"cut",My:"paste",kz:"undo",Xy:"redo"};h.kb.vC=function(){var a={name:h.kb.names.Lx,sb:function(c){return!c.options.readOnly},Ya:function(){h.fc();return!0}};h.Lb.v.register(a);R(h.g.ca.Kx,a.name)};h.kb.Ir=function(){var a={name:h.kb.names.ah,sb:function(c){return!c.options.readOnly&&h.selected&&h.selected.Ic()},Ya:function(c,d){d.preventDefault();if(h.je.Ih())return!1;h.Cu();return!0}};h.Lb.v.register(a);R(h.g.ca.ah,a.name);R(h.g.ca.hx,a.name)};
h.kb.oC=function(){var a={name:h.kb.names.ox,sb:function(d){return!d.options.readOnly&&!h.je.Ih()&&h.selected&&h.selected.Ic()&&h.selected.hc()},Ya:function(){h.fc();h.Jp(h.selected);return!0}};h.Lb.v.register(a);var c=S(h.g.ca.no,[h.g.ca.Zg]);R(c,a.name);c=S(h.g.ca.no,[h.g.ca.pi]);R(c,a.name);c=S(h.g.ca.no,[h.g.ca.Ci]);R(c,a.name)};
h.kb.pC=function(){var a={name:h.kb.names.ux,sb:function(d){return!d.options.readOnly&&!h.je.Ih()&&h.selected&&h.selected.Ic()&&h.selected.hc()&&!h.selected.A.ug},Ya:function(){h.Jp(h.selected);h.Cu();return!0}};h.Lb.v.register(a);var c=S(h.g.ca.hp,[h.g.ca.Zg]);R(c,a.name);c=S(h.g.ca.hp,[h.g.ca.pi]);R(c,a.name);c=S(h.g.ca.hp,[h.g.ca.Ci]);R(c,a.name)};
h.kb.zC=function(){var a={name:h.kb.names.My,sb:function(d){return!d.options.readOnly&&!h.je.Ih()},Ya:function(){return h.Hn()}};h.Lb.v.register(a);var c=S(h.g.ca.fp,[h.g.ca.Zg]);R(c,a.name);c=S(h.g.ca.fp,[h.g.ca.pi]);R(c,a.name);c=S(h.g.ca.fp,[h.g.ca.Ci]);R(c,a.name)};
h.kb.Kr=function(){var a={name:h.kb.names.kz,sb:function(d){return!d.options.readOnly&&!h.je.Ih()},Ya:function(d){h.fc();db(d,!1);return!0}};h.Lb.v.register(a);var c=S(h.g.ca.Mi,[h.g.ca.Zg]);R(c,a.name);c=S(h.g.ca.Mi,[h.g.ca.pi]);R(c,a.name);c=S(h.g.ca.Mi,[h.g.ca.Ci]);R(c,a.name)};
h.kb.Jr=function(){var a={name:h.kb.names.Xy,sb:function(d){return!h.je.Ih()&&!d.options.readOnly},Ya:function(d){h.fc();db(d,!0);return!0}};h.Lb.v.register(a);var c=S(h.g.ca.Mi,[h.g.ca.nm,h.g.ca.Zg]);R(c,a.name);c=S(h.g.ca.Mi,[h.g.ca.nm,h.g.ca.pi]);R(c,a.name);c=S(h.g.ca.Mi,[h.g.ca.nm,h.g.ca.Ci]);R(c,a.name);c=S(h.g.ca.pz,[h.g.ca.Zg]);R(c,a.name)};h.kb.rC=function(){h.kb.vC();h.kb.Ir();h.kb.oC();h.kb.pC();h.kb.zC();h.kb.Kr();h.kb.Jr()};h.kb.rC();h.g.s={};h.g.s.Da=function(a,c){return" "+a+","+c+" "};h.g.s.curve=function(a,c){return" "+a+c.join("")};h.g.s.moveTo=function(a,c){return" M "+a+","+c+" "};h.g.s.moveBy=function(a,c){return" m "+a+","+c+" "};h.g.s.lineTo=function(a,c){return" l "+a+","+c+" "};h.g.s.line=function(a){return" l"+a.join("")};h.g.s.W=function(a,c){return" "+a+" "+c+" "};h.g.s.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};h.i.Ve=function(){this.ke=0;this.Zy=3;this.ld=5;this.ht=8;this.rc=10;this.Ct=this.ld;this.Zj=15;this.Ji=5;this.Zo=8;this.Gy=15;this.Oo=4;this.Cy=12;this.Ex=16;this.Dx=this.Ns=this.Zj;this.ce=8;this.ez=this.Vj=15;this.yt=0;this.At=20;this.ix=4;this.hz=this.ld;this.iz=this.rc;this.kx=this.ld;this.jx=this.rc;this.Pl=!1;this.cz=15;this.dz=100;this.bz=15;this.Sj=24;this.Gx=14.5;this.Fx=this.Zj+11;this.Mx=2;this.Hx=this.Sj;this.xt=h.g.s.moveBy(0,0);this.py=12;this.qy=6;this.dh=11;this.Pf="normal";this.Of=
"sans-serif";this.vo=this.fm=-1;this.em=4;this.Ps=16;this.Kj=5;this.Tx="#fff";this.wo=!h.g.userAgent.Gd&&!h.g.userAgent.bh;this.Qs=this.Ps;this.Vx=this.Ux=this.Rs=!1;this.Xx=this.Kj;this.Lj=12;this.Wx="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.ll=String(Math.random()).substring(2);this.Vm="";this.fq=null;this.Hu="";this.Rp=null;this.zu="";this.pk=this.Kp=null;this.$l="#cc0a0a";this.im="#4286f4";this.bm=100;this.Ot=5;this.am=10;this.qx=2;this.tx=4;this.Do="#000000";this.gm=.2;this.wt={Oy:1,Di:2}};b=h.i.Ve.prototype;
b.Va=function(){this.Bi=this.Wq();this.Di=this.Xq();this.Hi=this.Zq();this.To=this.Yq();var a=this.ce,c=h.g.s.arc("a","0 0,0",a,h.g.s.Da(-a,a)),d=h.g.s.arc("a","0 0,0",a,h.g.s.Da(a,a));this.hm={width:a,height:a,Cr:c,In:d};a=this.ce;c=h.g.s.moveBy(0,a)+h.g.s.arc("a","0 0,1",a,h.g.s.Da(a,-a));d=h.g.s.arc("a","0 0,1",a,h.g.s.Da(a,a));var e=h.g.s.arc("a","0 0,1",a,h.g.s.Da(-a,-a)),f=h.g.s.arc("a","0 0,1",a,h.g.s.Da(-a,a));this.Wj={ks:c,gD:d,Jz:f,tp:e,GC:a}};
b.vl=function(a){this.eg={};var c=a.eg,d;for(d in c)this.eg[d]=Nc(c[d]);this.Of=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.Of;this.Pf=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.Pf;this.dh=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.dh;c=h.g.j.IB(this.dh+"pt",this.Pf,this.Of);this.fm=c.height;this.vo=c.Kd;this.$l=D(a,"cursorColour")||this.$l;this.im=D(a,"markerColour")||this.im;this.Do=D(a,"insertionMarkerColour")||this.Do;this.gm=Number(D(a,
"insertionMarkerOpacity"))||this.gm;this.Pl=null!=a.fs?a.fs:this.Pl};function gc(a,c){var d="auto_"+c;a.eg[d]||(a.eg[d]=Nc({colourPrimary:c}));return{style:a.eg[d],name:d}}function bc(a,c){return a.eg[c||""]||(c&&0==c.indexOf("auto_")?gc(a,c.substring(5)).style:Nc({colourPrimary:"#000000"}))}
function Nc(a){var c={};a&&h.g.object.Bg(c,a);a=h.g.Gn(c.colourPrimary||"#000");c.qh=a.Ik;c.colourSecondary?a=h.g.Gn(c.colourSecondary).Ik:(a=c.qh,a=h.g.hb.qp("#fff",a,.6)||a);c.Fm=a;c.colourTertiary?a=h.g.Gn(c.colourTertiary).Ik:(a=c.qh,a=h.g.hb.qp("#fff",a,.3)||a);c.Si=a;c.Be=c.hat||"";return c}b.H=function(){this.fq&&h.g.j.removeNode(this.fq);this.Rp&&h.g.j.removeNode(this.Rp);this.Kp&&h.g.j.removeNode(this.Kp);this.pk=null};
b.Wq=function(){var a=this.py,c=this.qy,d=h.g.s.line([h.g.s.Da(c,a/4),h.g.s.Da(2*-c,a/2),h.g.s.Da(c,a/4)]);return{height:a,width:c,path:d}};b.Zq=function(){var a=this.cz,c=this.dz,d=h.g.s.curve("c",[h.g.s.Da(30,-a),h.g.s.Da(70,-a),h.g.s.Da(c,0)]);return{height:a,width:c,path:d}};
b.Yq=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,m=h.g.s.Da(c,g*l);return h.g.s.curve("c",[h.g.s.Da(0,g*(l+2.5)),h.g.s.Da(-c,k*(l+.5)),h.g.s.Da(-c,g*l)])+h.g.s.curve("s",[h.g.s.Da(c,2.5*k),m])}var c=this.Zo,d=this.Zj,e=a(!0),f=a(!1);return{type:this.wt.Oy,width:c,height:d,Ad:f,fl:e}};b.Xq=function(){function a(k){return h.g.s.line([h.g.s.Da(k*e,d),h.g.s.Da(3*k,0),h.g.s.Da(k*e,-d)])}var c=this.Gy,d=this.Oo,e=(c-3)/2,f=a(1),g=a(-1);return{type:this.wt.Di,width:c,height:d,Hg:f,gw:g}};
function Qa(a,c){switch(c.type){case h.T.Jb:case h.T.Rc:return a.To;case h.T.Sc:case h.T.Kb:return a.Di;default:throw Error("Unknown connection type");}}
b.ib=function(a,c,d){d=this.mq(d);c="blockly-renderer-style-"+c;this.pk=document.getElementById(c);var e=d.join("\n");this.pk?this.pk.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.pk=d);a=h.g.j.L(h.g.F.Ks,{},a);c=h.g.j.L(h.g.F.Ss,{id:"blocklyEmbossFilter"+this.ll},a);h.g.j.L(h.g.F.Qx,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=h.g.j.L(h.g.F.Sx,{"in":"blur",surfaceScale:1,
specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);h.g.j.L(h.g.F.Rx,{x:-5E3,y:-1E4,z:2E4},d);h.g.j.L(h.g.F.uo,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);h.g.j.L(h.g.F.uo,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.Vm=c.id;this.fq=c;c=h.g.j.L(h.g.F.rt,{id:"blocklyDisabledPattern"+this.ll,patternUnits:"userSpaceOnUse",width:10,height:10},a);h.g.j.L(h.g.F.Sb,{width:10,height:10,fill:"#aaa"},c);h.g.j.L(h.g.F.Xe,
{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},c);this.Hu=c.id;this.Rp=c;h.i.Ac&&(a=h.g.j.L(h.g.F.Ss,{id:"blocklyDebugFilter"+this.ll,height:"160%",width:"180%",y:"-30%",x:"-40%"},a),c=h.g.j.L(h.g.F.Nx,{result:"outBlur"},a),h.g.j.L(h.g.F.Px,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c),h.g.j.L(h.g.F.Ox,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},a),h.g.j.L(h.g.F.uo,{"in":"outColor",in2:"outBlur",operator:"in",result:"outGlow"},a),this.zu=a.id,this.Kp=a)};
b.mq=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.Pf+" "+this.dh+"pt "+this.Of+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.Tx+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Of+";","font-weight: "+this.Pf+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.gm+
";","stroke: none;","}"]};h.i.m={NONE:0,qc:1,Us:2,Xs:4,Yo:8,ys:16,$s:32,Os:64,kd:128,Ys:256,zt:512,nx:1024,So:2048,No:4096,Iy:8192,qo:16384,Ho:32768,Go:65536,Wo:131072,Vo:262144,dt:524288,Xo:1048576,bp:2097152,jo:4194304,Zs:8388608};h.i.m.LE=h.i.m.Ho|h.i.m.Go;h.i.m.EF=h.i.m.Wo|h.i.m.Vo;h.i.m.jr=16777216;h.i.m.lb=function(){Object.prototype.hasOwnProperty.call(h.i.m,void 0)||(h.i.m[void 0]=h.i.m.jr,h.i.m.jr<<=1);return h.i.m[void 0]};h.i.m.Ee=function(a){return a.type&h.i.m.qc};h.i.m.Nh=function(a){return a.type&h.i.m.Us};
h.i.m.mj=function(a){return a.type&h.i.m.Xs};h.i.m.cd=function(a){return a.type&h.i.m.Yo};h.i.m.iH=function(a){return a.type&h.i.m.$s};h.i.m.vf=function(a){return a.type&h.i.m.kd};h.i.m.Ok=function(a){return a.type&h.i.m.Os};h.i.m.vg=function(a){return a.type&h.i.m.Ys};h.i.m.Oh=function(a){return a.type&h.i.m.zt};h.i.m.qj=function(a){return a.type&h.i.m.So};h.i.m.xg=function(a){return a.type&h.i.m.No};h.i.m.zB=function(a){return a.type&(h.i.m.So|h.i.m.No)};h.i.m.wg=function(a){return a.type&h.i.m.Go};
h.i.m.Av=function(a){return a.type&h.i.m.Vo};h.i.m.Pk=function(a){return a.type&h.i.m.Ho};h.i.m.lH=function(a){return a.type&h.i.m.Wo};h.i.m.gH=function(a){return a.type&h.i.m.qo};h.i.m.yv=function(a){return a.type&h.i.m.dt};h.i.m.nH=function(a){return a.type&h.i.m.Xo};h.i.m.uB=function(a){return a.type&h.i.m.ys};h.i.m.on=function(a){return a.type&h.i.m.bp};h.i.m.hn=function(a){return a.type&h.i.m.jo};h.i.m.Cv=function(a){return a.type&(h.i.m.bp|h.i.m.jo)};h.i.m.vB=function(a){return a.type&h.i.m.Zs};h.i.Tf=function(a){this.height=this.width=0;this.type=h.i.m.NONE;this.hg=this.na=0;this.o=a;this.yd=this.o.Vj};h.i.ua=function(a,c){h.i.ua.u.constructor.call(this,a);this.dc=c;this.shape=Qa(this.o,c);this.Mh=!!this.shape.isDynamic;this.type|=h.i.m.nx};h.g.object.U(h.i.ua,h.i.Tf);h.i.Qo=function(a,c){h.i.Qo.u.constructor.call(this,a,c);this.type|=h.i.m.Iy;this.height=this.Mh?0:this.shape.height;this.Cd=this.width=this.Mh?0:this.shape.width;this.Xc=this.o.Ji;this.jk=0};h.g.object.U(h.i.Qo,h.i.ua);
h.i.Uo=function(a,c){h.i.Uo.u.constructor.call(this,a,c);this.type|=h.i.m.So;this.height=this.shape.height;this.width=this.shape.width};h.g.object.U(h.i.Uo,h.i.ua);h.i.Po=function(a,c){h.i.Po.u.constructor.call(this,a,c);this.type|=h.i.m.No;this.height=this.shape.height;this.width=this.shape.width};h.g.object.U(h.i.Po,h.i.ua);h.i.Qj=function(a,c){h.i.Qj.u.constructor.call(this,a,c.connection);this.type|=h.i.m.kd;this.input=c;this.align=c.align;(this.jg=c.connection&&c.connection.va()?c.connection.va():null)?(a=B(this.jg),this.ik=a.width,this.Im=a.height):this.Im=this.ik=0;this.Xc=this.jk=0};h.g.object.U(h.i.Qj,h.i.ua);
h.i.Qf=function(a,c){h.i.Qf.u.constructor.call(this,a,c);this.type|=h.i.m.Ys;this.jg?(this.width=this.ik,this.height=this.Im):(this.height=this.o.Fx,this.width=this.o.Gx);this.Ti=this.Mh?this.shape.height(this.height):this.shape.height;this.ve=this.Mh?this.shape.width(this.height):this.shape.width;this.jg||(this.width+=this.ve*(this.Mh?2:1));this.Xc=this.Mh?this.shape.Xc(this.Ti):this.o.Ji;this.jk=this.Mh?this.shape.jk(this.ve):0};h.g.object.U(h.i.Qf,h.i.Qj);
h.i.$f=function(a,c){h.i.$f.u.constructor.call(this,a,c);this.type|=h.i.m.zt;this.height=this.jg?this.Im+this.o.yt:this.o.Hx;this.width=this.o.ez+this.shape.width};h.g.object.U(h.i.$f,h.i.Qj);h.i.dm=function(a,c){h.i.dm.u.constructor.call(this,a,c);this.type|=h.i.m.Os;this.height=this.jg?this.Im-this.o.Ji-this.o.ld:this.shape.height;this.width=this.shape.width+this.o.Mx;this.Xc=this.o.Ji;this.Ti=this.shape.height;this.ve=this.shape.width};h.g.object.U(h.i.dm,h.i.Qj);h.i.Eo=function(a,c){h.i.Eo.u.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=h.i.m.Xs;a=c.TG();this.height=a.height;this.width=a.width};h.g.object.U(h.i.Eo,h.i.Tf);h.i.Fo=function(a){h.i.Fo.u.constructor.call(this,a);this.type|=h.i.m.dt;this.height=this.o.Bi.height;this.width=this.o.Bi.width};h.g.object.U(h.i.Fo,h.i.Tf);
h.i.jd=function(a,c){h.i.jd.u.constructor.call(this,a);this.$i=c;this.vd=c.Jj;this.GA=c.Vu();this.type|=h.i.m.qc;a=this.$i.qf();this.height=a.height;this.width=a.width};h.g.object.U(h.i.jd,h.i.Tf);h.i.Ao=function(a){h.i.Ao.u.constructor.call(this,a);this.type|=h.i.m.Us;this.height=this.o.Hi.height;this.width=this.o.Hi.width;this.Oi=this.height};h.g.object.U(h.i.Ao,h.i.Tf);
h.i.Ii=function(a,c){h.i.Ii.u.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.m.Wo:h.i.m.Ho)|h.i.m.qo;this.width=this.height=this.o.ke};h.g.object.U(h.i.Ii,h.i.Tf);h.i.lm=function(a,c){h.i.lm.u.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.m.Vo:h.i.m.Go)|h.i.m.qo;this.width=this.o.ce;this.height=this.o.ce/2};h.g.object.U(h.i.lm,h.i.Tf);h.i.We=function(a,c){h.i.We.u.constructor.call(this,a);this.type=this.type|h.i.m.Yo|h.i.m.$s;this.width=c;this.height=this.o.bz};h.g.object.U(h.i.We,h.i.Tf);h.i.ih=function(a){this.type=h.i.m.Xo;this.elements=[];this.na=this.zb=this.hd=this.minWidth=this.minHeight=this.width=this.height=0;this.jv=this.ij=this.Eq=this.Fb=this.qg=!1;this.o=a;this.yd=this.o.Vj;this.align=null};h.i.ih.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function W(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.i.m.vf(d))return d;return null}h.i.ih.prototype.Xn=function(){return!0};h.i.ih.prototype.wk=function(){return!0};
h.i.mh=function(a){h.i.mh.u.constructor.call(this,a);this.type|=h.i.m.bp;this.Oi=this.ff=0;this.kB=!1;this.connection=null};h.g.object.U(h.i.mh,h.i.ih);h.i.mh.prototype.Fq=function(a){var c=(a.Be?"cap"===a.Be:this.o.Pl)&&!a.O&&!a.V,d=a.V&&a.V.va();return!!a.O||c||(d?u(d)==a:!1)};
h.i.mh.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.m.cd(f)||(h.i.m.Nh(f)?d=Math.max(d,f.Oi):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.ff=this.Oi=d;this.hd=this.width};h.i.mh.prototype.Xn=function(){return!1};h.i.mh.prototype.wk=function(){return!1};h.i.Yg=function(a){h.i.Yg.u.constructor.call(this,a);this.type|=h.i.m.jo;this.kv=!1;this.connection=null;this.Kd=this.rk=0};
h.g.object.U(h.i.Yg,h.i.ih);h.i.Yg.prototype.Fq=function(a){return!!a.O||!!u(a)};h.i.Yg.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.m.cd(f)||(h.i.m.xg(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.rk=d;this.hd=this.width};h.i.Yg.prototype.Xn=function(){return!1};h.i.Yg.prototype.wk=function(){return!1};
h.i.pm=function(a,c,d){h.i.pm.u.constructor.call(this,a);this.type=this.type|h.i.m.Yo|h.i.m.ys;this.width=d;this.height=c;this.Qu=!1;this.hd=0;this.elements=[new h.i.We(this.o,d)]};h.g.object.U(h.i.pm,h.i.ih);h.i.pm.prototype.measure=function(){};h.i.Ai=function(a){h.i.Ai.u.constructor.call(this,a);this.type|=h.i.m.Zs;this.nu=0};h.g.object.U(h.i.Ai,h.i.ih);
h.i.Ai.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,h.i.m.vf(d)&&(h.i.m.Oh(d)?a+=d.ik:h.i.m.Ok(d)&&0!=d.ik&&(a+=d.ik-d.ve)),h.i.m.cd(d)||(this.height=Math.max(this.height,d.height));this.nu=a;this.hd=this.width+a};h.i.Ai.prototype.wk=function(){return!this.qg&&!this.Fb};h.i.Jd=function(a,c){this.Ba=c;this.jb=a;this.o=this.jb.ba();this.O=c.O?new h.i.Qo(this.o,c.O):null;this.nj=Ka(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.wd=c.wd();this.K=c.K;this.Qg=this.width=this.Tg=this.height=0;this.rows=[];this.wv=[];this.pv=[];this.yb=new h.i.mh(this.o);this.gb=new h.i.Yg(this.o);this.Wn=this.Cd=0};b=h.i.Jd.prototype;
b.measure=function(){var a=!!this.Ba.V,c=(this.Ba.Be?"cap"===this.Ba.Be:this.o.Pl)&&!this.O&&!a;this.yb.Fq(this.Ba)?this.yb.elements.push(new h.i.Ii(this.o)):this.yb.elements.push(new h.i.lm(this.o));c?(a=new h.i.Ao(this.o),this.yb.elements.push(a),this.yb.ff=a.Oi):a&&(this.yb.kB=!0,this.yb.connection=new h.i.Uo(this.o,this.Ba.V),this.yb.elements.push(this.yb.connection));this.Ba.P.length&&this.Ba.P[0].type==h.Ia.Tc&&!this.Ba.isCollapsed()?this.yb.minHeight=this.o.iz:this.yb.minHeight=this.o.hz;this.yb.elements.push(new h.i.Ii(this.o,
"right"));this.rows.push(this.yb);a=new h.i.Ai(this.o);this.wv.push(a);var d=K(this.Ba);if(d.length){c=0;for(var e;e=d[c];c++){var f=new h.i.Eo(this.o,e);this.isCollapsed&&e.AG?this.pv.push(f):a.elements.push(f)}}e=null;for(c=0;d=this.Ba.P[c];c++)if(d.isVisible()){!e||d.type!=h.Ia.Tc&&e.type!=h.Ia.Tc&&(d.type!=h.Ia.oe&&d.type!=h.Ia.ge||this.nj)||(this.rows.push(a),a=new h.i.Ai(this.o),this.wv.push(a));for(e=0;f=d.Ua[e];e++)a.elements.push(new h.i.jd(this.o,f,d));this.Wt(d,a);e=d}this.isCollapsed&&
(a.jv=!0,a.elements.push(new h.i.Fo(this.o)));(a.elements.length||a.ij)&&this.rows.push(a);this.Er();this.rows.push(this.gb);this.Vt();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)if(this.rows.push(a[c]),c!=a.length-1){d=this.rows;e=d.push;f=a[c];var g=a[c+1],k=new h.i.pm(this.o,this.cv(f,g),this.width-this.Cd);f.Fb&&(k.Qu=!0);g.Fb&&(k.sH=!0);e.call(d,k)}for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Fb&&(a=Math.max(a,f.width-W(f).width)),d=Math.max(d,f.hd);this.Qg=a;this.width=
c;for(e=0;f=this.rows[e];e++)f.Fb&&(f.Qg=this.Qg);this.Tg=Math.max(c,d);this.O&&(this.Cd=this.O.width,this.width+=this.O.width,this.Tg+=this.O.width);this.jp();this.Nu()};
b.Er=function(){this.gb.kv=!!this.Ba.X;this.gb.minHeight=this.Ba.P.length&&this.Ba.P[this.Ba.P.length-1].type==h.Ia.Tc?this.o.jx:this.o.kx;this.gb.Fq(this.Ba)?this.gb.elements.push(new h.i.Ii(this.o)):this.gb.elements.push(new h.i.lm(this.o));this.gb.kv&&(this.gb.connection=new h.i.Po(this.o,this.Ba.X),this.gb.elements.push(this.gb.connection));this.gb.elements.push(new h.i.Ii(this.o,"right"))};
b.Wt=function(a,c){this.nj&&a.type==h.Ia.oe?(c.elements.push(new h.i.Qf(this.o,a)),c.Eq=!0):a.type==h.Ia.Tc?(c.elements.push(new h.i.$f(this.o,a)),c.Fb=!0):a.type==h.Ia.oe?(c.elements.push(new h.i.dm(this.o,a)),c.qg=!0):a.type==h.Ia.ge&&(c.minHeight=Math.max(c.minHeight,a.$()&&a.$().Ja?this.o.Dx:this.o.Ns),c.ij=!0);null==c.align&&(c.align=a.align)};
b.Vt=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.Xn()&&c.elements.push(new h.i.We(this.o,this.zh(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new h.i.We(this.o,this.zh(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.wk()&&c.elements.push(new h.i.We(this.o,this.zh(d[d.length-1],null)))}}};
b.zh=function(a,c){if(!a&&c&&h.i.m.Oh(c))return this.o.At;if(a&&h.i.m.vf(a)&&!c){if(h.i.m.Ok(a))return this.o.ke;if(h.i.m.vg(a))return this.o.rc;if(h.i.m.Oh(a))return this.o.ke}return a&&h.i.m.Pk(a)&&c&&(h.i.m.qj(c)||h.i.m.xg(c))?c.yd:a&&h.i.m.wg(a)&&c&&(h.i.m.qj(c)||h.i.m.xg(c))?c.yd-this.o.ce:this.o.ld};b.jp=function(){for(var a=0,c;c=this.rows[a];a++)if(c.Fb)Oc(this,c);else{var d=this.Ek(c)-c.width;0<d&&Pc(c,d);h.i.m.Cv(c)&&(c.hd=c.width)}};b.Ek=function(){return this.width-this.Cd};
function Pc(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(h.i.m.cd(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(h.i.m.cd(f)){e=f;break a}e=null}if(a.qg||a.Fb)a.hd+=c;a.align==h.bb.Dd.Id?e.width+=c:a.align==h.bb.Dd.Wl?(d.width+=c/2,e.width+=c/2):a.align==h.bb.Dd.Ze?d.width+=c:e.width+=c;a.width+=c}
function Oc(a,c){var d=W(c),e=c.width-d.width,f=a.Qg;e=f-e;0<e&&Pc(c,e);e=c.width;f=a.Ek(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.hd=Math.max(c.width,a.Qg+c.nu)}b.cv=function(){return this.o.ld};b.Uu=function(a,c){return h.i.m.cd(c)?a.zb+c.height/2:h.i.m.hn(a)?(a=a.zb+a.height-a.rk,h.i.m.xg(c)?a+c.height/2:a-c.height/2):h.i.m.on(a)?h.i.m.Nh(c)?a.ff-c.height/2:a.ff+c.height/2:a.zb+a.height/2};
function Qc(a,c){for(var d=c.na,e=0,f;f=c.elements[e];e++)h.i.m.cd(f)&&(f.height=c.height),f.na=d,f.hg=a.Uu(c,f),d+=f.width}b.Nu=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.zb=c,e.na=this.Cd,c+=e.height,a=Math.max(a,e.hd),Qc(this,e);this.O&&this.Ba.X&&this.Ba.X.isConnected()&&(a=Math.max(a,B(this.Ba.X.va()).width));this.Tg=a+this.Cd;this.height=c;this.Wn=this.yb.ff;this.gb.Kd=c-this.gb.rk};h.i.Ac=function(a){this.Od=[];this.Me=null;this.o=a};h.i.Ac.te={IC:!0,yA:!0,rows:!0,zA:!0,qu:!0,Iz:!0,mu:!0,Ea:!0};
function Rc(a,c,d){if(h.i.Ac.te.zA){var e=c.na;d&&(e=-(e+c.width));d=c.hg-c.height/2;a.Od.push(h.g.j.L(h.g.F.Sb,{"class":"rowRenderingRect blockRenderDebug",x:e,y:d,width:c.width,height:c.height,stroke:"black",fill:"none","stroke-width":"1px"},a.Me));h.i.m.Ee(c)&&c.$i instanceof h.Pc&&a.Od.push(h.g.j.L(h.g.F.Sb,{"class":"rowRenderingRect blockRenderDebug",x:e,y:d+a.o.vo,width:c.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},a.Me))}h.i.m.vf(c)&&h.i.Ac.te.qu&&Sc(a,c.dc)}
function Sc(a,c){if(h.i.Ac.te.qu){if(c.type==h.T.Jb){var d=4;var e="magenta";var f="none"}else c.type==h.T.Rc?(d=2,f=e="magenta"):c.type==h.T.Kb?(d=4,e="goldenrod",f="none"):c.type==h.T.Sc&&(d=2,f=e="goldenrod");a.Od.push(h.g.j.L(h.g.F.Ds,{"class":"blockRenderDebug",cx:c.zf.x,cy:c.zf.y,r:d,fill:f,stroke:e},a.Me))}}
function Tc(a,c,d){for(var e=0,f;f=a.Od[e];e++)h.g.j.removeNode(f);a.Od=[];a.Me=c.Ca();a.iC="#"+Math.floor(16777215*Math.random()).toString(16);f=e=0;for(var g;g=d.rows[f];f++){if(h.i.m.uB(g)){var k=e;if(h.i.Ac.te.IC){var l=Math.abs(g.height),m=0>g.height;m&&(k-=l);a.Od.push(h.g.j.L(h.g.F.Sb,{"class":"rowSpacerRect blockRenderDebug",x:d.K?-(g.na+g.width):g.na,y:k,width:g.width,height:l,stroke:m?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},a.Me))}}else{m=a;l=g;k=d.K;for(var n=
0,r=l.elements.length;n<r;n++){var q=l.elements[n];if(q)if(h.i.m.cd(q)){if(h.i.Ac.te.yA){var t=Math.abs(q.width),G=0>q.width,N=G?q.na-t:q.na;k&&(N=-(N+t));m.Od.push(h.g.j.L(h.g.F.Sb,{"class":"elemSpacerRect blockRenderDebug",x:N,y:q.hg-q.height/2,width:t,height:q.height,stroke:"pink",fill:G?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},m.Me))}}else Rc(m,q,k);else console.warn("A row has an undefined or null element.",l,q)}h.i.Ac.te.rows&&(m.Od.push(h.g.j.L(h.g.F.Sb,{"class":"elemRenderingRect blockRenderDebug",
x:k?-(l.na+l.width):l.na,y:l.zb,width:l.width,height:l.height,stroke:"red",fill:"none","stroke-width":"1px"},m.Me)),h.i.m.Cv(l)||h.i.Ac.te.mu&&m.Od.push(h.g.j.L(h.g.F.Sb,{"class":"connectedBlockWidth blockRenderDebug",x:k?-(l.na+l.hd):l.na,y:l.zb,width:l.hd,height:l.height,stroke:m.iC,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},m.Me)))}e+=g.height}c.V&&Sc(a,c.V);c.X&&Sc(a,c.X);c.O&&Sc(a,c.O);d.HC&&Rc(a,d.HC,d.K);h.i.Ac.te.Iz&&(e=d.K?-d.width:0,a.Od.push(h.g.j.L(h.g.F.Sb,{"class":"blockBoundingBox blockRenderDebug",
x:e,y:0,width:d.width,height:d.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},a.Me)),h.i.Ac.te.mu&&(e=d.K?-d.Tg:0,a.Od.push(h.g.j.L(h.g.F.Sb,{"class":"blockRenderDebug",x:e,y:0,width:d.Tg,height:d.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},a.Me))));Uc(a,c.cb.tb)}function Uc(a,c){h.i.Ac.te.Ea&&(c.setAttribute("filter","url(#"+a.o.zu+")"),setTimeout(function(){c.setAttribute("filter","")},100))};h.i.pc=function(a,c){this.Ba=a;this.ma=c;a.$a();this.gn=this.Fa="";this.o=c.jb.ba()};b=h.i.pc.prototype;b.draw=function(){Vc(this);Wc(this);Xc(this);this.Ba.cb.Wr(this.Fa+"\n"+this.gn);this.ma.K&&this.Ba.cb.iq();h.i.Nl&&Tc(this.Ba.Pr,this.Ba,this.ma);Yc(this)};function Yc(a){a.Ba.height=a.ma.height;a.Ba.width=a.ma.Tg}function Vc(a){for(var c=0,d;d=a.ma.pv[c];c++)d.icon.oB.setAttribute("display","none")}
function Wc(a){a.cq();for(var c=1;c<a.ma.rows.length-1;c++){var d=a.ma.rows[c];d.jv?a.vk(d):d.Fb?a.bq(d):d.qg?a.eq(d):a.Lu(d)}a.Zp();a.aq()}
b.cq=function(){var a=this.ma.yb,c=a.elements,d=this.ma.yb;if(d.connection){var e=d.na+d.yd;P(d.connection.dc,this.ma.K?-e:e,0)}this.Fa+=h.g.s.moveBy(a.na,this.ma.Wn);for(d=0;e=c[d];d++)h.i.m.wg(e)?this.Fa+=this.o.Wj.ks:h.i.m.Av(e)?this.Fa+=this.o.Wj.gD:h.i.m.qj(e)?this.Fa+=e.shape.Hg:h.i.m.Nh(e)?this.Fa+=this.o.Hi.path:h.i.m.cd(e)&&(this.Fa+=h.g.s.W("h",e.width));this.Fa+=h.g.s.W("v",a.height)};b.vk=function(a){this.Fa+=this.o.Bi.path+h.g.s.W("v",a.height-this.o.Bi.height)};
b.eq=function(a){var c=W(a);this.nw(a);var d="function"==typeof c.shape.Ad?c.shape.Ad(c.height):c.shape.Ad;this.Fa+=h.g.s.W("H",c.na+c.width)+d+h.g.s.W("v",a.height-c.Ti)};b.bq=function(a){var c=W(a);this.Fa+=h.g.s.W("H",c.na+c.yd+c.shape.width)+(c.shape.gw+h.g.s.W("h",-(c.yd-this.o.hm.width))+this.o.hm.Cr)+h.g.s.W("v",a.height-2*this.o.hm.height)+this.o.hm.In+h.g.s.W("H",a.na+a.width);this.qw(a)};b.Lu=function(a){this.Fa+=h.g.s.W("V",a.zb+a.height)};
b.Zp=function(){var a=this.ma.gb,c=a.elements;this.pw();for(var d=0,e="",f=c.length-1,g;g=c[f];f--)h.i.m.xg(g)?e+=g.shape.gw:h.i.m.Pk(g)?e+=h.g.s.W("H",a.na):h.i.m.wg(g)?e+=this.o.Wj.tp:h.i.m.Av(g)?(e+=this.o.Wj.Jz,d=this.o.Wj.GC):h.i.m.cd(g)&&(e+=h.g.s.W("h",-1*g.width));this.Fa+=h.g.s.W("V",a.Kd-d);this.Fa+=e};
b.aq=function(){var a=this.ma.O;if(this.ma.O){var c=this.ma.Cd+this.ma.O.jk;P(this.Ba.O,this.ma.K?-c:c,this.ma.O.Xc)}a&&(c=a.Xc+a.height,a="function"==typeof a.shape.fl?a.shape.fl(a.height):a.shape.fl,this.Fa+=h.g.s.W("V",c)+a);this.Fa+="z"};
function Xc(a){for(var c=0,d;d=a.ma.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(h.i.m.vg(f))a.$p(f);else if(h.i.m.mj(f)||h.i.m.Ee(f)){var g=a;if(h.i.m.Ee(f))var k=f.$i.Ca();else h.i.m.mj(f)&&(k=f.icon.oB);var l=f.hg-f.height/2,m=f.na,n="";g.ma.K&&(m=-(m+f.width),f.GA&&(m+=f.width,n="scale(-1 1)"));h.i.m.mj(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),f.icon.bA()):k.setAttribute("transform","translate("+m+","+l+")"+n);g.ma.wd&&k.setAttribute("display",
"none")}}b.$p=function(a){var c=a.width,d=a.height,e=a.Xc,f=a.Ti+e;this.gn+=h.g.s.moveTo(a.na+a.ve,a.hg-d/2)+h.g.s.W("v",e)+a.shape.Ad+h.g.s.W("v",d-f)+h.g.s.W("h",c-a.ve)+h.g.s.W("v",-d)+"z";this.ow(a)};b.ow=function(a){var c=a.hg-a.height/2;if(a.dc){var d=a.na+a.ve+a.jk;this.ma.K&&(d*=-1);P(a.dc,d,c+a.Xc)}};b.qw=function(a){var c=W(a);if(c.dc){var d=a.na+a.Qg+c.yd;this.ma.K&&(d*=-1);P(c.dc,d,a.zb)}};b.nw=function(a){var c=W(a);if(c.dc){var d=a.na+a.width;this.ma.K&&(d*=-1);P(c.dc,d,a.zb)}};
b.pw=function(){var a=this.ma.gb;if(a.connection){var c=a.connection,d=c.na;P(c.dc,this.ma.K?-d:d,a.Kd)}};h.h.Rf=function(a,c,d,e){var f=a?a.A.id:void 0;e&&e.lb()==h.D.types.Cc&&(f=e.za.id);h.h.Rf.u.constructor.call(this,f);this.Xa=a?a.id:null;this.Yv=d;this.Uv=e;this.De=c};h.g.object.U(h.h.Rf,h.h.ne);h.h.Rf.prototype.type=h.h.Jo;h.h.Rf.prototype.qa=function(){var a=h.h.Rf.u.qa.call(this);a.isCursor=this.De;a.blockId=this.Xa;a.oldNode=this.Yv;a.newNode=this.Uv;return a};h.h.Rf.prototype.aa=function(a){h.h.Rf.u.aa.call(this,a);this.De=a.isCursor;this.Xa=a.blockId;this.Yv=a.oldNode;this.Uv=a.newNode};
h.v.register(h.v.N.Ab,h.h.Jo,h.h.Rf);h.i.Sf=function(a,c,d){this.B=a;this.cr=d;this.dl=null;this.o=c;this.Vi=null;a=this.De()?this.o.$l:this.o.im;this.qd=d.hb||a};h.i.Sf.sx="blocklyCursor";h.i.Sf.yy="blocklyMarker";h.i.Sf.by=.75;b=h.i.Sf.prototype;b.Ca=function(){return this.pa};b.Fk=function(){return this.cr};b.De=function(){return"cursor"==this.cr.type};
b.ib=function(){var a=this.De()?h.i.Sf.sx:h.i.Sf.yy;this.pa=h.g.j.L(h.g.F.Qc,{"class":a},null);this.yf=h.g.j.L(h.g.F.Qc,{width:this.o.bm,height:this.o.Ot},this.pa);this.Ag=h.g.j.L(h.g.F.Sb,{width:this.o.bm,height:this.o.Ot,style:"display: none"},this.yf);this.Sh=h.g.j.L(h.g.F.Sb,{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.yf);this.Rh=h.g.j.L(h.g.F.Xe,{transform:"",style:"display: none"},this.yf);this.xf=h.g.j.L(h.g.F.Xe,{transform:"",style:"display: none",fill:"none",
"stroke-width":this.o.tx},this.yf);this.De()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.qd+";transparent;transparent;",repeatCount:"indefinite"},h.g.j.L(h.g.F.ho,a,this.Ag),h.g.j.L(h.g.F.ho,a,this.Rh),a.attributeName="stroke",h.g.j.L(h.g.F.ho,a,this.xf));return this.pa};function Zc(a,c){a.De()?(a.dl&&a.dl.Bf(null),c.Bf(a.Ca())):(a.dl&&a.dl.Ng(null),c.Ng(a.Ca()));a.dl=c}
b.draw=function(a,c){if(c){this.o=this.B.jb.ba();var d=this.De()?this.o.$l:this.o.im;this.qd=this.cr.hb||d;this.Ag.setAttribute("fill",this.qd);this.Sh.setAttribute("stroke",this.qd);this.Rh.setAttribute("fill",this.qd);this.xf.setAttribute("stroke",this.qd);this.De()&&(d=this.qd+";transparent;transparent;",this.Ag.firstChild.setAttribute("values",d),this.Rh.firstChild.setAttribute("values",d),this.xf.firstChild.setAttribute("values",d));d=c.za.type;if(c.lb()==h.D.types.Ib)$c(this,c);else if(c.lb()==
h.D.types.hh)$c(this,c);else if(d==h.T.Jb){var e=c.za;d=e.$();var f=e.zf.x,g=e.zf.y;e=h.g.s.moveTo(0,0)+Qa(this.o,e).Ad;this.Rh.setAttribute("d",e);this.Rh.setAttribute("transform","translate("+f+","+g+")"+(this.B.K?" scale(-1 1)":""));this.Vi=this.Rh;Zc(this,d);ad(this)}else if(d==h.T.Kb)g=c.za,d=g.$(),f=0,g=g.zf.y,e=B(d).width,this.B.K&&(f=-e),bd(this,f,g,e),Zc(this,d),ad(this);else if(c.lb()==h.D.types.Xf)$c(this,c);else if(c.lb()==h.D.types.qc)d=c.za,f=d.qf().width,g=d.qf().height,cd(this,0,0,
f,g),Zc(this,d),ad(this);else if(c.lb()==h.D.types.Cc)f=c.Yw,d=f.x,f=f.y,this.B.K&&(d-=this.o.bm),bd(this,d,f,this.o.bm),Zc(this,this.B),ad(this);else if(c.lb()==h.D.types.kh){d=c.za;g=B(d);f=g.width+this.o.am;g=g.height+this.o.am;var k=e=-this.o.am/2,l=-this.o.am/2;this.B.K&&(k=-(f+e));cd(this,k,l,f,g);Zc(this,d);ad(this)}d=c.$();a=new (h.h.get(h.h.Jo))(d,this.De(),a,c);h.h.Ha(a);a=this.Vi.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.rb()};
function $c(a,c){c=c.$();var d=c.width,e=c.height,f=e*h.i.Sf.by,g=a.o.qx;if(c.V){var k=Qa(a.o,c.V);e=k;d=h.g.s.moveBy(-g,f)+h.g.s.W("V",-g)+h.g.s.W("H",a.o.Vj)+e.Hg+h.g.s.W("H",d+2*g)+h.g.s.W("V",f);a.xf.setAttribute("d",d)}else c.O?(f=k=Qa(a.o,c.O),d=h.g.s.moveBy(d,0)+h.g.s.W("h",-(d-f.width))+h.g.s.W("v",a.o.Ji)+f.Ad+h.g.s.W("V",e)+h.g.s.W("H",d),a.xf.setAttribute("d",d)):(d=h.g.s.moveBy(-g,f)+h.g.s.W("V",-g)+h.g.s.W("H",d+2*g)+h.g.s.W("V",f),a.xf.setAttribute("d",d));a.B.K&&a.Ak(a.xf);a.Vi=a.xf;
Zc(a,c);ad(a)}function ad(a){a.rb();a.Vi.style.display=""}function bd(a,c,d,e){a.Ag.setAttribute("x",c);a.Ag.setAttribute("y",d);a.Ag.setAttribute("width",e);a.Vi=a.Ag}function cd(a,c,d,e,f){a.Sh.setAttribute("x",c);a.Sh.setAttribute("y",d);a.Sh.setAttribute("width",e);a.Sh.setAttribute("height",f);a.Vi=a.Sh}b.Ak=function(a){a.setAttribute("transform","scale(-1 1)")};b.rb=function(){this.Ag.style.display="none";this.Sh.style.display="none";this.Rh.style.display="none";this.xf.style.display="none"};
b.H=function(){this.pa&&h.g.j.removeNode(this.pa)};h.i.Ye=function(a,c,d){this.bb=d;this.Le=a;this.tb=h.g.j.L(h.g.F.Xe,{"class":"blocklyPath"},this.Le);this.style=c;this.$q=this.qk=null};b=h.i.Ye.prototype;b.Wr=function(a){this.tb.setAttribute("d",a)};b.iq=function(){this.tb.setAttribute("transform","scale(-1 1)")};b.Bf=function(a){a?(this.Le.appendChild(a),this.qk=a):this.qk=null};b.Ng=function(a){a?(this.qk?this.Le.insertBefore(a,this.qk):this.Le.appendChild(a),this.$q=a):this.$q=null};
b.Ub=function(a){this.tb.setAttribute("stroke",this.style.Si);this.tb.setAttribute("fill",this.style.qh);this.Qw(a.Ja);this.os(!a.isEnabled()||Hb(a))};b.ci=function(a){this.style=a};function J(a,c,d){d?h.g.j.Bb(a.Le,c):h.g.j.Kc(a.Le,c)}b.Ow=function(a){a?this.tb.setAttribute("filter","url(#"+this.bb.Vm+")"):this.tb.setAttribute("filter","none")};b.Qw=function(a){a&&(this.tb.setAttribute("stroke","none"),this.tb.setAttribute("fill",this.style.Fm))};
b.os=function(a){J(this,"blocklyDisabled",a);a&&this.tb.setAttribute("fill","url(#"+this.bb.Hu+")")};function Sb(a,c){J(a,"blocklySelected",c)};h.FE=function(){};h.i.$e=function(a){this.name=a;this.zr=this.o=null};b=h.i.$e.prototype;b.Pd=function(){return this.name+"-renderer"};b.Va=function(a,c){this.o=this.Vq();c&&(this.zr=c,h.g.object.Bg(this.o,c));this.o.vl(a);this.o.Va()};b.ib=function(a,c){this.o.ib(a,this.name+"-"+c.name,"."+this.Pd()+"."+c.Pd())};b.Hr=function(a,c){var d=this.ba();d.H();this.o=this.Vq();this.zr&&h.g.object.Bg(this.o,this.zr);this.o.ll=d.ll;this.o.vl(c);this.o.Va();this.ib(a,c)};b.H=function(){this.o&&this.o.H()};b.Vq=function(){return new h.i.Ve};
b.Lv=function(a){return new h.i.Jd(this,a)};b.Jv=function(a,c){return new h.i.pc(a,c)};b.Kv=function(a,c){return new h.i.Ye(a,c,this.o)};b.ba=function(){return this.o};b.Ea=function(a){if(h.i.Nl&&!a.Pr){if(!h.i.Ac)throw Error("Missing require for Blockly.blockRendering.Debug");var c=new h.i.Ac(this.ba());a.Pr=c}c=this.Lv(a);c.measure();this.Jv(a,c).draw()};h.Z={};h.Z.Ve=function(){h.Z.Ve.u.constructor.call(this);this.wo=!1;this.Rb=1;this.zy=30;this.yt=-this.Oo/2};h.g.object.U(h.Z.Ve,h.i.Ve);h.Z.Ve.prototype.mq=function(a){return h.Z.Ve.u.mq.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.gm+";","stroke: none;","}"])};h.Z.Ws=function(a){this.ma=a;this.Kk=this.ea="";this.Tb=this.ma.K;a=a.jb;this.o=a.ba();this.Zc=a.Zc;this.Hc=this.Zc.OFFSET;this.yr=this.Zc.Jy;this.lj=this.Zc.oy;this.kl=this.Zc.To;this.TB=this.Zc.Di;this.XC=this.Zc.Hi;this.Ev=this.Zc.Bi};h.Z.Ws.prototype.vk=function(a){this.ma.K&&(this.ea+=this.Ev.Hg+h.g.s.W("v",a.height-this.Ev.height-this.Hc))};
function dd(a,c){var d=c.na+c.width-a.Hc;c.Qu&&(a.ea+=h.g.s.W("H",d));a.Tb&&(a.ea+=h.g.s.W("H",d),c.height>a.Hc&&(a.ea+=h.g.s.W("V",c.zb+c.height-a.Hc)))};h.Z.Qf=function(a,c){h.Z.Qf.u.constructor.call(this,a,c);this.jg&&(this.width+=this.o.Rb,this.height+=this.o.Rb)};h.g.object.U(h.Z.Qf,h.i.Qf);h.Z.$f=function(a,c){h.Z.$f.u.constructor.call(this,a,c);this.jg&&(this.height+=this.o.Rb)};h.g.object.U(h.Z.$f,h.i.$f);h.Z.Jd=function(a,c){h.Z.Jd.u.constructor.call(this,a,c)};h.g.object.U(h.Z.Jd,h.i.Jd);b=h.Z.Jd.prototype;b.Er=function(){h.Z.Jd.u.Er.call(this);this.Ba.P.length&&this.Ba.P[this.Ba.P.length-1].type==h.Ia.Tc||(this.gb.minHeight=this.o.ld-this.o.Rb)};
b.Wt=function(a,c){this.nj&&a.type==h.Ia.oe?(c.elements.push(new h.Z.Qf(this.o,a)),c.Eq=!0):a.type==h.Ia.Tc?(c.elements.push(new h.Z.$f(this.o,a)),c.Fb=!0):a.type==h.Ia.oe?(c.elements.push(new h.i.dm(this.o,a)),c.qg=!0):a.type==h.Ia.ge&&(c.minHeight=Math.max(c.minHeight,this.o.Ns),c.ij=!0);this.nj||null!=c.align||(c.align=a.align)};
b.Vt=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.qg&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.Xn()&&d.elements.push(new h.i.We(this.o,this.zh(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var g=this.zh(e[f],e[f+1]);d.elements.push(new h.i.We(this.o,g))}d.elements.push(e[e.length-1]);d.wk()&&(g=this.zh(e[e.length-1],null),a&&d.ij&&(g+=this.o.Zo),d.elements.push(new h.i.We(this.o,g)))}}};
b.zh=function(a,c){if(!a)return c&&h.i.m.Ee(c)&&c.vd?this.o.ld:c&&h.i.m.vg(c)?this.o.ht:c&&h.i.m.Oh(c)?this.o.At:this.o.rc;if(!h.i.m.vf(a)&&(!c||h.i.m.Oh(c)))return h.i.m.Ee(a)&&a.vd?this.o.ld:h.i.m.mj(a)?2*this.o.rc+1:h.i.m.Nh(a)?this.o.ke:h.i.m.zB(a)?this.o.rc:h.i.m.wg(a)?this.o.Cy:h.i.m.yv(a)?this.o.ke:this.o.rc;if(h.i.m.vf(a)&&!c){if(h.i.m.Ok(a))return this.o.ke;if(h.i.m.vg(a))return this.o.rc;if(h.i.m.Oh(a))return this.o.ke}if(!h.i.m.vf(a)&&c&&h.i.m.vf(c)){if(h.i.m.Ee(a)&&a.vd){if(h.i.m.vg(c)||
h.i.m.Ok(c))return this.o.Zy}else{if(h.i.m.vg(c)||h.i.m.Ok(c))return this.o.ht;if(h.i.m.Oh(c))return this.o.rc}return this.o.rc-1}if(h.i.m.mj(a)&&c&&!h.i.m.vf(c))return this.o.rc;if(h.i.m.vg(a)&&c&&h.i.m.Ee(c))return c.vd?this.o.ld:this.o.rc;if(h.i.m.Pk(a)&&c){if(h.i.m.Nh(c))return this.o.ke;if(h.i.m.qj(c))return c.yd;if(h.i.m.xg(c))return a=(this.K?1:-1)*this.o.Rb/2,c.yd+a}if(h.i.m.wg(a)&&c){if(h.i.m.qj(c))return c.yd-this.o.ce;if(h.i.m.xg(c))return a=(this.K?1:-1)*this.o.Rb/2,c.yd-this.o.ce+a}return h.i.m.Ee(a)&&
c&&h.i.m.Ee(c)&&a.vd==c.vd||c&&h.i.m.yv(c)?this.o.rc:this.o.ld};b.cv=function(a,c){return h.i.m.on(a)&&h.i.m.hn(c)?this.o.Ex:h.i.m.on(a)||h.i.m.hn(c)?this.o.ke:a.qg&&c.qg?this.o.rc:!a.Fb&&c.Fb?this.o.ix:a.Fb&&c.Fb||!a.Fb&&c.ij||a.ij?this.o.rc:this.o.ld};
b.Uu=function(a,c){if(h.i.m.cd(c))return a.zb+c.height/2;if(h.i.m.hn(a))return a=a.zb+a.height-a.rk,h.i.m.xg(c)?a+c.height/2:a-c.height/2;if(h.i.m.on(a))return h.i.m.Nh(c)?a.ff-c.height/2:a.ff+c.height/2;var d=a.zb;h.i.m.Ee(c)||h.i.m.mj(c)?(d+=c.height/2,(a.Eq||a.Fb)&&c.height+this.o.Ct<=a.height&&(d+=this.o.Ct)):d=h.i.m.vg(c)?d+c.height/2:d+a.height/2;return d};
b.jp=function(){if(this.nj){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.ir=a,h.i.m.vB(e)&&(e.Fb&&Oc(this,e),c&&c.Fb&&e.width<c.width?e.ir=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.Fb?a=this.Ek(e):h.i.m.cd(e)?e.width=Math.max(a,e.ir):(a=Math.max(a,e.ir)-e.width,0<a&&Pc(e,a),a=e.width)}else h.Z.Jd.u.jp.call(this)};b.Ek=function(a){return this.nj&&a.Fb?this.Qg+this.o.zy+this.Cd:h.Z.Jd.u.Ek.call(this,a)};
b.Nu=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.zb=c;e.na=this.Cd;c+=e.height;a=Math.max(a,e.hd);var f=c-this.yb.Oi;e==this.gb&&f<this.o.Sj&&(f=this.o.Sj-f,this.gb.height+=f,c+=f);Qc(this,e)}this.O&&this.Ba.X&&this.Ba.X.isConnected()&&(a=Math.max(a,B(this.Ba.X.va()).width-this.o.Rb));this.gb.Kd=c-this.gb.rk;this.Tg=a+this.Cd+this.o.Rb;this.width+=this.o.Rb;this.height=c+this.o.Rb;this.Wn=this.yb.ff};h.Z.pc=function(a,c){h.Z.pc.u.constructor.call(this,a,c);this.Ce=new h.Z.Ws(c)};h.g.object.U(h.Z.pc,h.i.pc);b=h.Z.pc.prototype;b.draw=function(){Vc(this);Wc(this);Xc(this);var a=this.Ba.cb;a.Wr(this.Fa+"\n"+this.gn);var c=this.Ce;a.di.setAttribute("d",c.ea+"\n"+c.Kk);this.ma.K&&a.iq();h.i.Nl&&Tc(this.Ba.Pr,this.Ba,this.ma);Yc(this)};
b.cq=function(){var a=this.Ce,c=this.ma.yb;a.ea+=h.g.s.moveBy(c.na,a.ma.Wn);for(var d=0,e;e=c.elements[d];d++)h.i.m.Pk(e)?a.ea+=a.Zc.xt:h.i.m.wg(e)?a.ea+=a.yr.ks(a.Tb):h.i.m.qj(e)?a.ea+=a.TB.Hg:h.i.m.Nh(e)?a.ea+=a.XC.path(a.Tb):h.i.m.cd(e)&&0!=e.width&&(a.ea+=h.g.s.W("H",e.na+e.width-a.Hc));a.ea+=h.g.s.W("H",c.na+c.width-a.Hc);dd(this.Ce,this.ma.yb);h.Z.pc.u.cq.call(this)};b.vk=function(a){this.Ce.vk(a);h.Z.pc.u.vk.call(this,a)};
b.eq=function(a){var c=this.Ce,d=W(a);if(c.Tb){var e=a.height-d.Ti;c.ea+=h.g.s.moveTo(d.na+d.width-c.Hc,a.zb)+c.kl.Ad(c.Tb)+h.g.s.W("v",e)}else c.ea+=h.g.s.moveTo(d.na+d.width,a.zb)+c.kl.Ad(c.Tb);h.Z.pc.u.eq.call(this,a)};
b.bq=function(a){var c=this.Ce,d=W(a);if(c.Tb){var e=a.height-2*c.lj.height;c.ea+=h.g.s.moveTo(d.na,a.zb)+c.lj.Cr(c.Tb)+h.g.s.W("v",e)+c.lj.In(c.Tb)+h.g.s.lineTo(a.width-d.na-c.lj.width,0)}else c.ea+=h.g.s.moveTo(d.na,a.zb+a.height)+c.lj.In(c.Tb)+h.g.s.lineTo(a.width-d.na-c.lj.width,0);h.Z.pc.u.bq.call(this,a)};b.Lu=function(a){dd(this.Ce,a);this.Fa+=h.g.s.W("H",a.na+a.width)+h.g.s.W("V",a.zb+a.height)};
b.Zp=function(){var a=this.Ce,c=this.ma.gb;if(a.Tb)a.ea+=h.g.s.W("V",c.Kd-a.Hc);else{var d=a.ma.gb.elements[0];h.i.m.Pk(d)?a.ea+=h.g.s.moveTo(c.na+a.Hc,c.Kd-a.Hc):h.i.m.wg(d)&&(a.ea+=h.g.s.moveTo(c.na,c.Kd),a.ea+=a.yr.tp())}h.Z.pc.u.Zp.call(this)};
b.aq=function(){var a=this.Ce,c=a.ma.O;c&&(c=c.Xc+c.height,a.Tb?a.ea+=h.g.s.moveTo(a.ma.Cd,c):(a.ea+=h.g.s.moveTo(a.ma.Cd+a.Hc,a.ma.gb.Kd-a.Hc),a.ea+=h.g.s.W("V",c)),a.ea+=a.kl.fl(a.Tb));a.Tb||(c=a.ma.yb,a.ea=h.i.m.wg(c.elements[0])?a.ea+h.g.s.W("V",a.yr.height):a.ea+h.g.s.W("V",c.ff+a.Hc));h.Z.pc.u.aq.call(this)};
b.$p=function(a){var c=this.Ce,d=c.Hc,e=a.na+a.ve,f=a.hg-a.height/2,g=a.width-a.ve,k=f+d;if(c.Tb){f=a.Xc-d;var l=a.height-(a.Xc+a.Ti)+d;c.Kk+=h.g.s.moveTo(e-d,k)+h.g.s.W("v",f)+c.kl.Ad(c.Tb)+h.g.s.W("v",l)+h.g.s.W("h",g)}else c.Kk+=h.g.s.moveTo(a.na+a.width+d,k)+h.g.s.W("v",a.height)+h.g.s.W("h",-g)+h.g.s.moveTo(e,f+a.Xc)+c.kl.Ad(c.Tb);h.Z.pc.u.$p.call(this,a)};b.ow=function(a){var c=a.hg-a.height/2;if(a.dc){var d=a.na+a.ve+this.o.Rb;this.ma.K&&(d*=-1);P(a.dc,d,c+a.Xc+this.o.Rb)}};
b.qw=function(a){var c=W(a);if(c.dc){var d=a.na+a.Qg+c.yd;d=this.ma.K?-1*d:d+this.o.Rb;P(c.dc,d,a.zb+this.o.Rb)}};b.nw=function(a){var c=W(a);if(c.dc){var d=a.na+a.width+this.o.Rb;this.ma.K&&(d*=-1);P(c.dc,d,a.zb)}};b.pw=function(){var a=this.ma.gb;if(a.connection){var c=a.connection,d=c.na;P(c.dc,(this.ma.K?-d:d)+this.o.Rb/2,a.Kd+this.o.Rb)}};h.Z.Vs=function(a){this.Ui=a;this.OFFSET=.5;this.xt=h.g.s.moveBy(this.OFFSET,this.OFFSET)};b=h.Z.Vs.prototype;b.Va=function(){this.oy=ed(this);this.Jy=fd(this);this.To=this.Yq();this.Di=this.Xq();this.Bi=this.Wq();this.Hi=this.Zq()};
function ed(a){var c=a.Ui.ce;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c+a)-a,e=h.g.s.moveBy(d,d)+h.g.s.arc("a","0 0,0",c,h.g.s.Da(-d-a,c-d)),f=h.g.s.arc("a","0 0,0",c+a,h.g.s.Da(c+a,c+a)),g=h.g.s.moveBy(d,-d)+h.g.s.arc("a","0 0,0",c+a,h.g.s.Da(c-d,d+a));return{width:c+a,height:c,Cr:function(k){return k?e:""},In:function(k){return k?f:g}}}
function fd(a){var c=a.Ui.ce;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c-a)+a,e=h.g.s.moveBy(d,d)+h.g.s.arc("a","0 0,1",c-a,h.g.s.Da(c-d,-d+a)),f=h.g.s.moveBy(a,c)+h.g.s.arc("a","0 0,1",c-a,h.g.s.Da(c,-c+a)),g=-d,k=h.g.s.moveBy(d,g)+h.g.s.arc("a","0 0,1",c-a,h.g.s.Da(-d+a,-g-c));return{height:c,ks:function(l){return l?e:f},tp:function(){return k}}}
b.Yq=function(){var a=this.Ui.Zo,c=this.Ui.Zj,d=h.g.s.moveBy(-2,-c+3.4)+h.g.s.lineTo(-.45*a,-2.1),e=h.g.s.W("v",2.5)+h.g.s.moveBy(.97*-a,2.5)+h.g.s.curve("q",[h.g.s.Da(.05*-a,10),h.g.s.Da(.3*a,9.5)])+h.g.s.moveBy(.67*a,-1.9)+h.g.s.W("v",2.5),f=h.g.s.W("v",-1.5)+h.g.s.moveBy(-.92*a,-.5)+h.g.s.curve("q",[h.g.s.Da(-.19*a,-5.5),h.g.s.Da(0,-11)])+h.g.s.moveBy(.92*a,1),g=h.g.s.moveBy(-5,c-.7)+h.g.s.lineTo(.46*a,-2.1);return{width:a,height:c,fl:function(k){return k?d:f},Ad:function(k){return k?e:g}}};
b.Xq=function(){return{Hg:h.g.s.W("h",this.OFFSET)+this.Ui.Di.Hg}};b.Wq=function(){return{Hg:h.g.s.lineTo(5.1,2.6)+h.g.s.moveBy(-10.2,6.8)+h.g.s.lineTo(5.1,2.6),height:12,width:10.2}};b.Zq=function(){var a=this.Ui.Hi.height,c=h.g.s.moveBy(25,-8.7)+h.g.s.curve("c",[h.g.s.Da(29.7,-6.2),h.g.s.Da(57.2,-.5),h.g.s.Da(75,8.7)]),d=h.g.s.curve("c",[h.g.s.Da(17.8,-9.2),h.g.s.Da(45.3,-14.9),h.g.s.Da(75,-8.7)])+h.g.s.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};h.Z.Ye=function(a,c,d){this.bb=d;this.Le=a;this.Fl=h.g.j.L(h.g.F.Xe,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.Le);this.tb=h.g.j.L(h.g.F.Xe,{"class":"blocklyPath"},this.Le);this.di=h.g.j.L(h.g.F.Xe,{"class":"blocklyPathLight"},this.Le);this.Fp="#000000";this.style=c};h.g.object.U(h.Z.Ye,h.i.Ye);b=h.Z.Ye.prototype;b.Wr=function(a){this.tb.setAttribute("d",a);this.Fl.setAttribute("d",a)};
b.iq=function(){this.tb.setAttribute("transform","scale(-1 1)");this.di.setAttribute("transform","scale(-1 1)");this.Fl.setAttribute("transform","translate(1,1) scale(-1 1)")};b.Ub=function(a){this.di.style.display="";this.Fl.style.display="";this.di.setAttribute("stroke",this.style.Si);this.Fl.setAttribute("fill",this.Fp);h.Z.Ye.u.Ub.call(this,a);this.tb.setAttribute("stroke","none")};b.ci=function(a){this.style=a;this.Fp=h.g.hb.qp("#000",this.style.qh,.2)||this.Fp};
b.Ow=function(a){a?(this.tb.setAttribute("filter","url(#"+this.bb.Vm+")"),this.di.style.display="none"):(this.tb.setAttribute("filter","none"),this.di.style.display="inline")};b.Qw=function(a){a&&(this.di.style.display="none",this.Fl.setAttribute("fill",this.style.Fm),this.tb.setAttribute("stroke","none"),this.tb.setAttribute("fill",this.style.Fm))};b.os=function(a){h.Z.Ye.u.os.call(this,a);a&&this.tb.setAttribute("stroke","none")};h.Z.$e=function(a){h.Z.$e.u.constructor.call(this,a);this.Zc=null};h.g.object.U(h.Z.$e,h.i.$e);b=h.Z.$e.prototype;b.Va=function(a,c){h.Z.$e.u.Va.call(this,a,c);this.Zc=new h.Z.Vs(this.ba());this.Zc.Va()};b.Hr=function(a,c){h.Z.$e.u.Hr.call(this,a,c);this.Zc.Va()};b.Vq=function(){return new h.Z.Ve};b.Lv=function(a){return new h.Z.Jd(this,a)};b.Jv=function(a,c){return new h.Z.pc(a,c)};b.Kv=function(a,c){return new h.Z.Ye(a,c,this.ba())};h.i.register("geras",h.Z.$e);h.M.ADD_COMMENT="Add Comment";h.M.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";h.M.CLEAN_UP="Clean up Blocks";h.M.COLLAPSE_ALL="Collapse Blocks";h.M.COLLAPSE_BLOCK="Collapse Block";h.M.DELETE_ALL_BLOCKS="Delete all %1 blocks?";h.M.DELETE_BLOCK="Delete Block";h.M.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";h.M.DELETE_X_BLOCKS="Delete %1 Blocks";h.M.DISABLE_BLOCK="Disable Block";
h.M.DUPLICATE_BLOCK="Duplicate";h.M.DUPLICATE_COMMENT="Duplicate Comment";h.M.ENABLE_BLOCK="Enable Block";h.M.EXPAND_ALL="Expand Blocks";h.M.EXPAND_BLOCK="Expand Block";h.M.EXTERNAL_INPUTS="External Inputs";h.M.HELP="Help";h.M.INLINE_INPUTS="Inline Inputs";h.M.NEW_VARIABLE="Create variable...";h.M.NEW_VARIABLE_TITLE="New variable name:";h.M.PROCEDURES_DEFNORETURN_PROCEDURE="do something";h.M.REDO="Redo";h.M.REMOVE_COMMENT="Remove Comment";h.M.RENAME_VARIABLE="Rename variable...";
h.M.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";h.M.UNDO="Undo";h.M.UNNAMED_KEY="unnamed";h.M.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";h.M.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";h.M.WORKSPACE_ARIA_LABEL="Blockly Workspace";h.M.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";h.M.PROCEDURES_DEFRETURN_PROCEDURE=h.M.PROCEDURES_DEFNORETURN_PROCEDURE;var BlocklyStorage={},gd=null,hd=null;function id(){var a=gd();kd("xml="+encodeURIComponent(a))}var X={};function kd(a){var c=ld;X["/storage"]&&X["/storage"].abort();X["/storage"]=new XMLHttpRequest;X["/storage"].onload=function(){200===this.status?c&&c.call(this):md(V("Games_httpRequestError")+"\nXHR status: "+this.status);X["/storage"]=null};X["/storage"].open("POST","/storage");X["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");X["/storage"].send(a)}
function ld(){window.location.hash=this.responseText.trim();md(V("Games_linkAlert").replace("%1",window.location.href));hd=gd()}function md(a){if("object"===typeof Y){var c=document.getElementById("linkButton");Y.$C(c,a)}else alert(a)};var w=null,nd="";function od(){Hc();var a=document.getElementById("linkButton");a&&(Bc?a.style.display="none":(gd=pd,Mc(a,id)));(a=document.getElementById("languageMenu"))&&a.addEventListener("change",qd,!0)}function pd(){var a=h.I.oD();if(1==w.Vb(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return h.I.we(a)}function rd(){"object"==typeof BlocklyStorage&&null!==hd&&hd!=pd()&&(window.location.hash="",hd=null)}
function sd(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;w=h.sg("blockly",a);w.wf.push(rd)}function td(){window.location=(Bc?"index.html":"./")+"?lang="+zc}
function qd(){window.sessionStorage&&(window.sessionStorage.Iv=pd());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function ud(){10>U?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+zc+"&level="+(U+1):td()}function vd(){var a="".replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")};var Y={uf:!1,Eu:null,Om:null,xl:function(a,c,d,e,f,g){function k(){Y.uf&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);Y.uf&&Y.sf(!1);h.Ah()&&h.fc(!0);Y.uf=!0;Y.Eu=c;Y.Om=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),Y.Np=h.pp(e,"mousedown",null,Y.qA));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&c?(Y.tn(c,!1,.2),Y.tn(l,!0,.8),setTimeout(k,175)):k()},Fu:0,Gu:0,qA:function(a){Y.Qp();if(!h.g.Qk(a)){var c=document.getElementById("dialog");Y.Fu=c.offsetLeft-a.clientX;Y.Gu=c.offsetTop-a.clientY;Y.Pp=h.pp(document,"mouseup",null,Y.Qp);Y.Op=h.pp(document,"mousemove",null,Y.rA);a.stopPropagation()}},rA:function(a){var c=document.getElementById("dialog"),
d=Y.Fu+a.clientX;a=Y.Gu+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Qp:function(){Y.Pp&&(h.ns(Y.Pp),Y.Pp=null);Y.Op&&(h.ns(Y.Op),Y.Op=null)},sf:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(Y.uf){Y.Qp();Y.Np&&(h.ns(Y.Np),Y.Np=null);Y.uf=!1;Y.Om&&Y.Om();Y.Om=null;var d=!1===a?
null:Y.Eu;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(Y.tn(a,!1,.8),Y.tn(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},tn:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=
g.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),g=Y.KA(a);c?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},KA:function(a){var c=h.g.style.Bh(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},$C:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");Y.xl(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},Y.gs);Y.bs()},vz:function(){if(!Ic(U))if(Y.uf||w.ad())setTimeout(Y.vz,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",Y.sf,!0);c.addEventListener("touchend",Y.sf,!0);c=document.getElementById("abortOk");c.addEventListener("click",td,!0);c.addEventListener("touchend",td,
!0);Y.xl(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",Y.St,!0)});document.body.addEventListener("keydown",Y.St,!0)}},DG:function(){var a=document.getElementById("dialogDone");if(w){var c=document.getElementById("dialogLinesText");c.textContent="";var d=vd();var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");
f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?V("Games_linesOfCode1"):V("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d=10>U?V("Games_nextLevel").replace("%1",String(U+1)):V("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",Y.sf,!0);c.addEventListener("touchend",Y.sf,!0);c=document.getElementById("doneOk");c.addEventListener("click",ud,!0);c.addEventListener("touchend",
ud,!0);Y.xl(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",Y.lu,!0)});document.body.addEventListener("keydown",Y.lu,!0);document.getElementById("dialogDoneText").textContent=d},Du:function(a){!Y.uf||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(Y.sf(!0),a.stopPropagation(),a.preventDefault())},bs:function(){document.body.addEventListener("keydown",Y.Du,!0)},gs:function(){document.body.removeEventListener("keydown",Y.Du,!0)},lu:function(a){if(13==
a.keyCode||27==a.keyCode||32==a.keyCode)Y.sf(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&ud()},St:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)Y.sf(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&td()}};window.BlocklyDialogs=Y;Y.hideDialog=Y.sf;var wd=wd||{};function xd(a,c){function d(){}d.prototype=c.prototype;a.u=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.oG=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}}if(!yd){var yd,zd="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(zd=navigator.userAgent);var Ad=0==zd.indexOf("Opera");yd={pH:{xE:"ScriptEngine"in window},rF:Ad,Gd:!Ad&&-1!=zd.indexOf("MSIE"),Mt:!Ad&&-1!=zd.indexOf("WebKit")}}if(!Bd)var Bd={};
if(!Cd)var Cd={};if(!Dd)var Dd={};if(!Ed)var Ed={};if(!Fd)var Fd={};if(!Gd)var Gd={};var Hd=wd.vx?{BH:!0}:{},Id=wd.vx?{CH:!0}:{};function Jd(){throw Error("Do not instantiate directly");}Jd.prototype.su=null;Jd.prototype.toString=function(){return this.content};function Kd(a){if(null!=a)switch(a.su){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Ld(){Jd.call(this)}xd(Ld,Jd);Ld.prototype.tu=Hd;
function Z(a){return null!=a&&a.tu===Hd?a:Md(String(String(a)).replace(Nd,Od),Kd(a))}var Md=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.su=e);return f}}(Ld),Pd={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};
function Od(a){return Pd[a]}var Nd=/[\x00\x22\x26\x27\x3c\x3e]/g;function Qd(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function Rd(){var a={lang:zc,mB:Bc},c='<table width="100%"><tr><td><h1><span id="title">'+((a.mB?'<a href="index.html?lang='+Z(a.lang)+'">':'<a href="./?lang='+Z(a.lang)+'">')+"Blockly Games</a> : "+Z("Puzzle")+"</span>");if(a.level){for(var d=" &nbsp; ",e=a.HB+1,f=1;f<e;f++){var g="?lang="+Z(a.lang)+"&level="+Z(f);d+=" "+(f==a.level?'<span class="level_number level_done" id="level'+Z(f)+'">'+Z(f)+"</span>":f==a.HB?'<a class="level_number" id="level'+Z(f)+'" href="'+Z(g)+'">'+Z(f)+"</a>":'<a class="level_dot" id="level'+
Z(f)+'" href="'+Z(g)+'"></a>')}a=d}else a="";return'<div style="display: none"><span id="Puzzle_animal1">Duck</span><span id="Puzzle_animal1Pic">duck.jpg</span><span id="Puzzle_animal1PicHeight">70</span><span id="Puzzle_animal1PicWidth">100</span><span id="Puzzle_animal1Legs">&nbsp;&nbsp;2&nbsp;&nbsp;</span><span id="Puzzle_animal1Trait1">Feathers</span><span id="Puzzle_animal1Trait2">Beak</span><span id="Puzzle_animal1HelpUrl">https://en.wikipedia.org/wiki/Duck</span><span id="Puzzle_animal2">Cat</span><span id="Puzzle_animal2Pic">cat.jpg</span><span id="Puzzle_animal2PicHeight">70</span><span id="Puzzle_animal2PicWidth">100</span><span id="Puzzle_animal2Legs">&nbsp;&nbsp;4&nbsp;&nbsp;</span><span id="Puzzle_animal2Trait1">Whiskers</span><span id="Puzzle_animal2Trait2">Fur</span><span id="Puzzle_animal2HelpUrl">https://en.wikipedia.org/wiki/Cat</span><span id="Puzzle_animal3">Bee</span><span id="Puzzle_animal3Pic">bee.jpg</span><span id="Puzzle_animal3PicHeight">70</span><span id="Puzzle_animal3PicWidth">100</span><span id="Puzzle_animal3Legs">&nbsp;&nbsp;6&nbsp;&nbsp;</span><span id="Puzzle_animal3Trait1">Honey</span><span id="Puzzle_animal3Trait2">Stinger</span><span id="Puzzle_animal3HelpUrl">https://en.wikipedia.org/wiki/Bee</span><span id="Puzzle_animal4">Snail</span><span id="Puzzle_animal4Pic">snail.jpg</span><span id="Puzzle_animal4PicHeight">70</span><span id="Puzzle_animal4PicWidth">100</span><span id="Puzzle_animal4Legs">&nbsp;&nbsp;0&nbsp;&nbsp;</span><span id="Puzzle_animal4Trait1">Shell</span><span id="Puzzle_animal4Trait2">Slime</span><span id="Puzzle_animal4HelpUrl">https://en.wikipedia.org/wiki/Snail</span><span id="Puzzle_picture">picture:</span><span id="Puzzle_legs">legs:</span><span id="Puzzle_legsChoose">choose...</span><span id="Puzzle_traits">traits:</span><span id="Puzzle_error0">Perfect!\\nAll %1 blocks are correct.</span><span id="Puzzle_error1">Almost! One block is incorrect.</span><span id="Puzzle_error2">%1 blocks are incorrect.</span><span id="Puzzle_tryAgain">The highlighted block is not correct.\\nKeep trying.</span></div>'+
(c+a+'</h1></td><td id="header_cta" class="farSide"><select id="languageMenu"></select>&nbsp;<button id="helpButton">Help</button>&nbsp;'+('<button id="checkButton" class="primary">Check Answers</button>'.tu===Id?"zSoyz":'<button id="checkButton" class="primary">Check Answers</button>')+'</td></tr></table><div id="blockly"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">For each animal (green), attach its picture, choose its number of legs, and make a stack of its traits.</div><div id="sample" class="readonly"></div>')+
Qd()+'</div><div id="answers" class="dialogHiddenContent"><div id="answerMessage"></div><div id="graph"><div id="graphValue"></div></div>'+Qd()+"</div>"};h.eb=function(a,c,d){"function"!=typeof a&&h.eb.Sw(a);this.Zk=a;this.hs=this.Fr=this.Xm=null;a=this.Zk;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=h.g.Lc(g):(null!=g.alt&&(a[f][0].alt=h.g.Lc(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=h.g.Pa.Yr(e);g=h.g.Pa.Zz(e,f);var k=h.g.Pa.$z(e,f);!g&&!k||f<=g+k||(g&&(this.Fr=e[0].substring(0,g-1)),k&&(this.hs=e[0].substr(1-k)),this.Zk=h.eb.Fz(a,g,k))}}this.vj=this.getOptions(!1)[0];
h.eb.u.constructor.call(this,this.vj[1],c,d);this.Aj=this.od=this.yc=this.zc=this.ql=null};h.g.object.U(h.eb,h.jd);h.eb.aa=function(a){return new h.eb(a.options,void 0,a)};h.eb.prototype.Bk=function(a){Ia(this)&&this.getOptions(!1);this.setValue(a.textContent)};h.eb.prototype.vt=!0;h.eb.FD=25;h.eb.TE=.45;h.eb.ky=5;h.eb.ly=2*h.eb.ky;h.eb.ws=h.g.userAgent.Ql?"\u25bc":"\u25be";b=h.eb.prototype;b.Ij="default";
b.fn=function(){!this.ba().Rs||this.ba().Rs&&!this.J.Ja?vb(this):this.iu=this.J.Ca();wb(this);this.yc=h.g.j.L(h.g.F.Bo,{},this.Fc);this.ba().Vx?(this.Aj=h.g.j.L(h.g.F.Bo,{height:this.ba().Lj+"px",width:this.ba().Lj+"px"},this.Fc),this.Aj.setAttributeNS(h.g.j.nh,"xlink:href",this.ba().Wx)):(this.od=h.g.j.L(h.g.F.Ft,{},this.mc),this.od.appendChild(document.createTextNode(this.J.K?h.eb.ws+" ":" "+h.eb.ws)),this.J.K?this.mc.insertBefore(this.od,this.ei):this.mc.appendChild(this.od));this.Db&&h.g.j.Bb(this.Db,
"blocklyDropdownRect")};
b.Vn=function(a){var c=new h.Ko;c.Og(h.g.ob.km.vy);var d=this.getOptions(!1);this.ql=null;for(var e=0;e<d.length;e++){var f=d[e][0],g=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new h.Lo(f,g);f.Og(h.g.ob.km.Hy);f.Sr=this.J.K;f.Bp=!0;c.Vd.push(f);f.Cp=g==this.Oe;g==this.Oe&&(this.ql=f);Ob(f,this.eB,this)}this.zc=c;this.zc.xr=a&&"number"===typeof a.clientX?new h.g.R(a.clientX,a.clientY):null;this.zc.Ea(h.C.RA());h.g.j.Bb(this.zc.Ta,"blocklyDropdownMenu");
this.ba().Ux&&(a=this.J.Ja?this.J.getParent().pq():this.J.pq(),c=this.J.Ja?this.J.getParent().style.Si:this.J.style.Si,h.C.Ie(a,c));h.C.RC(this,this.xA.bind(this));this.zc.focus();this.ql&&this.zc.Df(this.ql);this.Ub()};b.xA=function(){this.zc&&this.zc.H();this.ql=this.zc=null;this.Ub()};b.eB=function(a){h.C.Jk(this,!0);this.setValue(a.getValue())};h.eb.Fz=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};
function Ia(a){return"function"==typeof a.Zk}b=h.eb.prototype;b.getOptions=function(a){return Ia(this)?(this.Xm&&a||(this.Xm=this.Zk.call(this),h.eb.Sw(this.Xm)),this.Xm):this.Zk};b.Sm=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.J&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.J.type+", Field name: "+this.name+", Value: "+a),null)};
b.tk=function(a){h.eb.u.tk.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.Oe&&(this.vj=d)};b.Ub=function(){this.Db&&(this.Db.setAttribute("stroke",this.J.style.Si),this.zc?this.Db.setAttribute("fill",this.J.style.Si):this.Db.setAttribute("fill","transparent"));this.J&&this.od&&(this.od.style.fill=this.J.Ja?this.J.style.Fm:this.J.style.qh)};
b.Or=function(){this.ei.nodeValue="";this.yc.style.display="none";var a=this.vj&&this.vj[0];if(a&&"object"==typeof a){this.yc.style.display="";this.yc.setAttributeNS(h.g.j.nh,"xlink:href",a.src);this.yc.setAttribute("height",a.height);this.yc.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.Db,e=Math.max(d?this.ba().Qs:0,c+h.eb.ly);d=d?this.ba().Kj:0;var f=this.Aj?Sd(this,a+d,e/2-this.ba().Lj/2):h.g.j.rq(this.od,this.ba().dh,this.ba().Pf,this.ba().Of);this.lc.width=
a+f+2*d;this.lc.height=e;var g=0;this.J.K?this.yc.setAttribute("x",d+f):(g=a+f,this.mc.setAttribute("text-anchor","end"),this.yc.setAttribute("x",d));this.yc.setAttribute("y",e/2-c/2);yb(this,g+d,a+f)}else this.ei.nodeValue=xb(this),h.g.j.Bb(this.mc,"blocklyDropdownText"),this.mc.setAttribute("text-anchor","start"),e=!!this.Db,c=Math.max(e?this.ba().Qs:0,this.ba().fm),a=h.g.j.rq(this.mc,this.ba().dh,this.ba().Pf,this.ba().Of),e=e?this.ba().Kj:0,d=0,this.Aj&&(d=Sd(this,a+e,c/2-this.ba().Lj/2)),this.lc.width=
a+d+2*e,this.lc.height=c,yb(this,e,a);zb(this)};function Sd(a,c,d){if(!a.Aj)return 0;var e=a.Db?a.ba().Kj:0,f=a.ba().Xx,g=a.ba().Lj;a.Aj.setAttribute("transform","translate("+(a.J.K?e:c+f)+","+d+")");return g+f}b.zq=function(){if(!this.vj)return null;var a=this.vj[0];return"object"==typeof a?a.alt:a};
h.eb.Sw=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};h.ng.register("field_dropdown",h.eb);h.Fd=function(a,c,d,e,f,g,k){if(!a)throw Error("Src value of an image field is required");a=h.g.Lc(a);d=Number(h.g.Lc(d));c=Number(h.g.Lc(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.Ak=!1;this.wm="";h.Fd.u.constructor.call(this,a,null,k);k||(this.Ak=!!g,this.wm=h.g.Lc(e)||"");this.lc=new h.g.Uc(c,d+h.Fd.qz);this.qB=d;this.hf=null;"function"==
typeof f&&(this.hf=f);this.yc=null};h.g.object.U(h.Fd,h.jd);h.Fd.prototype.so="";h.Fd.aa=function(a){return new h.Fd(a.src,a.width,a.height,void 0,void 0,void 0,a)};h.Fd.qz=1;b=h.Fd.prototype;b.Jj=!1;b.tg=!1;b.hk=function(a){h.Fd.u.hk.call(this,a);this.Ak=!!a.flipRtl;this.wm=h.g.Lc(a.alt)||""};b.fn=function(){this.yc=h.g.j.L(h.g.F.Bo,{height:this.qB+"px",width:this.lc.width+"px",alt:this.wm},this.Fc);this.yc.setAttributeNS(h.g.j.nh,"xlink:href",this.Oe);this.hf&&(this.yc.style.cursor="pointer")};
b.Rw=function(){};b.Sm=function(a){return"string"!=typeof a?null:a};b.tk=function(a){this.Oe=a;this.yc&&this.yc.setAttributeNS(h.g.j.nh,"xlink:href",String(this.Oe))};b.Vu=function(){return this.Ak};b.Vn=function(){this.hf&&this.hf(this)};b.zq=function(){return this.wm};h.ng.register("field_image",h.Fd);h.$b.animal={Va:function(){this.Ie(120);M(Ib(this),"","NAME");M(Eb(this.oh(h.Ia.oe,"PIC"),h.ts),V("Puzzle_picture"));M(M(Eb(Ib(this),h.ts),V("Puzzle_legs")),new h.eb(Td),"LEGS");M(this.oh(h.Ia.Tc,"TRAITS"),V("Puzzle_traits"));this.Mg(!1)},kc:function(){var a=document.createElement("mutation");a.setAttribute("animal",this.nd);return a},Yc:function(a){this.Yh(parseInt(a.getAttribute("animal"),10))},nd:0,Yh:function(a){this.nd=a;Gb(this,V("Puzzle_animal"+a));this.Eh=V("Puzzle_animal"+a+"HelpUrl")},Pq:function(){return Ha(this,
"LEGS")==this.nd}};h.$b.picture={Va:function(){this.Ie(30);Ib(this,"PIC");this.Qn(!0);this.Pg("")},kc:h.$b.animal.kc,Yc:h.$b.animal.Yc,nd:0,Yh:function(a){this.nd=a;var c="puzzle/"+V("Puzzle_animal"+a+"Pic"),d=V("Puzzle_animal"+a+"PicHeight");a=V("Puzzle_animal"+a+"PicWidth");M(fa(this,"PIC"),new h.Fd(c,a,d))},Pq:function(){var a=this.getParent();return a&&a.nd==this.nd}};
h.$b.trait={Va:function(){this.Ie(290);M(Ib(this),"","NAME");this.Sn(!0);this.Pn(!0)},kc:function(){var a=document.createElement("mutation");a.setAttribute("animal",this.nd);a.setAttribute("trait",this.Mw);return a},Yc:function(a){this.Yh(parseInt(a.getAttribute("animal"),10),parseInt(a.getAttribute("trait"),10))},nd:0,Mw:0,Yh:function(a,c){this.nd=a;this.Mw=c;Gb(this,V("Puzzle_animal"+a+"Trait"+c))},Pq:function(){var a=Fb(this);return a&&a.nd==this.nd}};var Kc="puzzle";function Ud(a){for(var c=a.length-1;0<c;c--){var d=Math.floor(Math.random()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}}function Td(){for(var a=[[V("Puzzle_legsChoose"),"0"]],c=1,d;d=Lc("Puzzle_animal"+c+"Legs");)a[c]=[d,String(c)],c++;a.sort(function(e,f){return e[0]-f[0]});return a}
function Vd(){for(var a=L(w),c=0,d=[],e=0,f;f=a[e];e++)f.Pq()||(c++,f.select(),d.push(f));var g=document.getElementById("graphValue");setTimeout(function(){g.style.width=100*(a.length-c)/a.length+"px"},500);1==c?e=[V("Puzzle_error1"),V("Puzzle_tryAgain")]:c?e=[V("Puzzle_error2").replace("%1",c),V("Puzzle_tryAgain")]:(e=[V("Puzzle_error0").replace("%1",a.length)],nd=pd(),window.localStorage&&(window.localStorage[Kc+U]=nd));f=document.getElementById("answerMessage");f.textContent="";for(var k=0;k<e.length;k++){var l=
document.createElement("div");l.appendChild(document.createTextNode(e[k]));f.appendChild(l)}e=document.getElementById("answers");f=document.getElementById("checkButton");Y.xl(e,f,!0,!0,{width:"25%",left:Cc()?"5%":"70%",top:"5em"},c?Y.gs:td);Y.bs();if(d.length){Ud(d);var m=d[0],n=function(){m.select();Y.uf&&(setTimeout(function(){ob(m)},150),setTimeout(n,300))};n()}else setTimeout(Wd,2E3),h.selected&&ob(h.selected)}
function Wd(){w.pe.play("win",.5);w.options.Wb.wh=!0;for(var a=w.Vb(!1),c=0,d;d=a[c];c++)Xd(d,c/a.length*360)}
function Xd(a,c){if(Y.uf){var d=w.ze(),e=d.oc/2,f=d.Zb/2,g=B(a);d=a.$a();Cc()&&(d.x-=g.width);var k=Math.max(175,Math.min(e,f)-Math.max(g.height,g.width)/2),l=Date.now(),m=c+l/50%360;k*=Math.sin(l%5E3/5E3*2*Math.PI)/8+.875;f=k*Math.cos(h.g.jc.gi(m))+f-g.width/2;g=k*Math.sin(h.g.jc.gi(m))+e-g.height/2;5>Math.sqrt(Math.pow(f-d.x,2)+Math.pow(g-d.y,2))?(e=f-d.x,d=g-d.y):(d=h.g.jc.dD(Math.atan2(g-d.y,f-d.x)),d%=360,0>d&&(d+=360),e=Math.round(5*Math.cos(h.g.jc.gi(d))),d=Math.round(5*Math.sin(h.g.jc.gi(d))));
a.moveBy(e,d);setTimeout(Xd.bind(null,a,c),50)}}
function Yd(a){var c='<xml>;<block type="animal" x="5" y="5">;<mutation animal="1"></mutation>;<title name="LEGS">1</title>;<value name="PIC">;<block type="picture">;<mutation animal="1"></mutation>;</block>;</value>;<statement name="TRAITS">;<block type="trait">;<mutation animal="1" trait="2"></mutation>;<next>;<block type="trait">;<mutation animal="1" trait="1"></mutation>;</block>;</next>;</block>;</statement>;</block>;</xml>'.split(";"),d=document.getElementById("sample");d.firstChild||(d=h.sg(d,
{rtl:Cc(),readOnly:!0}),"string"!=typeof c&&(c=c.join("")),h.I.mg(h.I.Ne(c),d));c=document.getElementById("help");d=document.getElementById("helpButton");Y.xl(c,d,a,!0,{width:"50%",left:"25%",top:"5em"},Y.gs);Y.bs()}
window.addEventListener("load",function(){function a(){d.style.width=window.innerWidth-20+"px";d.style.height=window.innerHeight-d.offsetTop-15+"px"}document.body.innerHTML=Rd();od();var c=Cc(),d=document.getElementById("blockly");a(null);window.addEventListener("resize",a);sd({rtl:c,scrollbars:!1,trashcan:!1});var e=Ic(U);try{var f=window.sessionStorage.Iv}catch(t){f=null}if(f)delete window.sessionStorage.Iv,c=h.I.Ne(f),h.I.mg(c,w);else if(e)c=h.I.Ne(e),h.I.mg(c,w);else{var g=[],k=[],l=[];f=1;for(var m;Lc("Puzzle_animal"+
f);){m=w.tj("animal");m.Yh(f);g.push(m);m=w.tj("picture");m.Yh(f);k.push(m);for(var n=1;Lc("Puzzle_animal"+f+"Trait"+n);)m=w.tj("trait"),m.Yh(f,n),l.push(m),n++;f++}Ud(g);Ud(k);Ud(l);g=[].concat(g,k,l);c&&g.reverse();for(f=0;m=g[f];f++)m.Mp=!1,m.Jh(),m.Ea();for(f=k=0;m=g[f];f++)l=m.Ca().getBBox(),m.vG=l.width,m.uG=l.height,m.bu=l.width*l.height,k+=m.bu;h.Gl(w);n=lc(w);n.width-=50;n.height-=50;var r=0;for(f=0;m=g[f];f++){l=m.Ca().getBBox();var q=c?l.width+r/k*n.width:r/k*(n.width-l.width);q=Math.round(q+
50*Math.random());m.moveBy(q,Math.round(Math.random()*(n.height-l.height)));r+=m.bu}}eb();Mc("checkButton",Vd);Mc("helpButton",function(){Yd(!0)});e||Yd(!1);h.ac*=2;h.Gs=h.ac;w.pe.load(["puzzle/win.mp3","puzzle/win.ogg"],"win")});

